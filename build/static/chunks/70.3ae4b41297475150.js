(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{2790:function(u){"use strict";function g(u,g){for(var E=Array(arguments.length-1),A=0,C=2,S=!0;C<arguments.length;)E[A++]=arguments[C++];return new Promise(function(C,U){E[A]=function(u){if(S){if(S=!1,u)U(u);else{for(var g=Array(arguments.length-1),E=0;E<g.length;)g[E++]=arguments[E];C.apply(null,g)}}};try{u.apply(g||null,E)}catch(u){S&&(S=!1,U(u))}})}u.exports=g},4081:function(u,g){"use strict";var E=g;E.length=function(u){var g=u.length;if(!g)return 0;for(var E=0;--g%4>1&&"="===u.charAt(g);)++E;return Math.ceil(3*u.length)/4-E};for(var A=Array(64),C=Array(123),S=0;S<64;)C[A[S]=S<26?S+65:S<52?S+71:S<62?S-4:S-59|43]=S++;E.encode=function(u,g,E){for(var C,S=null,U=[],P=0,T=0;g<E;){var I=u[g++];switch(T){case 0:U[P++]=A[I>>2],C=(3&I)<<4,T=1;break;case 1:U[P++]=A[C|I>>4],C=(15&I)<<2,T=2;break;case 2:U[P++]=A[C|I>>6],U[P++]=A[63&I],T=0}P>8191&&((S||(S=[])).push(String.fromCharCode.apply(String,U)),P=0)}return(T&&(U[P++]=A[C],U[P++]=61,1===T&&(U[P++]=61)),S)?(P&&S.push(String.fromCharCode.apply(String,U.slice(0,P))),S.join("")):String.fromCharCode.apply(String,U.slice(0,P))};var U="invalid encoding";E.decode=function(u,g,E){for(var A,S=E,P=0,T=0;T<u.length;){var I=u.charCodeAt(T++);if(61===I&&P>1)break;if(void 0===(I=C[I]))throw Error(U);switch(P){case 0:A=I,P=1;break;case 1:g[E++]=A<<2|(48&I)>>4,A=I,P=2;break;case 2:g[E++]=(15&A)<<4|(60&I)>>2,A=I,P=3;break;case 3:g[E++]=(3&A)<<6|I,P=0}}if(1===P)throw Error(U);return E-S},E.test=function(u){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(u)}},5074:function(u){"use strict";function g(){this._listeners={}}u.exports=g,g.prototype.on=function(u,g,E){return(this._listeners[u]||(this._listeners[u]=[])).push({fn:g,ctx:E||this}),this},g.prototype.off=function(u,g){if(void 0===u)this._listeners={};else if(void 0===g)this._listeners[u]=[];else for(var E=this._listeners[u],A=0;A<E.length;)E[A].fn===g?E.splice(A,1):++A;return this},g.prototype.emit=function(u){var g=this._listeners[u];if(g){for(var E=[],A=1;A<arguments.length;)E.push(arguments[A++]);for(A=0;A<g.length;)g[A].fn.apply(g[A++].ctx,E)}return this}},3383:function(u){"use strict";function g(u){return"undefined"!=typeof Float32Array?function(){var g=new Float32Array([-0]),E=new Uint8Array(g.buffer),A=128===E[3];function C(u,A,C){g[0]=u,A[C]=E[0],A[C+1]=E[1],A[C+2]=E[2],A[C+3]=E[3]}function S(u,A,C){g[0]=u,A[C]=E[3],A[C+1]=E[2],A[C+2]=E[1],A[C+3]=E[0]}function U(u,A){return E[0]=u[A],E[1]=u[A+1],E[2]=u[A+2],E[3]=u[A+3],g[0]}function P(u,A){return E[3]=u[A],E[2]=u[A+1],E[1]=u[A+2],E[0]=u[A+3],g[0]}u.writeFloatLE=A?C:S,u.writeFloatBE=A?S:C,u.readFloatLE=A?U:P,u.readFloatBE=A?P:U}():function(){function g(u,g,E,A){var C=g<0?1:0;if(C&&(g=-g),0===g)u(1/g>0?0:2147483648,E,A);else if(isNaN(g))u(2143289344,E,A);else if(g>34028234663852886e22)u((C<<31|2139095040)>>>0,E,A);else if(g<11754943508222875e-54)u((C<<31|Math.round(g/1401298464324817e-60))>>>0,E,A);else{var S=Math.floor(Math.log(g)/Math.LN2),U=8388607&Math.round(g*Math.pow(2,-S)*8388608);u((C<<31|S+127<<23|U)>>>0,E,A)}}function U(u,g,E){var A=u(g,E),C=(A>>31)*2+1,S=A>>>23&255,U=8388607&A;return 255===S?U?NaN:C*(1/0):0===S?1401298464324817e-60*C*U:C*Math.pow(2,S-150)*(U+8388608)}u.writeFloatLE=g.bind(null,E),u.writeFloatBE=g.bind(null,A),u.readFloatLE=U.bind(null,C),u.readFloatBE=U.bind(null,S)}(),"undefined"!=typeof Float64Array?function(){var g=new Float64Array([-0]),E=new Uint8Array(g.buffer),A=128===E[7];function C(u,A,C){g[0]=u,A[C]=E[0],A[C+1]=E[1],A[C+2]=E[2],A[C+3]=E[3],A[C+4]=E[4],A[C+5]=E[5],A[C+6]=E[6],A[C+7]=E[7]}function S(u,A,C){g[0]=u,A[C]=E[7],A[C+1]=E[6],A[C+2]=E[5],A[C+3]=E[4],A[C+4]=E[3],A[C+5]=E[2],A[C+6]=E[1],A[C+7]=E[0]}function U(u,A){return E[0]=u[A],E[1]=u[A+1],E[2]=u[A+2],E[3]=u[A+3],E[4]=u[A+4],E[5]=u[A+5],E[6]=u[A+6],E[7]=u[A+7],g[0]}function P(u,A){return E[7]=u[A],E[6]=u[A+1],E[5]=u[A+2],E[4]=u[A+3],E[3]=u[A+4],E[2]=u[A+5],E[1]=u[A+6],E[0]=u[A+7],g[0]}u.writeDoubleLE=A?C:S,u.writeDoubleBE=A?S:C,u.readDoubleLE=A?U:P,u.readDoubleBE=A?P:U}():function(){function g(u,g,E,A,C,S){var U,P=A<0?1:0;if(P&&(A=-A),0===A)u(0,C,S+g),u(1/A>0?0:2147483648,C,S+E);else if(isNaN(A))u(0,C,S+g),u(2146959360,C,S+E);else if(A>17976931348623157e292)u(0,C,S+g),u((P<<31|2146435072)>>>0,C,S+E);else if(A<22250738585072014e-324)u((U=A/5e-324)>>>0,C,S+g),u((P<<31|U/4294967296)>>>0,C,S+E);else{var T=Math.floor(Math.log(A)/Math.LN2);1024===T&&(T=1023),u(4503599627370496*(U=A*Math.pow(2,-T))>>>0,C,S+g),u((P<<31|T+1023<<20|1048576*U&1048575)>>>0,C,S+E)}}function U(u,g,E,A,C){var S=u(A,C+g),U=u(A,C+E),P=(U>>31)*2+1,T=U>>>20&2047,I=4294967296*(1048575&U)+S;return 2047===T?I?NaN:P*(1/0):0===T?5e-324*P*I:P*Math.pow(2,T-1075)*(I+4503599627370496)}u.writeDoubleLE=g.bind(null,E,0,4),u.writeDoubleBE=g.bind(null,A,4,0),u.readDoubleLE=U.bind(null,C,0,4),u.readDoubleBE=U.bind(null,S,4,0)}(),u}function E(u,g,E){g[E]=255&u,g[E+1]=u>>>8&255,g[E+2]=u>>>16&255,g[E+3]=u>>>24}function A(u,g,E){g[E]=u>>>24,g[E+1]=u>>>16&255,g[E+2]=u>>>8&255,g[E+3]=255&u}function C(u,g){return(u[g]|u[g+1]<<8|u[g+2]<<16|u[g+3]<<24)>>>0}function S(u,g){return(u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3])>>>0}u.exports=g(g)},4962:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},3505:function(u){"use strict";function g(u,g,E){var A=E||8192,C=A>>>1,S=null,U=A;return function(E){if(E<1||E>C)return u(E);U+E>A&&(S=u(A),U=0);var P=g.call(S,U,U+=E);return 7&U&&(U=(7|U)+1),P}}u.exports=g},6503:function(u,g){"use strict";var E=g;E.length=function(u){for(var g=0,E=0,A=0;A<u.length;++A)(E=u.charCodeAt(A))<128?g+=1:E<2048?g+=2:(64512&E)==55296&&(64512&u.charCodeAt(A+1))==56320?(++A,g+=4):g+=3;return g},E.read=function(u,g,E){if(E-g<1)return"";for(var A,C=null,S=[],U=0;g<E;)(A=u[g++])<128?S[U++]=A:A>191&&A<224?S[U++]=(31&A)<<6|63&u[g++]:A>239&&A<365?(A=((7&A)<<18|(63&u[g++])<<12|(63&u[g++])<<6|63&u[g++])-65536,S[U++]=55296+(A>>10),S[U++]=56320+(1023&A)):S[U++]=(15&A)<<12|(63&u[g++])<<6|63&u[g++],U>8191&&((C||(C=[])).push(String.fromCharCode.apply(String,S)),U=0);return C?(U&&C.push(String.fromCharCode.apply(String,S.slice(0,U))),C.join("")):String.fromCharCode.apply(String,S.slice(0,U))},E.write=function(u,g,E){for(var A,C,S=E,U=0;U<u.length;++U)(A=u.charCodeAt(U))<128?g[E++]=A:(A<2048?g[E++]=A>>6|192:((64512&A)==55296&&(64512&(C=u.charCodeAt(U+1)))==56320?(A=65536+((1023&A)<<10)+(1023&C),++U,g[E++]=A>>18|240,g[E++]=A>>12&63|128):g[E++]=A>>12|224,g[E++]=A>>6&63|128),g[E++]=63&A|128);return E-S}},4579:function(u){function g(u){let g=new globalThis.AbortController;function E(){for(let A of(g.abort(),u))A&&A.removeEventListener&&A.removeEventListener("abort",E)}for(let g of u)if(g&&g.addEventListener){if(g.aborted){E();break}g.addEventListener("abort",E)}return g.signal}u.exports=g,u.exports.anySignal=g},6822:function(u){var g=1e3,E=6e4,A=36e5,C=864e5,S=6048e5,U=315576e5;function P(u){if(!((u=String(u)).length>100)){var P=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(P){var T=parseFloat(P[1]);switch((P[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return T*U;case"weeks":case"week":case"w":return T*S;case"days":case"day":case"d":return T*C;case"hours":case"hour":case"hrs":case"hr":case"h":return T*A;case"minutes":case"minute":case"mins":case"min":case"m":return T*E;case"seconds":case"second":case"secs":case"sec":case"s":return T*g;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return T;default:return}}}}function T(u){var S=Math.abs(u);return S>=C?Math.round(u/C)+"d":S>=A?Math.round(u/A)+"h":S>=E?Math.round(u/E)+"m":S>=g?Math.round(u/g)+"s":u+"ms"}function I(u){var S=Math.abs(u);return S>=C?N(u,S,C,"day"):S>=A?N(u,S,A,"hour"):S>=E?N(u,S,E,"minute"):S>=g?N(u,S,g,"second"):u+" ms"}function N(u,g,E,A){var C=g>=1.5*E;return Math.round(u/E)+" "+A+(C?"s":"")}u.exports=function(u,g){g=g||{};var E=typeof u;if("string"===E&&u.length>0)return P(u);if("number"===E&&isFinite(u))return g.long?I(u):T(u);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))}},4461:function(u,g,E){var A=E(5566);function C(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function S(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;let E="color: "+this.color;g.splice(1,0,E,"color: inherit");let A=0,C=0;g[0].replace(/%[a-zA-Z%]/g,u=>{"%%"!==u&&(A++,"%c"===u&&(C=A))}),g.splice(C,0,E)}function U(u){try{u?g.storage.setItem("debug",u):g.storage.removeItem("debug")}catch(u){}}function P(){let u;try{u=g.storage.getItem("debug")}catch(u){}return!u&&void 0!==A&&"env"in A&&(u=A.env.DEBUG),u}function T(){try{return localStorage}catch(u){}}g.formatArgs=S,g.save=U,g.load=P,g.useColors=C,g.storage=T(),g.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),g.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],g.log=console.debug||console.log||(()=>{}),u.exports=E(4239)(g);let{formatters:I}=u.exports;I.j=function(u){try{return JSON.stringify(u)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}},4239:function(u,g,E){function A(u){function g(u){let g=0;for(let E=0;E<u.length;E++)g=(g<<5)-g+u.charCodeAt(E)|0;return A.colors[Math.abs(g)%A.colors.length]}function A(u){let g,E,S;let U=null;function P(...u){if(!P.enabled)return;let E=P,C=Number(new Date),S=C-(g||C);E.diff=S,E.prev=g,E.curr=C,g=C,u[0]=A.coerce(u[0]),"string"!=typeof u[0]&&u.unshift("%O");let U=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,(g,C)=>{if("%%"===g)return"%";U++;let S=A.formatters[C];if("function"==typeof S){let A=u[U];g=S.call(E,A),u.splice(U,1),U--}return g}),A.formatArgs.call(E,u);let T=E.log||A.log;T.apply(E,u)}return P.namespace=u,P.useColors=A.useColors(),P.color=A.selectColor(u),P.extend=C,P.destroy=A.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==U?U:(E!==A.namespaces&&(E=A.namespaces,S=A.enabled(u)),S),set:u=>{U=u}}),"function"==typeof A.init&&A.init(P),P}function C(u,g){let E=A(this.namespace+(void 0===g?":":g)+u);return E.log=this.log,E}function S(u){let g;A.save(u),A.namespaces=u,A.names=[],A.skips=[];let E=("string"==typeof u?u:"").split(/[\s,]+/),C=E.length;for(g=0;g<C;g++)E[g]&&("-"===(u=E[g].replace(/\*/g,".*?"))[0]?A.skips.push(RegExp("^"+u.slice(1)+"$")):A.names.push(RegExp("^"+u+"$")))}function U(){let u=[...A.names.map(T),...A.skips.map(T).map(u=>"-"+u)].join(",");return A.enable(""),u}function P(u){let g,E;if("*"===u[u.length-1])return!0;for(g=0,E=A.skips.length;g<E;g++)if(A.skips[g].test(u))return!1;for(g=0,E=A.names.length;g<E;g++)if(A.names[g].test(u))return!0;return!1}function T(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function I(u){return u instanceof Error?u.stack||u.message:u}function N(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return A.debug=A,A.default=A,A.coerce=I,A.disable=U,A.enable=S,A.enabled=P,A.humanize=E(6822),A.destroy=N,Object.keys(u).forEach(g=>{A[g]=u[g]}),A.names=[],A.skips=[],A.formatters={},A.selectColor=g,A.enable(A.load()),A}u.exports=A},2594:function(u){"use strict";function g(u,g){for(let E in g)Object.defineProperty(u,E,{value:g[E],enumerable:!0,configurable:!0});return u}function E(u,E,A){if(!u||"string"==typeof u)throw TypeError("Please pass an Error to err-code");A||(A={}),"object"==typeof E&&(A=E,E=""),E&&(A.code=E);try{return g(u,A)}catch(S){A.message=u.message,A.stack=u.stack;let E=function(){};E.prototype=Object.create(Object.getPrototypeOf(u));let C=g(new E,A);return C}}u.exports=E},1647:function(u){"use strict";async function*g(u,g={}){let E=u.getReader();try{for(;;){let u=await E.read();if(u.done)return;yield u.value}}finally{!0!==g.preventCancel&&E.cancel(),E.releaseLock()}}u.exports=g},3924:function(u,g,E){"use strict";var A=E(5566);let C=E(9598),S="object"==typeof window&&"object"==typeof document&&9===document.nodeType,U=C(),P=S&&!U,T=U&&!S,I=U&&S,N=void 0!==A&&void 0!==A.release&&"node"===A.release.name&&!U,$="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,D=void 0!==A&&void 0!==A.env&&!1,B="undefined"!=typeof navigator&&"ReactNative"===navigator.product;u.exports={isTest:D,isElectron:U,isElectronMain:T,isElectronRenderer:I,isNode:N,isBrowser:P,isWebWorker:$,isEnvWithDom:S,isReactNative:B}},4655:function(u,g,E){"use strict";u.exports=E(6306)},9169:function(u,g,E){"use strict";let A=E(9605),C=(u,g)=>({path:decodeURIComponent(new URL(u).pathname.split("/").pop()||""),content:S(u,g)});async function*S(u,g){let E=new A,C=await E.get(u,g);yield*C.iterator()}u.exports=C},9605:function(u,g,E){"use strict";let{fetch:A,Request:C,Headers:S}=E(3131),{TimeoutError:U,HTTPError:P}=E(4959),T=E(3498).bind({ignoreUndefined:!0}),{URL:I,URLSearchParams:N}=E(2543),$=E(4579),D=E(1647),{isBrowser:B,isWebWorker:L}=E(3924),O=E(7773),z=(u,g,E)=>{if(void 0===g)return u;let A=Date.now(),C=()=>{let u=Date.now()-A;return u>=g};return new Promise((A,S)=>{let P=setTimeout(()=>{C()&&(S(new U),E.abort())},g),T=u=>{let g=g=>{if(clearTimeout(P),C()){S(new U);return}u(g)};return g};u.then(T(A),T(S))})},R={throwHttpErrors:!0,credentials:"same-origin"};class F{constructor(u={}){this.opts=T(R,u)}async fetch(u,g={}){let E=T(this.opts,g),U=new S(E.headers);if("string"!=typeof u&&!(u instanceof I||u instanceof C))throw TypeError("`resource` must be a string, URL, or Request");let R=new I(u.toString(),E.base),{searchParams:F,transformSearchParams:q,json:J}=E;F&&("function"==typeof q?R.search=q(new N(E.searchParams)):R.search=new N(E.searchParams)),J&&(E.body=JSON.stringify(E.json),U.set("content-type","application/json"));let W=new AbortController,G=$([W.signal,E.signal]);null!=globalThis.ReadableStream&&E.body instanceof globalThis.ReadableStream&&(B||L)&&(E.body=new Blob(await O(D(E.body))));let K=await z(A(R.toString(),{...E,signal:G,timeout:void 0,headers:U,duplex:"half"}),E.timeout,W);if(!K.ok&&E.throwHttpErrors)throw E.handleError&&await E.handleError(K),new P(K);return K.iterator=async function*(){yield*H(K.body)},K.ndjson=async function*(){for await(let u of M(K.iterator()))g.transform?yield g.transform(u):yield u},K}post(u,g={}){return this.fetch(u,{...g,method:"POST"})}get(u,g={}){return this.fetch(u,{...g,method:"GET"})}put(u,g={}){return this.fetch(u,{...g,method:"PUT"})}delete(u,g={}){return this.fetch(u,{...g,method:"DELETE"})}options(u,g={}){return this.fetch(u,{...g,method:"OPTIONS"})}}let M=async function*(u){let g=new TextDecoder,E="";for await(let A of u){E+=g.decode(A,{stream:!0});let u=E.split(/\r?\n/);for(let g=0;g<u.length-1;g++){let E=u[g].trim();E.length>0&&(yield JSON.parse(E))}E=u[u.length-1]}E+=g.decode(),0!==(E=E.trim()).length&&(yield JSON.parse(E))},H=u=>{if(q(u))return u;if(W(u)){let g=u[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:g.next.bind(g),return:E=>(u.destroy(),"function"==typeof g.return)?g.return():Promise.resolve({done:!0,value:E})})}}if(J(u)){let g=u.getReader();return async function*(){try{for(;;){let{done:u,value:E}=await g.read();if(u)return;E&&(yield E)}}finally{g.releaseLock()}}()}throw TypeError("Body can't be converted to AsyncIterable")},q=u=>"object"==typeof u&&null!==u&&"function"==typeof u[Symbol.asyncIterator],J=u=>u&&"function"==typeof u.getReader,W=u=>Object.prototype.hasOwnProperty.call(u,"readable")&&Object.prototype.hasOwnProperty.call(u,"writable");F.HTTPError=P,F.TimeoutError=U,F.streamToAsyncIterator=H,F.post=(u,g)=>new F(g).post(u,g),F.get=(u,g)=>new F(g).get(u,g),F.put=(u,g)=>new F(g).put(u,g),F.delete=(u,g)=>new F(g).delete(u,g),F.options=(u,g)=>new F(g).options(u,g),u.exports=F},4959:function(u,g){"use strict";class E extends Error{constructor(u="Request timed out"){super(u),this.name="TimeoutError"}}g.TimeoutError=E;class A extends Error{constructor(u="The operation was aborted."){super(u),this.name="AbortError"}}g.AbortError=A;class C extends Error{constructor(u){super(u.statusText),this.name="HTTPError",this.response=u}}g.HTTPError=C},3131:function(u,g,E){"use strict";let{TimeoutError:A,AbortError:C}=E(4959),{Response:S,Request:U,Headers:P,default:T}=E(4655),I=(u,g={})=>{let E=new XMLHttpRequest;E.open(g.method||"GET",u.toString(),!0);let{timeout:U,headers:T}=g;if(U&&U>0&&U<1/0&&(E.timeout=U),null!=g.overrideMimeType&&E.overrideMimeType(g.overrideMimeType),T)for(let[u,g]of new P(T))E.setRequestHeader(u,g);return g.signal&&(g.signal.onabort=()=>E.abort()),g.onUploadProgress&&(E.upload.onprogress=g.onUploadProgress),E.responseType="arraybuffer",new Promise((u,U)=>{let P=g=>{switch(g.type){case"error":u(S.error());break;case"load":u(new B(E.responseURL,E.response,{status:E.status,statusText:E.statusText,headers:D(E.getAllResponseHeaders())}));break;case"timeout":U(new A);break;case"abort":U(new C)}};E.onerror=P,E.onload=P,E.ontimeout=P,E.onabort=P,E.send(g.body)})},N=T,$=(u,g={})=>null!=g.onUploadProgress?I(u,g):N(u,g),D=u=>{let g=new P;for(let E of u.trim().split(/[\r\n]+/)){let u=E.indexOf(": ");u>0&&g.set(E.slice(0,u),E.slice(u+1))}return g};class B extends S{constructor(u,g,E){super(g,E),Object.defineProperty(this,"url",{value:u})}}u.exports={fetch:$,Request:U,Headers:P}},9598:function(u,g,E){var A=E(5566);function C(){return!!("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||void 0!==A&&"object"==typeof A.versions&&A.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}u.exports=C},361:function(u){"use strict";u.exports=u=>{if("[object Object]"!==Object.prototype.toString.call(u))return!1;let g=Object.getPrototypeOf(u);return null===g||g===Object.prototype}},2543:function(u,g,E){"use strict";let{URLWithLegacySupport:A,format:C,URLSearchParams:S,defaultBase:U}=E(8608),P=E(8016);u.exports={URL:A,URLSearchParams:S,format:C,relative:P,defaultBase:U}},8016:function(u,g,E){"use strict";let{URLWithLegacySupport:A,format:C}=E(8608);u.exports=(u,g={},E={},S)=>{let U,P=g.protocol?g.protocol.replace(":",""):"http";P=(E[P]||S||P)+":";try{U=new A(u)}catch(u){U={}}let T=Object.assign({},g,{protocol:P||U.protocol,host:g.host||U.host});return new A(u,C(T)).toString()}},8608:function(u){"use strict";let g="undefined"!=typeof navigator&&"ReactNative"===navigator.product;function E(){return g?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}let A=self.URL,C=E();class S{constructor(u="",g=C){this.super=new A(u,g),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(u){this.super.hash=u}set host(u){this.super.host=u}set hostname(u){this.super.hostname=u}set href(u){this.super.href=u}set password(u){this.super.password=u}set pathname(u){this.super.pathname=u}set port(u){this.super.port=u}set protocol(u){this.super.protocol=u}set search(u){this.super.search=u}set username(u){this.super.username=u}static createObjectURL(u){return A.createObjectURL(u)}static revokeObjectURL(u){A.revokeObjectURL(u)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function U(u){if("string"==typeof u){let g=new A(u);return g.toString()}if(!(u instanceof A)){let g=u.username&&u.password?`${u.username}:${u.password}@`:"",E=u.auth?u.auth+"@":"",A=u.port?":"+u.port:"",C=u.protocol?u.protocol+"//":"",S=u.host||"",U=u.hostname||"",P=u.search||(u.query?"?"+u.query:""),T=u.hash||"",I=u.pathname||"",N=u.path||I+P;return`${C}${g||E}${S||U+A}${N}${T}`}}u.exports={URLWithLegacySupport:S,URLSearchParams:self.URLSearchParams,defaultBase:C,format:U}},7773:function(u){"use strict";let g=async u=>{let g=[];for await(let E of u)g.push(E);return g};u.exports=g},3498:function(u,g,E){"use strict";let A=E(361),{hasOwnProperty:C}=Object.prototype,{propertyIsEnumerable:S}=Object,U=(u,g,E)=>Object.defineProperty(u,g,{value:E,writable:!0,enumerable:!0,configurable:!0}),P=this,T={concatArrays:!1,ignoreUndefined:!1},I=u=>{let g=[];for(let E in u)C.call(u,E)&&g.push(E);if(Object.getOwnPropertySymbols){let E=Object.getOwnPropertySymbols(u);for(let A of E)S.call(u,A)&&g.push(A)}return g};function N(u){return Array.isArray(u)?$(u):A(u)?D(u):u}function $(u){let g=u.slice(0,0);return I(u).forEach(E=>{U(g,E,N(u[E]))}),g}function D(u){let g=null===Object.getPrototypeOf(u)?Object.create(null):{};return I(u).forEach(E=>{U(g,E,N(u[E]))}),g}let B=(u,g,E,A)=>(E.forEach(E=>{void 0===g[E]&&A.ignoreUndefined||(E in u&&u[E]!==Object.getPrototypeOf(u)?U(u,E,O(u[E],g[E],A)):U(u,E,N(g[E])))}),u),L=(u,g,E)=>{let A=u.slice(0,0),S=0;return[u,g].forEach(g=>{let P=[];for(let E=0;E<g.length;E++)C.call(g,E)&&(P.push(String(E)),g===u?U(A,S++,g[E]):U(A,S++,N(g[E])));A=B(A,g,I(g).filter(u=>!P.includes(u)),E)}),A};function O(u,g,E){return E.concatArrays&&Array.isArray(u)&&Array.isArray(g)?L(u,g,E):A(g)&&A(u)?B(u,g,I(g),E):N(g)}u.exports=function(...u){let g=O(N(T),this!==P&&this||{},T),E={_:{}};for(let C of u)if(void 0!==C){if(!A(C))throw TypeError("`"+C+"` is not an Option Object");E=O(E,{_:C},g)}return E._}},6306:function(u,g,E){"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?u.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:u.exports={default:E(3200).default,Headers:E(3200).Headers,Request:E(3200).Request,Response:E(3200).Response}},3200:function(u,g,E){"use strict";var A=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==E.g)return E.g;throw Error("unable to locate global object")}();u.exports=g=A.fetch,A.fetch&&(g.default=A.fetch.bind(A)),g.Headers=A.Headers,g.Request=A.Request,g.Response=A.Response},4481:function(u,g,E){"use strict";u.exports=E(9286)},9286:function(u,g,E){"use strict";var A=g;function C(){A.util._configure(),A.Writer._configure(A.BufferWriter),A.Reader._configure(A.BufferReader)}A.build="minimal",A.Writer=E(8045),A.BufferWriter=E(3654),A.Reader=E(911),A.BufferReader=E(5957),A.util=E(6642),A.rpc=E(375),A.roots=E(5002),A.configure=C,C()},911:function(u,g,E){"use strict";u.exports=T;var A,C=E(6642),S=C.LongBits,U=C.utf8;function P(u,g){return RangeError("index out of range: "+u.pos+" + "+(g||1)+" > "+u.len)}function T(u){this.buf=u,this.pos=0,this.len=u.length}var I="undefined"!=typeof Uint8Array?function(u){if(u instanceof Uint8Array||Array.isArray(u))return new T(u);throw Error("illegal buffer")}:function(u){if(Array.isArray(u))return new T(u);throw Error("illegal buffer")},N=function(){return C.Buffer?function(u){return(T.create=function(u){return C.Buffer.isBuffer(u)?new A(u):I(u)})(u)}:I};function $(){var u=new S(0,0),g=0;if(this.len-this.pos>4){for(;g<4;++g)if(u.lo=(u.lo|(127&this.buf[this.pos])<<7*g)>>>0,this.buf[this.pos++]<128)return u;if(u.lo=(u.lo|(127&this.buf[this.pos])<<28)>>>0,u.hi=(u.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return u;g=0}else{for(;g<3;++g){if(this.pos>=this.len)throw P(this);if(u.lo=(u.lo|(127&this.buf[this.pos])<<7*g)>>>0,this.buf[this.pos++]<128)return u}return u.lo=(u.lo|(127&this.buf[this.pos++])<<7*g)>>>0,u}if(this.len-this.pos>4){for(;g<5;++g)if(u.hi=(u.hi|(127&this.buf[this.pos])<<7*g+3)>>>0,this.buf[this.pos++]<128)return u}else for(;g<5;++g){if(this.pos>=this.len)throw P(this);if(u.hi=(u.hi|(127&this.buf[this.pos])<<7*g+3)>>>0,this.buf[this.pos++]<128)return u}throw Error("invalid varint encoding")}function D(u,g){return(u[g-4]|u[g-3]<<8|u[g-2]<<16|u[g-1]<<24)>>>0}function B(){if(this.pos+8>this.len)throw P(this,8);return new S(D(this.buf,this.pos+=4),D(this.buf,this.pos+=4))}T.create=N(),T.prototype._slice=C.Array.prototype.subarray||C.Array.prototype.slice,T.prototype.uint32=function(){var u=4294967295;return function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return u;if((this.pos+=5)>this.len)throw this.pos=this.len,P(this,10);return u}}(),T.prototype.int32=function(){return 0|this.uint32()},T.prototype.sint32=function(){var u=this.uint32();return u>>>1^-(1&u)|0},T.prototype.bool=function(){return 0!==this.uint32()},T.prototype.fixed32=function(){if(this.pos+4>this.len)throw P(this,4);return D(this.buf,this.pos+=4)},T.prototype.sfixed32=function(){if(this.pos+4>this.len)throw P(this,4);return 0|D(this.buf,this.pos+=4)},T.prototype.float=function(){if(this.pos+4>this.len)throw P(this,4);var u=C.float.readFloatLE(this.buf,this.pos);return this.pos+=4,u},T.prototype.double=function(){if(this.pos+8>this.len)throw P(this,4);var u=C.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,u},T.prototype.bytes=function(){var u=this.uint32(),g=this.pos,E=this.pos+u;if(E>this.len)throw P(this,u);if(this.pos+=u,Array.isArray(this.buf))return this.buf.slice(g,E);if(g===E){var A=C.Buffer;return A?A.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,g,E)},T.prototype.string=function(){var u=this.bytes();return U.read(u,0,u.length)},T.prototype.skip=function(u){if("number"==typeof u){if(this.pos+u>this.len)throw P(this,u);this.pos+=u}else do if(this.pos>=this.len)throw P(this);while(128&this.buf[this.pos++]);return this},T.prototype.skipType=function(u){switch(u){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(u=7&this.uint32());)this.skipType(u);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+u+" at offset "+this.pos)}return this},T._configure=function(u){A=u,T.create=N(),A._configure();var g=C.Long?"toLong":"toNumber";C.merge(T.prototype,{int64:function(){return $.call(this)[g](!1)},uint64:function(){return $.call(this)[g](!0)},sint64:function(){return $.call(this).zzDecode()[g](!1)},fixed64:function(){return B.call(this)[g](!0)},sfixed64:function(){return B.call(this)[g](!1)}})}},5957:function(u,g,E){"use strict";u.exports=S;var A=E(911);(S.prototype=Object.create(A.prototype)).constructor=S;var C=E(6642);function S(u){A.call(this,u)}S._configure=function(){C.Buffer&&(S.prototype._slice=C.Buffer.prototype.slice)},S.prototype.string=function(){var u=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+u,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+u,this.len))},S._configure()},5002:function(u){"use strict";u.exports={}},375:function(u,g,E){"use strict";g.Service=E(9167)},9167:function(u,g,E){"use strict";u.exports=C;var A=E(6642);function C(u,g,E){if("function"!=typeof u)throw TypeError("rpcImpl must be a function");A.EventEmitter.call(this),this.rpcImpl=u,this.requestDelimited=!!g,this.responseDelimited=!!E}(C.prototype=Object.create(A.EventEmitter.prototype)).constructor=C,C.prototype.rpcCall=function u(g,E,C,S,U){if(!S)throw TypeError("request must be specified");var P=this;if(!U)return A.asPromise(u,P,g,E,C,S);if(!P.rpcImpl){setTimeout(function(){U(Error("already ended"))},0);return}try{return P.rpcImpl(g,E[P.requestDelimited?"encodeDelimited":"encode"](S).finish(),function(u,E){if(u)return P.emit("error",u,g),U(u);if(null===E){P.end(!0);return}if(!(E instanceof C))try{E=C[P.responseDelimited?"decodeDelimited":"decode"](E)}catch(u){return P.emit("error",u,g),U(u)}return P.emit("data",E,g),U(null,E)})}catch(u){P.emit("error",u,g),setTimeout(function(){U(u)},0);return}},C.prototype.end=function(u){return this.rpcImpl&&(u||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},6341:function(u,g,E){"use strict";u.exports=C;var A=E(6642);function C(u,g){this.lo=u>>>0,this.hi=g>>>0}var S=C.zero=new C(0,0);S.toNumber=function(){return 0},S.zzEncode=S.zzDecode=function(){return this},S.length=function(){return 1};var U=C.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";C.fromNumber=function(u){if(0===u)return S;var g=u<0;g&&(u=-u);var E=u>>>0,A=(u-E)/4294967296>>>0;return g&&(A=~A>>>0,E=~E>>>0,++E>4294967295&&(E=0,++A>4294967295&&(A=0))),new C(E,A)},C.from=function(u){if("number"==typeof u)return C.fromNumber(u);if(A.isString(u)){if(!A.Long)return C.fromNumber(parseInt(u,10));u=A.Long.fromString(u)}return u.low||u.high?new C(u.low>>>0,u.high>>>0):S},C.prototype.toNumber=function(u){if(!u&&this.hi>>>31){var g=~this.lo+1>>>0,E=~this.hi>>>0;return g||(E=E+1>>>0),-(g+4294967296*E)}return this.lo+4294967296*this.hi},C.prototype.toLong=function(u){return A.Long?new A.Long(0|this.lo,0|this.hi,!!u):{low:0|this.lo,high:0|this.hi,unsigned:!!u}};var P=String.prototype.charCodeAt;C.fromHash=function(u){return u===U?S:new C((P.call(u,0)|P.call(u,1)<<8|P.call(u,2)<<16|P.call(u,3)<<24)>>>0,(P.call(u,4)|P.call(u,5)<<8|P.call(u,6)<<16|P.call(u,7)<<24)>>>0)},C.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},C.prototype.zzEncode=function(){var u=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^u)>>>0,this.lo=(this.lo<<1^u)>>>0,this},C.prototype.zzDecode=function(){var u=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^u)>>>0,this.hi=(this.hi>>>1^u)>>>0,this},C.prototype.length=function(){var u=this.lo,g=(this.lo>>>28|this.hi<<4)>>>0,E=this.hi>>>24;return 0===E?0===g?u<16384?u<128?1:2:u<2097152?3:4:g<16384?g<128?5:6:g<2097152?7:8:E<128?9:10}},6642:function(u,g,E){"use strict";var A=g;function C(u,g,E){for(var A=Object.keys(g),C=0;C<A.length;++C)void 0!==u[A[C]]&&E||(u[A[C]]=g[A[C]]);return u}function S(u){function g(u,E){if(!(this instanceof g))return new g(u,E);Object.defineProperty(this,"message",{get:function(){return u}}),Error.captureStackTrace?Error.captureStackTrace(this,g):Object.defineProperty(this,"stack",{value:Error().stack||""}),E&&C(this,E)}return g.prototype=Object.create(Error.prototype,{constructor:{value:g,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return u},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),g}A.asPromise=E(2790),A.base64=E(4081),A.EventEmitter=E(5074),A.float=E(3383),A.inquire=E(4962),A.utf8=E(6503),A.pool=E(3505),A.LongBits=E(6341),A.isNode=!!(void 0!==E.g&&E.g&&E.g.process&&E.g.process.versions&&E.g.process.versions.node),A.global=A.isNode&&E.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,A.emptyArray=Object.freeze?Object.freeze([]):[],A.emptyObject=Object.freeze?Object.freeze({}):{},A.isInteger=Number.isInteger||function(u){return"number"==typeof u&&isFinite(u)&&Math.floor(u)===u},A.isString=function(u){return"string"==typeof u||u instanceof String},A.isObject=function(u){return u&&"object"==typeof u},A.isset=A.isSet=function(u,g){var E=u[g];return!!(null!=E&&u.hasOwnProperty(g))&&("object"!=typeof E||(Array.isArray(E)?E.length:Object.keys(E).length)>0)},A.Buffer=function(){try{var u=A.inquire("buffer").Buffer;return u.prototype.utf8Write?u:null}catch(u){return null}}(),A._Buffer_from=null,A._Buffer_allocUnsafe=null,A.newBuffer=function(u){return"number"==typeof u?A.Buffer?A._Buffer_allocUnsafe(u):new A.Array(u):A.Buffer?A._Buffer_from(u):"undefined"==typeof Uint8Array?u:new Uint8Array(u)},A.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,A.Long=A.global.dcodeIO&&A.global.dcodeIO.Long||A.global.Long||A.inquire("long"),A.key2Re=/^true|false|0|1$/,A.key32Re=/^-?(?:0|[1-9][0-9]*)$/,A.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,A.longToHash=function(u){return u?A.LongBits.from(u).toHash():A.LongBits.zeroHash},A.longFromHash=function(u,g){var E=A.LongBits.fromHash(u);return A.Long?A.Long.fromBits(E.lo,E.hi,g):E.toNumber(!!g)},A.merge=C,A.lcFirst=function(u){return u.charAt(0).toLowerCase()+u.substring(1)},A.newError=S,A.ProtocolError=S("ProtocolError"),A.oneOfGetter=function(u){for(var g={},E=0;E<u.length;++E)g[u[E]]=1;return function(){for(var u=Object.keys(this),E=u.length-1;E>-1;--E)if(1===g[u[E]]&&void 0!==this[u[E]]&&null!==this[u[E]])return u[E]}},A.oneOfSetter=function(u){return function(g){for(var E=0;E<u.length;++E)u[E]!==g&&delete this[u[E]]}},A.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},A._configure=function(){var u=A.Buffer;if(!u){A._Buffer_from=A._Buffer_allocUnsafe=null;return}A._Buffer_from=u.from!==Uint8Array.from&&u.from||function(g,E){return new u(g,E)},A._Buffer_allocUnsafe=u.allocUnsafe||function(g){return new u(g)}}},8045:function(u,g,E){"use strict";u.exports=$;var A,C=E(6642),S=C.LongBits,U=C.base64,P=C.utf8;function T(u,g,E){this.fn=u,this.len=g,this.next=void 0,this.val=E}function I(){}function N(u){this.head=u.head,this.tail=u.tail,this.len=u.len,this.next=u.states}function $(){this.len=0,this.head=new T(I,0,0),this.tail=this.head,this.states=null}var D=function(){return C.Buffer?function(){return($.create=function(){return new A})()}:function(){return new $}};function B(u,g,E){g[E]=255&u}function L(u,g,E){for(;u>127;)g[E++]=127&u|128,u>>>=7;g[E]=u}function O(u,g){this.len=u,this.next=void 0,this.val=g}function z(u,g,E){for(;u.hi;)g[E++]=127&u.lo|128,u.lo=(u.lo>>>7|u.hi<<25)>>>0,u.hi>>>=7;for(;u.lo>127;)g[E++]=127&u.lo|128,u.lo=u.lo>>>7;g[E++]=u.lo}function R(u,g,E){g[E]=255&u,g[E+1]=u>>>8&255,g[E+2]=u>>>16&255,g[E+3]=u>>>24}$.create=D(),$.alloc=function(u){return new C.Array(u)},C.Array!==Array&&($.alloc=C.pool($.alloc,C.Array.prototype.subarray)),$.prototype._push=function(u,g,E){return this.tail=this.tail.next=new T(u,g,E),this.len+=g,this},O.prototype=Object.create(T.prototype),O.prototype.fn=L,$.prototype.uint32=function(u){return this.len+=(this.tail=this.tail.next=new O((u>>>=0)<128?1:u<16384?2:u<2097152?3:u<268435456?4:5,u)).len,this},$.prototype.int32=function(u){return u<0?this._push(z,10,S.fromNumber(u)):this.uint32(u)},$.prototype.sint32=function(u){return this.uint32((u<<1^u>>31)>>>0)},$.prototype.uint64=function(u){var g=S.from(u);return this._push(z,g.length(),g)},$.prototype.int64=$.prototype.uint64,$.prototype.sint64=function(u){var g=S.from(u).zzEncode();return this._push(z,g.length(),g)},$.prototype.bool=function(u){return this._push(B,1,u?1:0)},$.prototype.fixed32=function(u){return this._push(R,4,u>>>0)},$.prototype.sfixed32=$.prototype.fixed32,$.prototype.fixed64=function(u){var g=S.from(u);return this._push(R,4,g.lo)._push(R,4,g.hi)},$.prototype.sfixed64=$.prototype.fixed64,$.prototype.float=function(u){return this._push(C.float.writeFloatLE,4,u)},$.prototype.double=function(u){return this._push(C.float.writeDoubleLE,8,u)};var F=C.Array.prototype.set?function(u,g,E){g.set(u,E)}:function(u,g,E){for(var A=0;A<u.length;++A)g[E+A]=u[A]};$.prototype.bytes=function(u){var g=u.length>>>0;if(!g)return this._push(B,1,0);if(C.isString(u)){var E=$.alloc(g=U.length(u));U.decode(u,E,0),u=E}return this.uint32(g)._push(F,g,u)},$.prototype.string=function(u){var g=P.length(u);return g?this.uint32(g)._push(P.write,g,u):this._push(B,1,0)},$.prototype.fork=function(){return this.states=new N(this),this.head=this.tail=new T(I,0,0),this.len=0,this},$.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new T(I,0,0),this.len=0),this},$.prototype.ldelim=function(){var u=this.head,g=this.tail,E=this.len;return this.reset().uint32(E),E&&(this.tail.next=u.next,this.tail=g,this.len+=E),this},$.prototype.finish=function(){for(var u=this.head.next,g=this.constructor.alloc(this.len),E=0;u;)u.fn(u.val,g,E),E+=u.len,u=u.next;return g},$._configure=function(u){A=u,$.create=D(),A._configure()}},3654:function(u,g,E){"use strict";u.exports=S;var A=E(8045);(S.prototype=Object.create(A.prototype)).constructor=S;var C=E(6642);function S(){A.call(this)}function U(u,g,E){u.length<40?C.utf8.write(u,g,E):g.utf8Write?g.utf8Write(u,E):g.write(u,E)}S._configure=function(){S.alloc=C._Buffer_allocUnsafe,S.writeBytesBuffer=C.Buffer&&C.Buffer.prototype instanceof Uint8Array&&"set"===C.Buffer.prototype.set.name?function(u,g,E){g.set(u,E)}:function(u,g,E){if(u.copy)u.copy(g,E,0,u.length);else for(var A=0;A<u.length;)g[E++]=u[A++]}},S.prototype.bytes=function(u){C.isString(u)&&(u=C._Buffer_from(u,"base64"));var g=u.length>>>0;return this.uint32(g),g&&this._push(S.writeBytesBuffer,g,u),this},S.prototype.string=function(u){var g=C.Buffer.byteLength(u);return this.uint32(g),g&&this._push(U,g,u),this},S._configure()},4925:function(u){u.exports=u=>{if(u[Symbol.asyncIterator])return u;if(u.getReader)return async function*(){let g=u.getReader();try{for(;;){let{done:u,value:E}=await g.read();if(u)return;yield E}}finally{g.releaseLock()}}();throw Error("unknown stream")}},2212:function(u){u.exports=A;var g=128,E=127;function A(u,C){var S,U=0,C=C||0,P=0,T=C,I=u.length;do{if(T>=I||P>49)throw A.bytes=0,RangeError("Could not decode varint");S=u[T++],U+=P<28?(S&E)<<P:(S&E)*Math.pow(2,P),P+=7}while(S>=g);return A.bytes=T-C,U}},4834:function(u){u.exports=C;var g=128,E=-128,A=2147483648;function C(u,S,U){if(Number.MAX_SAFE_INTEGER&&u>Number.MAX_SAFE_INTEGER)throw C.bytes=0,RangeError("Could not encode varint");S=S||[];for(var P=U=U||0;u>=A;)S[U++]=255&u|g,u/=128;for(;u&E;)S[U++]=255&u|g,u>>>=7;return S[U]=0|u,C.bytes=U-P+1,S}},8965:function(u,g,E){u.exports={encode:E(4834),decode:E(2212),encodingLength:E(403)}},403:function(u){var g=128,E=16384,A=2097152,C=268435456,S=34359738368,U=4398046511104,P=562949953421312,T=72057594037927940,I=0x7fffffffffffffff;u.exports=function(u){return u<g?1:u<E?2:u<A?3:u<C?4:u<S?5:u<U?6:u<P?7:u<T?8:u<I?9:10}},1935:function(u,g,E){"use strict";E.d(g,{fi:function(){return es}});let A="6.7.1";function C(u,g,E){let A=g.split("|").map(u=>u.trim());for(let E=0;E<A.length;E++)switch(g){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof u===g)return}let C=Error(`invalid value for type ${g}`);throw C.code="INVALID_ARGUMENT",C.argument=`value.${E}`,C.value=u,C}function S(u,g,E){for(let A in g){let S=g[A],U=E?E[A]:null;U&&C(S,U,A),Object.defineProperty(u,A,{enumerable:!0,value:S,writable:!1})}}function U(u){if(null==u)return"null";if(Array.isArray(u))return"[ "+u.map(U).join(", ")+" ]";if(u instanceof Uint8Array){let g="0123456789abcdef",E="0x";for(let A=0;A<u.length;A++)E+=g[u[A]>>4]+g[15&u[A]];return E}if("object"==typeof u&&"function"==typeof u.toJSON)return U(u.toJSON());switch(typeof u){case"boolean":case"symbol":case"number":return u.toString();case"bigint":return BigInt(u).toString();case"string":return JSON.stringify(u);case"object":{let g=Object.keys(u);return g.sort(),"{ "+g.map(g=>`${U(g)}: ${U(u[g])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function P(u,g,E){let C;{let C=[];if(E){if("message"in E||"code"in E||"name"in E)throw Error(`value will overwrite populated values: ${U(E)}`);for(let u in E){let g=E[u];C.push(u+"="+U(g))}}C.push(`code=${g}`),C.push(`version=${A}`),C.length&&(u+=" ("+C.join(", ")+")")}switch(g){case"INVALID_ARGUMENT":C=TypeError(u);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":C=RangeError(u);break;default:C=Error(u)}return S(C,{code:g}),E&&Object.assign(C,E),C}function T(u,g,E,A){if(!u)throw P(g,E,A)}function I(u,g,E,A){T(u,g,"INVALID_ARGUMENT",{argument:E,value:A})}function N(u,g,E){if(null==E&&(E=""),u!==g){let u=E,g="new";E&&(u+=".",g+=" "+E),T(!1,`private constructor; use ${u}from* methods`,"UNSUPPORTED_OPERATION",{operation:g})}}function $(u,g,E){if(u instanceof Uint8Array)return E?new Uint8Array(u):u;if("string"==typeof u&&u.match(/^0x([0-9a-f][0-9a-f])*$/i)){let g=new Uint8Array((u.length-2)/2),E=2;for(let A=0;A<g.length;A++)g[A]=parseInt(u.substring(E,E+2),16),E+=2;return g}I(!1,"invalid BytesLike value",g||"value",u)}function D(u,g){return $(u,g,!1)}["NFD","NFC","NFKD","NFKC"].reduce((u,g)=>{try{if("test"!=="test".normalize(g))throw Error("bad");if("NFD"===g){let u=String.fromCharCode(233).normalize("NFD"),g=String.fromCharCode(101,769);if(u!==g)throw Error("broken")}u.push(g)}catch(u){}return u},[]);let B=BigInt(0),L=BigInt(1),O=9007199254740991;function z(u,g){let E=M(u,"value"),A=BigInt(J(g,"width"));if(T(E>>A===B,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:u}),E>>A-L){let u=(L<<A)-L;return-((~E&u)+L)}return E}function R(u,g){let E=M(u,"value"),A=BigInt(J(g,"bits"));return E&(L<<A)-L}function F(u,g){switch(typeof u){case"bigint":return u;case"number":return I(Number.isInteger(u),"underflow",g||"value",u),I(u>=-O&&u<=O,"overflow",g||"value",u),BigInt(u);case"string":try{if(""===u)throw Error("empty string");if("-"===u[0]&&"-"!==u[1])return-BigInt(u.substring(1));return BigInt(u)}catch(E){I(!1,`invalid BigNumberish string: ${E.message}`,g||"value",u)}}I(!1,"invalid BigNumberish value",g||"value",u)}function M(u,g){let E=F(u,g);return T(E>=B,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:u}),E}let H="0123456789abcdef";function q(u){if(u instanceof Uint8Array){let g="0x0";for(let E of u)g+=H[E>>4]+H[15&E];return BigInt(g)}return F(u)}function J(u,g){switch(typeof u){case"bigint":return I(u>=-O&&u<=O,"overflow",g||"value",u),Number(u);case"number":return I(Number.isInteger(u),"underflow",g||"value",u),I(u>=-O&&u<=O,"overflow",g||"value",u),u;case"string":try{if(""===u)throw Error("empty string");return J(BigInt(u),g)}catch(E){I(!1,`invalid numeric string: ${E.message}`,g||"value",u)}}I(!1,"invalid numeric value",g||"value",u)}let W=BigInt(-1),G=BigInt(0),K=BigInt(1),Q=BigInt(5),X={},Z="0000";for(;Z.length<80;)Z+=Z;function Y(u){let g=Z;for(;g.length<u;)g+=g;return BigInt("1"+g.substring(0,u))}function ee(u,g,E){let A=BigInt(g.width);if(g.signed){let g=K<<A-K;T(null==E||u>=-g&&u<g,"overflow","NUMERIC_FAULT",{operation:E,fault:"overflow",value:u}),u=u>G?z(R(u,A),A):-z(R(-u,A),A)}else{let g=K<<A;T(null==E||u>=0&&u<g,"overflow","NUMERIC_FAULT",{operation:E,fault:"overflow",value:u}),u=(u%g+g)%g&g-K}return u}function et(u){"number"==typeof u&&(u=`fixed128x${u}`);let g=!0,E=128,A=18;if("string"==typeof u){if("fixed"===u);else if("ufixed"===u)g=!1;else{let C=u.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);I(C,"invalid fixed format","format",u),g="u"!==C[1],E=parseInt(C[2]),A=parseInt(C[3])}}else if(u){let C=u,S=(u,g,E)=>null==C[u]?E:(I(typeof C[u]===g,"invalid fixed format ("+u+" not "+g+")","format."+u,C[u]),C[u]);g=S("signed","boolean",g),E=S("width","number",E),A=S("decimals","number",A)}I(E%8==0,"invalid FixedNumber width (not byte aligned)","format.width",E),I(A<=80,"invalid FixedNumber decimals (too large)","format.decimals",A);let C=(g?"":"u")+"fixed"+String(E)+"x"+String(A);return{signed:g,width:E,decimals:A,name:C}}function er(u,g){let E="";u<G&&(E="-",u*=W);let A=u.toString();if(0===g)return E+A;for(;A.length<=g;)A=Z+A;let C=A.length-g;for(A=A.substring(0,C)+"."+A.substring(C);"0"===A[0]&&"."!==A[1];)A=A.substring(1);for(;"0"===A[A.length-1]&&"."!==A[A.length-2];)A=A.substring(0,A.length-1);return E+A}class en{format;#e;#t;#r;_value;constructor(u,g,E){N(u,X,"FixedNumber"),this.#t=g,this.#e=E;let A=er(g,E.decimals);S(this,{format:E.name,_value:A}),this.#r=Y(E.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(u){I(this.format===u.format,"incompatible format; use fixedNumber.toFormat","other",u)}#i(u,g){return u=ee(u,this.#e,g),new en(X,u,this.#e)}#o(u,g){return this.#n(u),this.#i(this.#t+u.#t,g)}addUnsafe(u){return this.#o(u)}add(u){return this.#o(u,"add")}#s(u,g){return this.#n(u),this.#i(this.#t-u.#t,g)}subUnsafe(u){return this.#s(u)}sub(u){return this.#s(u,"sub")}#a(u,g){return this.#n(u),this.#i(this.#t*u.#t/this.#r,g)}mulUnsafe(u){return this.#a(u)}mul(u){return this.#a(u,"mul")}mulSignal(u){this.#n(u);let g=this.#t*u.#t;return T(g%this.#r===G,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(g/this.#r,"mulSignal")}#u(u,g){return T(u.#t!==G,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(u),this.#i(this.#t*this.#r/u.#t,g)}divUnsafe(u){return this.#u(u)}div(u){return this.#u(u,"div")}divSignal(u){T(u.#t!==G,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(u);let g=this.#t*this.#r;return T(g%u.#t===G,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(g/u.#t,"divSignal")}cmp(u){let g=this.value,E=u.value,A=this.decimals-u.decimals;return(A>0?E*=Y(A):A<0&&(g*=Y(-A)),g<E)?-1:g>E?1:0}eq(u){return 0===this.cmp(u)}lt(u){return 0>this.cmp(u)}lte(u){return 0>=this.cmp(u)}gt(u){return this.cmp(u)>0}gte(u){return this.cmp(u)>=0}floor(){let u=this.#t;return this.#t<G&&(u-=this.#r-K),u=this.#t/this.#r*this.#r,this.#i(u,"floor")}ceiling(){let u=this.#t;return this.#t>G&&(u+=this.#r-K),u=this.#t/this.#r*this.#r,this.#i(u,"ceiling")}round(u){if(null==u&&(u=0),u>=this.decimals)return this;let g=this.decimals-u,E=Q*Y(g-1),A=this.value+E,C=Y(g);return ee(A=A/C*C,this.#e,"round"),new en(X,A,this.#e)}isZero(){return this.#t===G}isNegative(){return this.#t<G}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(u){return en.fromString(this.toString(),u)}static fromValue(u,g,E){let A=null==g?0:J(g),C=et(E),S=F(u,"value"),U=A-C.decimals;if(U>0){let g=Y(U);T(S%g===G,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:u}),S/=g}else U<0&&(S*=Y(-U));return ee(S,C,"fromValue"),new en(X,S,C)}static fromString(u,g){let E=u.match(/^(-?)([0-9]*)\.?([0-9]*)$/);I(E&&E[2].length+E[3].length>0,"invalid FixedNumber string value","value",u);let A=et(g),C=E[2]||"0",S=E[3]||"";for(;S.length<A.decimals;)S+=Z;T(S.substring(A.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:u}),S=S.substring(0,A.decimals);let U=BigInt(E[1]+C+S);return ee(U,A,"fromString"),new en(X,U,A)}static fromBytes(u,g){let E=q(D(u,"value")),A=et(g);return A.signed&&(E=z(E,A.width)),ee(E,A,"fromBytes"),new en(X,E,A)}}let ei=["wei","kwei","mwei","gwei","szabo","finney","ether"];function eo(u,g){I("string"==typeof u,"value must be a string","value",u);let E=18;if("string"==typeof g){let u=ei.indexOf(g);I(u>=0,"invalid unit","unit",g),E=3*u}else null!=g&&(E=J(g,"unit"));return en.fromString(u,{decimals:E,width:512}).value}function es(u){return eo(u,18)}},6704:function(u,g,E){"use strict";E.d(g,{Ue:function(){return mC}});var A,C,S,U,P,T,I,N,$={};E.r($),E.d($,{code:function(){return tK},createLink:function(){return tW},createNode:function(){return tJ},decode:function(){return tX},encode:function(){return tQ},name:function(){return tG},prepare:function(){return tH},validate:function(){return tq}});var D={};E.r(D),E.d(D,{code:function(){return i8},decode:function(){return i4},encode:function(){return i6},name:function(){return i5}});var B={};E.r(B),E.d(B,{code:function(){return st},decode:function(){return sn},encode:function(){return sr},format:function(){return si},name:function(){return se},parse:function(){return ss},stringify:function(){return si}});var L={};E.r(L),E.d(L,{base64:function(){return sx},base64pad:function(){return sC},base64url:function(){return sS},base64urlpad:function(){return sk}});var O={};E.r(O),E.d(O,{base58btc:function(){return sY},base58flickr:function(){return s0}});var z={};E.r(z),E.d(z,{base32:function(){return s1},base32hex:function(){return s6},base32hexpad:function(){return s3},base32hexpadupper:function(){return s7},base32hexupper:function(){return s4},base32pad:function(){return s5},base32padupper:function(){return s8},base32upper:function(){return s2},base32z:function(){return s9}});var R={};E.r(R),E.d(R,{code:function(){return aC},decode:function(){return aN},encode:function(){return aI},name:function(){return ax},toGeneral:function(){return aT}});var F={};E.r(F),E.d(F,{identity:function(){return aL}});var M={};E.r(M),E.d(M,{identity:function(){return aO}});var H={};E.r(H),E.d(H,{base2:function(){return az}});var q={};E.r(q),E.d(q,{base8:function(){return a_}});var J={};E.r(J),E.d(J,{base10:function(){return aR}});var W={};E.r(W),E.d(W,{base16:function(){return aF},base16upper:function(){return aM}});var G={};E.r(G),E.d(G,{base36:function(){return aV},base36upper:function(){return aH}});var K={};E.r(K),E.d(K,{base256emoji:function(){return aQ}});var Q={};E.r(Q),E.d(Q,{sha256:function(){return a0},sha512:function(){return a1}});var X={};E.r(X),E.d(X,{code:function(){return a5},decode:function(){return a6},encode:function(){return a8},name:function(){return a2}});var Z={};E.r(Z),E.d(Z,{code:function(){return a9},decode:function(){return ut},encode:function(){return ue},name:function(){return a7}});var Y={};E.r(Y),E.d(Y,{base10:function(){return uI}});var ee={};E.r(ee),E.d(ee,{base16:function(){return uN},base16upper:function(){return uj}});var et={};E.r(et),E.d(et,{base2:function(){return u$}});var er={};E.r(er),E.d(er,{base256emoji:function(){return u_}});var en={};E.r(en),E.d(en,{base32:function(){return uR},base32hex:function(){return uH},base32hexpad:function(){return uJ},base32hexpadupper:function(){return uW},base32hexupper:function(){return uq},base32pad:function(){return uM},base32padupper:function(){return uV},base32upper:function(){return uF},base32z:function(){return uG}});var ei={};E.r(ei),E.d(ei,{base36:function(){return uK},base36upper:function(){return uQ}});var eo={};E.r(eo),E.d(eo,{base58btc:function(){return uX},base58flickr:function(){return uZ}});var es={};E.r(es),E.d(es,{base64:function(){return uY},base64pad:function(){return u0},base64url:function(){return u1},base64urlpad:function(){return u2}});var ea={};E.r(ea),E.d(ea,{base8:function(){return u5}});var eu={};E.r(eu),E.d(eu,{identity:function(){return u8}});var el={};E.r(el),E.d(el,{code:function(){return u9},decode:function(){return lr},encode:function(){return lt},name:function(){return u7}});var ec={};E.r(ec),E.d(ec,{code:function(){return li},decode:function(){return la},encode:function(){return ls},name:function(){return ln}});var ef={};E.r(ef),E.d(ef,{identity:function(){return lL}});var eh={};E.r(eh),E.d(eh,{sha256:function(){return lR},sha512:function(){return lF}});var ed={};E.r(ed),E.d(ed,{base58btc:function(){return hu},base58flickr:function(){return hl}});var ep={};E.r(ep),E.d(ep,{base32:function(){return hc},base32hex:function(){return hp},base32hexpad:function(){return hy},base32hexpadupper:function(){return hb},base32hexupper:function(){return hg},base32pad:function(){return hh},base32padupper:function(){return hd},base32upper:function(){return hf},base32z:function(){return hm}});var eg={};E.r(eg),E.d(eg,{base10:function(){return da}});var ey={};E.r(ey),E.d(ey,{base16:function(){return du},base16upper:function(){return dl}});var eb={};E.r(eb),E.d(eb,{base2:function(){return dc}});var em={};E.r(em),E.d(em,{base256emoji:function(){return db}});var ew={};E.r(ew),E.d(ew,{base36:function(){return dm},base36upper:function(){return dw}});var ev={};E.r(ev),E.d(ev,{base64:function(){return dv},base64pad:function(){return dE},base64url:function(){return dA},base64urlpad:function(){return dx}});var eE={};E.r(eE),E.d(eE,{base8:function(){return dC}});var eA={};E.r(eA),E.d(eA,{identity:function(){return dS}});var ex={};E.r(ex),E.d(ex,{code:function(){return dT},decode:function(){return dN},encode:function(){return dI},name:function(){return dP}});var eC={};E.r(eC),E.d(eC,{code:function(){return d$},decode:function(){return dB},encode:function(){return dD},name:function(){return dj}});var eS={};E.r(eS),E.d(eS,{identity:function(){return dR}});var ek={};E.r(ek),E.d(ek,{sha256:function(){return dH},sha512:function(){return dq}});let eU=u=>Promise.reject(Error(`No base found for "${u}"`));class eP{constructor(u){for(let g of(this._basesByName={},this._basesByPrefix={},this._loadBase=u.loadBase||eU,u.bases))this.addBase(g)}addBase(u){if(this._basesByName[u.name]||this._basesByPrefix[u.prefix])throw Error(`Codec already exists for codec "${u.name}"`);this._basesByName[u.name]=u,this._basesByPrefix[u.prefix]=u}removeBase(u){delete this._basesByName[u.name],delete this._basesByPrefix[u.prefix]}async getBase(u){if(this._basesByName[u])return this._basesByName[u];if(this._basesByPrefix[u])return this._basesByPrefix[u];let g=await this._loadBase(u);return null==this._basesByName[g.name]&&null==this._basesByPrefix[g.prefix]&&this.addBase(g),g}listBases(){return Object.values(this._basesByName)}}let eT=u=>Promise.reject(Error(`No codec found for "${u}"`));class eI{constructor(u){for(let g of(this._codecsByName={},this._codecsByCode={},this._loadCodec=u.loadCodec||eT,u.codecs))this.addCodec(g)}addCodec(u){if(this._codecsByName[u.name]||this._codecsByCode[u.code])throw Error(`Resolver already exists for codec "${u.name}"`);this._codecsByName[u.name]=u,this._codecsByCode[u.code]=u}removeCodec(u){delete this._codecsByName[u.name],delete this._codecsByCode[u.code]}async getCodec(u){let g="string"==typeof u?this._codecsByName:this._codecsByCode;if(g[u])return g[u];let E=await this._loadCodec(u);return null==g[u]&&this.addCodec(E),E}listCodecs(){return Object.values(this._codecsByName)}}let eN=u=>Promise.reject(Error(`No hasher found for "${u}"`));class ej{constructor(u){for(let g of(this._hashersByName={},this._hashersByCode={},this._loadHasher=u.loadHasher||eN,u.hashers))this.addHasher(g)}addHasher(u){if(this._hashersByName[u.name]||this._hashersByCode[u.code])throw Error(`Resolver already exists for codec "${u.name}"`);this._hashersByName[u.name]=u,this._hashersByCode[u.code]=u}removeHasher(u){delete this._hashersByName[u.name],delete this._hashersByCode[u.code]}async getHasher(u){let g="string"==typeof u?this._hashersByName:this._hashersByCode;if(g[u])return g[u];let E=await this._loadHasher(u);return null==g[u]&&this.addHasher(E),E}listHashers(){return Object.values(this._hashersByName)}}var e$=function(u,g){if(u.length>=255)throw TypeError("Alphabet too long");for(var E=new Uint8Array(256),A=0;A<E.length;A++)E[A]=255;for(var C=0;C<u.length;C++){var S=u.charAt(C),U=S.charCodeAt(0);if(255!==E[U])throw TypeError(S+" is ambiguous");E[U]=C}var P=u.length,T=u.charAt(0),I=Math.log(P)/Math.log(256),N=Math.log(256)/Math.log(P);function $(u){if("string"!=typeof u)throw TypeError("Expected String");if(0===u.length)return new Uint8Array;var g=0;if(" "!==u[0]){for(var A=0,C=0;u[g]===T;)A++,g++;for(var S=(u.length-g)*I+1>>>0,U=new Uint8Array(S);u[g];){var N=E[u.charCodeAt(g)];if(255===N)return;for(var $=0,D=S-1;(0!==N||$<C)&&-1!==D;D--,$++)N+=P*U[D]>>>0,U[D]=N%256>>>0,N=N/256>>>0;if(0!==N)throw Error("Non-zero carry");C=$,g++}if(" "!==u[g]){for(var B=S-C;B!==S&&0===U[B];)B++;for(var L=new Uint8Array(A+(S-B)),O=A;B!==S;)L[O++]=U[B++];return L}}}function D(u){var E=$(u);if(E)return E;throw Error(`Non-${g} character`)}return{encode:function(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===g.length)return"";for(var E=0,A=0,C=0,S=g.length;C!==S&&0===g[C];)C++,E++;for(var U=(S-C)*N+1>>>0,I=new Uint8Array(U);C!==S;){for(var $=g[C],D=0,B=U-1;(0!==$||D<A)&&-1!==B;B--,D++)$+=256*I[B]>>>0,I[B]=$%P>>>0,$=$/P>>>0;if(0!==$)throw Error("Non-zero carry");A=D,C++}for(var L=U-A;L!==U&&0===I[L];)L++;for(var O=T.repeat(E);L<U;++L)O+=u.charAt(I[L]);return O},decodeUnsafe:$,decode:D}};new Uint8Array(0);let eD=(u,g)=>{if(u===g)return!0;if(u.byteLength!==g.byteLength)return!1;for(let E=0;E<u.byteLength;E++)if(u[E]!==g[E])return!1;return!0},eB=u=>{if(u instanceof Uint8Array&&"Uint8Array"===u.constructor.name)return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw Error("Unknown type, must be binary type")};class eL{constructor(u,g,E){this.name=u,this.prefix=g,this.baseEncode=E}encode(u){if(u instanceof Uint8Array)return`${this.prefix}${this.baseEncode(u)}`;throw Error("Unknown type, must be binary type")}}class eO{constructor(u,g,E){if(this.name=u,this.prefix=g,void 0===g.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=g.codePointAt(0),this.baseDecode=E}decode(u){if("string"==typeof u){if(u.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(u)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(u.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(u){return e_(this,u)}}class ez{constructor(u){this.decoders=u}or(u){return e_(this,u)}decode(u){let g=u[0],E=this.decoders[g];if(E)return E.decode(u);throw RangeError(`Unable to decode multibase string ${JSON.stringify(u)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let e_=(u,g)=>new ez({...u.decoders||{[u.prefix]:u},...g.decoders||{[g.prefix]:g}});class eR{constructor(u,g,E,A){this.name=u,this.prefix=g,this.baseEncode=E,this.baseDecode=A,this.encoder=new eL(u,g,E),this.decoder=new eO(u,g,A)}encode(u){return this.encoder.encode(u)}decode(u){return this.decoder.decode(u)}}let eF=({name:u,prefix:g,encode:E,decode:A})=>new eR(u,g,E,A),eM=({prefix:u,name:g,alphabet:E})=>{let{encode:A,decode:C}=e$(E,g);return eF({prefix:u,name:g,encode:A,decode:u=>eB(C(u))})},eV=(u,g,E,A)=>{let C={};for(let u=0;u<g.length;++u)C[g[u]]=u;let S=u.length;for(;"="===u[S-1];)--S;let U=new Uint8Array(S*E/8|0),P=0,T=0,I=0;for(let g=0;g<S;++g){let S=C[u[g]];if(void 0===S)throw SyntaxError(`Non-${A} character`);T=T<<E|S,(P+=E)>=8&&(P-=8,U[I++]=255&T>>P)}if(P>=E||255&T<<8-P)throw SyntaxError("Unexpected end of data");return U},eH=(u,g,E)=>{let A="="===g[g.length-1],C=(1<<E)-1,S="",U=0,P=0;for(let A=0;A<u.length;++A)for(P=P<<8|u[A],U+=8;U>E;)U-=E,S+=g[C&P>>U];if(U&&(S+=g[C&P<<E-U]),A)for(;S.length*E&7;)S+="=";return S},eq=({name:u,prefix:g,bitsPerChar:E,alphabet:A})=>eF({prefix:g,name:u,encode:u=>eH(u,A,E),decode:g=>eV(g,A,E,u)}),eJ=eq({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});eq({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eq({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eq({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eq({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eq({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eq({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eq({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eq({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let eW=eM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});eM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var eG=128,eK=-128,eQ=2147483648;function eX(u,g,E){g=g||[];for(var A=E=E||0;u>=eQ;)g[E++]=255&u|eG,u/=128;for(;u&eK;)g[E++]=255&u|eG,u>>>=7;return g[E]=0|u,eX.bytes=E-A+1,g}var eZ=128,eY=127;function e0(u,g){var E,A=0,g=g||0,C=0,S=g,U=u.length;do{if(S>=U)throw e0.bytes=0,RangeError("Could not decode varint");E=u[S++],A+=C<28?(E&eY)<<C:(E&eY)*Math.pow(2,C),C+=7}while(E>=eZ);return e0.bytes=S-g,A}var e5=128,e8=16384,e6=2097152,e4=268435456,e3=34359738368,e7=4398046511104,e9=562949953421312,te=72057594037927940,tt=0x7fffffffffffffff,tr={encode:eX,decode:e0,encodingLength:function(u){return u<e5?1:u<e8?2:u<e6?3:u<e4?4:u<e3?5:u<e7?6:u<e9?7:u<te?8:u<tt?9:10}};let tn=(u,g=0)=>{let E=tr.decode(u,g);return[E,tr.decode.bytes]},ti=(u,g,E=0)=>(tr.encode(u,g,E),g),to=u=>tr.encodingLength(u),ts=(u,g)=>{let E=g.byteLength,A=to(u),C=A+to(E),S=new Uint8Array(C+E);return ti(u,S,0),ti(E,S,A),S.set(g,C),new tl(u,E,g,S)},ta=u=>{let g=eB(u),[E,A]=tn(g),[C,S]=tn(g.subarray(A)),U=g.subarray(A+S);if(U.byteLength!==C)throw Error("Incorrect length");return new tl(E,C,U,g)},tu=(u,g)=>{if(u===g)return!0;{let E=g;return u.code===E.code&&u.size===E.size&&E.bytes instanceof Uint8Array&&eD(u.bytes,E.bytes)}};class tl{constructor(u,g,E,A){this.code=u,this.size=g,this.digest=E,this.bytes=A}}let tc=(u,g)=>{let{bytes:E,version:A}=u;return 0===A?tg(E,th(u),g||eW.encoder):ty(E,th(u),g||eJ.encoder)},tf=new WeakMap,th=u=>{let g=tf.get(u);if(null==g){let g=new Map;return tf.set(u,g),g}return g};class td{constructor(u,g,E,A){this.code=g,this.version=u,this.multihash=E,this.bytes=A,this["/"]=A}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:u,multihash:g}=this;if(u!==tb)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(g.code!==tm)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return td.createV0(g)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:u,digest:g}=this.multihash,E=ts(u,g);return td.createV1(this.code,E)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(u){return td.equals(this,u)}static equals(u,g){let E=g;return E&&u.code===E.code&&u.version===E.version&&tu(u.multihash,E.multihash)}toString(u){return tc(this,u)}toJSON(){return{"/":tc(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(u){if(null==u)return null;let g=u;if(g instanceof td)return g;if(null!=g["/"]&&g["/"]===g.bytes||g.asCID===g){let{version:u,code:E,multihash:A,bytes:C}=g;return new td(u,E,A,C||tw(u,E,A.bytes))}if(!0!==g[tv])return null;{let{version:u,multihash:E,code:A}=g,C=ta(E);return td.create(u,A,C)}}static create(u,g,E){if("number"!=typeof g)throw Error("String codecs are no longer supported");if(!(E.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(u){case 0:if(g===tb)return new td(u,g,E,E.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${tb}) block encoding`);case 1:{let A=tw(u,g,E.bytes);return new td(u,g,E,A)}default:throw Error("Invalid version")}}static createV0(u){return td.create(0,tb,u)}static createV1(u,g){return td.create(1,u,g)}static decode(u){let[g,E]=td.decodeFirst(u);if(E.length)throw Error("Incorrect length");return g}static decodeFirst(u){let g=td.inspectBytes(u),E=g.size-g.multihashSize,A=eB(u.subarray(E,E+g.multihashSize));if(A.byteLength!==g.multihashSize)throw Error("Incorrect length");let C=A.subarray(g.multihashSize-g.digestSize),S=new tl(g.multihashCode,g.digestSize,C,A),U=0===g.version?td.createV0(S):td.createV1(g.codec,S);return[U,u.subarray(g.size)]}static inspectBytes(u){let g=0,E=()=>{let[E,A]=tn(u.subarray(g));return g+=A,E},A=E(),C=tb;if(18===A?(A=0,g=0):C=E(),0!==A&&1!==A)throw RangeError(`Invalid CID version ${A}`);let S=g,U=E(),P=E(),T=g+P,I=T-S;return{version:A,codec:C,multihashCode:U,digestSize:P,multihashSize:I,size:T}}static parse(u,g){let[E,A]=tp(u,g),C=td.decode(A);if(0===C.version&&"Q"!==u[0])throw Error("Version 0 CID string must not include multibase prefix");return th(C).set(E,u),C}}let tp=(u,g)=>{switch(u[0]){case"Q":{let E=g||eW;return[eW.prefix,E.decode(`${eW.prefix}${u}`)]}case eW.prefix:{let E=g||eW;return[eW.prefix,E.decode(u)]}case eJ.prefix:{let E=g||eJ;return[eJ.prefix,E.decode(u)]}default:if(null==g)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[u[0],g.decode(u)]}},tg=(u,g,E)=>{let{prefix:A}=E;if(A!==eW.prefix)throw Error(`Cannot string encode V0 in ${E.name} encoding`);let C=g.get(A);if(null!=C)return C;{let C=E.encode(u).slice(1);return g.set(A,C),C}},ty=(u,g,E)=>{let{prefix:A}=E,C=g.get(A);if(null!=C)return C;{let C=E.encode(u);return g.set(A,C),C}},tb=112,tm=18,tw=(u,g,E)=>{let A=to(u),C=A+to(g),S=new Uint8Array(C+E.byteLength);return ti(u,S,0),ti(g,S,A),S.set(E,C),S},tv=Symbol.for("@ipld/js-cid/CID"),tE=new TextDecoder;function tA(u,g){let E=0;for(let A=0;;A+=7){if(A>=64)throw Error("protobuf: varint overflow");if(g>=u.length)throw Error("protobuf: unexpected end of data");let C=u[g++];if(E+=A<28?(127&C)<<A:(127&C)*2**A,C<128)break}return[E,g]}function tx(u,g){let E;[E,g]=tA(u,g);let A=g+E;if(E<0||A<0)throw Error("protobuf: invalid length");if(A>u.length)throw Error("protobuf: unexpected end of data");return[u.subarray(g,A),A]}function tC(u,g){let E;return[E,g]=tA(u,g),[7&E,E>>3,g]}function tS(u){let g={},E=u.length,A=0;for(;A<E;){let E,C;if([E,C,A]=tC(u,A),1===C){if(g.Hash)throw Error("protobuf: (PBLink) duplicate Hash section");if(2!==E)throw Error(`protobuf: (PBLink) wrong wireType (${E}) for Hash`);if(void 0!==g.Name)throw Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==g.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[g.Hash,A]=tx(u,A)}else if(2===C){let C;if(void 0!==g.Name)throw Error("protobuf: (PBLink) duplicate Name section");if(2!==E)throw Error(`protobuf: (PBLink) wrong wireType (${E}) for Name`);if(void 0!==g.Tsize)throw Error("protobuf: (PBLink) invalid order, found Tsize before Name");[C,A]=tx(u,A),g.Name=tE.decode(C)}else if(3===C){if(void 0!==g.Tsize)throw Error("protobuf: (PBLink) duplicate Tsize section");if(0!==E)throw Error(`protobuf: (PBLink) wrong wireType (${E}) for Tsize`);[g.Tsize,A]=tA(u,A)}else throw Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${C}`)}if(A>E)throw Error("protobuf: (PBLink) unexpected end of data");return g}function tk(u){let g,E;let A=u.length,C=0,S=!1;for(;C<A;){let A,U;if([A,U,C]=tC(u,C),2!==A)throw Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${A}`);if(1===U){if(E)throw Error("protobuf: (PBNode) duplicate Data section");[E,C]=tx(u,C),g&&(S=!0)}else if(2===U){let E;if(S)throw Error("protobuf: (PBNode) duplicate Links section");g||(g=[]),[E,C]=tx(u,C),g.push(tS(E))}else throw Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${U}`)}if(C>A)throw Error("protobuf: (PBNode) unexpected end of data");let U={};return E&&(U.Data=E),U.Links=g||[],U}let tU=new TextEncoder,tP=4294967296,tT=2147483648;function tI(u,g){let E=g.length;if("number"==typeof u.Tsize){if(u.Tsize<0)throw Error("Tsize cannot be negative");if(!Number.isSafeInteger(u.Tsize))throw Error("Tsize too large for encoding");E=tD(g,E,u.Tsize)-1,g[E]=24}if("string"==typeof u.Name){let A=tU.encode(u.Name);E-=A.length,g.set(A,E),E=tD(g,E,A.length)-1,g[E]=18}return u.Hash&&(E-=u.Hash.length,g.set(u.Hash,E),E=tD(g,E,u.Hash.length)-1,g[E]=10),g.length-E}function tN(u){let g=t$(u),E=new Uint8Array(g),A=g;if(u.Data&&(A-=u.Data.length,E.set(u.Data,A),A=tD(E,A,u.Data.length)-1,E[A]=10),u.Links)for(let g=u.Links.length-1;g>=0;g--){let C=tI(u.Links[g],E.subarray(0,A));A-=C,A=tD(E,A,C)-1,E[A]=18}return E}function tj(u){let g=0;if(u.Hash){let E=u.Hash.length;g+=1+E+tB(E)}if("string"==typeof u.Name){let E=tU.encode(u.Name).length;g+=1+E+tB(E)}return"number"==typeof u.Tsize&&(g+=1+tB(u.Tsize)),g}function t$(u){let g=0;if(u.Data){let E=u.Data.length;g+=1+E+tB(E)}if(u.Links)for(let E of u.Links){let u=tj(E);g+=1+u+tB(u)}return g}function tD(u,g,E){g-=tB(E);let A=g;for(;E>=tT;)u[g++]=127&E|128,E/=128;for(;E>=128;)u[g++]=127&E|128,E>>>=7;return u[g]=E,A}function tB(u){return u%2==0&&u++,Math.floor((tL(u)+6)/7)}function tL(u){let g=0;return u>=tP&&(u=Math.floor(u/tP),g=32),u>=65536&&(u>>>=16,g+=16),u>=256&&(u>>>=8,g+=8),g+tO[u]}let tO=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],tz=["Data","Links"],t_=["Hash","Name","Tsize"],tR=new TextEncoder;function tF(u,g){if(u===g)return 0;let E=u.Name?tR.encode(u.Name):[],A=g.Name?tR.encode(g.Name):[],C=E.length,S=A.length;for(let u=0,g=Math.min(C,S);u<g;++u)if(E[u]!==A[u]){C=E[u],S=A[u];break}return C<S?-1:S<C?1:0}function tM(u,g){return!Object.keys(u).some(u=>!g.includes(u))}function tV(u){if("object"==typeof u.asCID){let g=td.asCID(u);if(!g)throw TypeError("Invalid DAG-PB form");return{Hash:g}}if("object"!=typeof u||Array.isArray(u))throw TypeError("Invalid DAG-PB form");let g={};if(u.Hash){let E=td.asCID(u.Hash);try{!E&&("string"==typeof u.Hash?E=td.parse(u.Hash):u.Hash instanceof Uint8Array&&(E=td.decode(u.Hash)))}catch(u){throw TypeError(`Invalid DAG-PB form: ${u.message}`)}E&&(g.Hash=E)}if(!g.Hash)throw TypeError("Invalid DAG-PB form");return"string"==typeof u.Name&&(g.Name=u.Name),"number"==typeof u.Tsize&&(g.Tsize=u.Tsize),g}function tH(u){if((u instanceof Uint8Array||"string"==typeof u)&&(u={Data:u}),"object"!=typeof u||Array.isArray(u))throw TypeError("Invalid DAG-PB form");let g={};if(void 0!==u.Data){if("string"==typeof u.Data)g.Data=tR.encode(u.Data);else if(u.Data instanceof Uint8Array)g.Data=u.Data;else throw TypeError("Invalid DAG-PB form")}if(void 0!==u.Links){if(Array.isArray(u.Links))g.Links=u.Links.map(tV),g.Links.sort(tF);else throw TypeError("Invalid DAG-PB form")}else g.Links=[];return g}function tq(u){if(!u||"object"!=typeof u||Array.isArray(u)||u instanceof Uint8Array||u["/"]&&u["/"]===u.bytes)throw TypeError("Invalid DAG-PB form");if(!tM(u,tz))throw TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==u.Data&&!(u.Data instanceof Uint8Array))throw TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(u.Links))throw TypeError("Invalid DAG-PB form (Links must be a list)");for(let g=0;g<u.Links.length;g++){let E=u.Links[g];if(!E||"object"!=typeof E||Array.isArray(E)||E instanceof Uint8Array||E["/"]&&E["/"]===E.bytes)throw TypeError("Invalid DAG-PB form (bad link)");if(!tM(E,t_))throw TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===E.Hash)throw TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==E.Hash||!E.Hash["/"]||E.Hash["/"]!==E.Hash.bytes)throw TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==E.Name&&"string"!=typeof E.Name)throw TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==E.Tsize){if("number"!=typeof E.Tsize||E.Tsize%1!=0)throw TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(E.Tsize<0)throw TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(g>0&&-1===tF(E,u.Links[g-1]))throw TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function tJ(u,g=[]){return tH({Data:u,Links:g})}function tW(u,g,E){return tV({Hash:E,Name:u,Tsize:g})}let tG="dag-pb",tK=112;function tQ(u){tq(u);let g={};return u.Links&&(g.Links=u.Links.map(u=>{let g={};return u.Hash&&(g.Hash=u.Hash.bytes),void 0!==u.Name&&(g.Name=u.Name),void 0!==u.Tsize&&(g.Tsize=u.Tsize),g})),u.Data&&(g.Data=u.Data),tN(g)}function tX(u){let g=tk(u),E={};return g.Data&&(E.Data=g.Data),g.Links&&(E.Links=g.Links.map(u=>{let g={};try{g.Hash=td.decode(u.Hash)}catch(u){}if(!g.Hash)throw Error("Invalid Hash field found in link, expected CID");return void 0!==u.Name&&(g.Name=u.Name),void 0!==u.Tsize&&(g.Tsize=u.Tsize),g})),E}let tZ=["string","number","bigint","symbol"],tY=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function t0(u){if(null===u)return"null";if(void 0===u)return"undefined";if(!0===u||!1===u)return"boolean";let g=typeof u;if(tZ.includes(g))return g;if("function"===g)return"Function";if(Array.isArray(u))return"Array";if(t1(u))return"Buffer";let E=t2(u);return E||"Object"}function t1(u){return u&&u.constructor&&u.constructor.isBuffer&&u.constructor.isBuffer.call(null,u)}function t2(u){let g=Object.prototype.toString.call(u).slice(8,-1);if(tY.includes(g))return g}class t5{constructor(u,g,E){this.major=u,this.majorEncoded=u<<5,this.name=g,this.terminal=E}toString(){return`Type[${this.major}].${this.name}`}compare(u){return this.major<u.major?-1:this.major>u.major?1:0}}t5.uint=new t5(0,"uint",!0),t5.negint=new t5(1,"negint",!0),t5.bytes=new t5(2,"bytes",!0),t5.string=new t5(3,"string",!0),t5.array=new t5(4,"array",!1),t5.map=new t5(5,"map",!1),t5.tag=new t5(6,"tag",!1),t5.float=new t5(7,"float",!0),t5.false=new t5(7,"false",!0),t5.true=new t5(7,"true",!0),t5.null=new t5(7,"null",!0),t5.undefined=new t5(7,"undefined",!0),t5.break=new t5(7,"break",!0);class t8{constructor(u,g,E){this.type=u,this.value=g,this.encodedLength=E,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}let t6=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,t4=new TextDecoder,t3=new TextEncoder;function t7(u){return t6&&globalThis.Buffer.isBuffer(u)}function t9(u){return u instanceof Uint8Array?t7(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):u:Uint8Array.from(u)}let re=t6?(u,g,E)=>E-g>64?globalThis.Buffer.from(u.subarray(g,E)).toString("utf8"):ru(u,g,E):(u,g,E)=>E-g>64?t4.decode(u.subarray(g,E)):ru(u,g,E),rt=t6?u=>u.length>64?globalThis.Buffer.from(u):ra(u):u=>u.length>64?t3.encode(u):ra(u),rr=u=>Uint8Array.from(u),rn=t6?(u,g,E)=>t7(u)?new Uint8Array(u.subarray(g,E)):u.slice(g,E):(u,g,E)=>u.slice(g,E),ri=t6?(u,g)=>(u=u.map(u=>u instanceof Uint8Array?u:globalThis.Buffer.from(u)),t9(globalThis.Buffer.concat(u,g))):(u,g)=>{let E=new Uint8Array(g),A=0;for(let g of u)A+g.length>E.length&&(g=g.subarray(0,E.length-A)),E.set(g,A),A+=g.length;return E},ro=t6?u=>globalThis.Buffer.allocUnsafe(u):u=>new Uint8Array(u);function rs(u,g){if(t7(u)&&t7(g))return u.compare(g);for(let E=0;E<u.length;E++)if(u[E]!==g[E])return u[E]<g[E]?-1:1;return 0}function ra(u){let g=[],E=0;for(let A=0;A<u.length;A++){let C=u.charCodeAt(A);C<128?g[E++]=C:(C<2048?g[E++]=C>>6|192:((64512&C)==55296&&A+1<u.length&&(64512&u.charCodeAt(A+1))==56320?(C=65536+((1023&C)<<10)+(1023&u.charCodeAt(++A)),g[E++]=C>>18|240,g[E++]=C>>12&63|128):g[E++]=C>>12|224,g[E++]=C>>6&63|128),g[E++]=63&C|128)}return g}function ru(u,g,E){let A=[];for(;g<E;){let C=u[g],S=null,U=C>239?4:C>223?3:C>191?2:1;if(g+U<=E){let E,A,P,T;switch(U){case 1:C<128&&(S=C);break;case 2:(192&(E=u[g+1]))==128&&(T=(31&C)<<6|63&E)>127&&(S=T);break;case 3:E=u[g+1],A=u[g+2],(192&E)==128&&(192&A)==128&&(T=(15&C)<<12|(63&E)<<6|63&A)>2047&&(T<55296||T>57343)&&(S=T);break;case 4:E=u[g+1],A=u[g+2],P=u[g+3],(192&E)==128&&(192&A)==128&&(192&P)==128&&(T=(15&C)<<18|(63&E)<<12|(63&A)<<6|63&P)>65535&&T<1114112&&(S=T)}}null===S?(S=65533,U=1):S>65535&&(S-=65536,A.push(S>>>10&1023|55296),S=56320|1023&S),A.push(S),g+=U}return rc(A)}let rl=4096;function rc(u){let g=u.length;if(g<=rl)return String.fromCharCode.apply(String,u);let E="",A=0;for(;A<g;)E+=String.fromCharCode.apply(String,u.slice(A,A+=rl));return E}let rf=256;class rh{constructor(u=rf){this.chunkSize=u,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(u){let g=this.chunks[this.chunks.length-1],E=this.cursor+u.length;if(E<=this.maxCursor+1){let E=g.length-(this.maxCursor-this.cursor)-1;g.set(u,E)}else{if(g){let u=g.length-(this.maxCursor-this.cursor)-1;u<g.length&&(this.chunks[this.chunks.length-1]=g.subarray(0,u),this.maxCursor=this.cursor-1)}u.length<64&&u.length<this.chunkSize?(g=ro(this.chunkSize),this.chunks.push(g),this.maxCursor+=g.length,null===this._initReuseChunk&&(this._initReuseChunk=g),g.set(u,0)):(this.chunks.push(u),this.maxCursor+=u.length)}this.cursor+=u.length}toBytes(u=!1){let g;if(1===this.chunks.length){let E=this.chunks[0];u&&this.cursor>E.length/2?(g=this.cursor===E.length?E:E.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):g=rn(E,0,this.cursor)}else g=ri(this.chunks,this.cursor);return u&&this.reset(),g}}let rd="CBOR decode error:",rp="CBOR encode error:",rg=[];function ry(u,g,E){if(u.length-g<E)throw Error(`${rd} not enough data for type`)}rg[23]=1,rg[24]=2,rg[25]=3,rg[26]=5,rg[27]=9;let rb=[24,256,65536,4294967296,BigInt("18446744073709551616")];function rm(u,g,E){ry(u,g,1);let A=u[g];if(!0===E.strict&&A<rb[0])throw Error(`${rd} integer encoded in more bytes than necessary (strict decode)`);return A}function rw(u,g,E){ry(u,g,2);let A=u[g]<<8|u[g+1];if(!0===E.strict&&A<rb[1])throw Error(`${rd} integer encoded in more bytes than necessary (strict decode)`);return A}function rv(u,g,E){ry(u,g,4);let A=16777216*u[g]+(u[g+1]<<16)+(u[g+2]<<8)+u[g+3];if(!0===E.strict&&A<rb[2])throw Error(`${rd} integer encoded in more bytes than necessary (strict decode)`);return A}function rE(u,g,E){ry(u,g,8);let A=16777216*u[g]+(u[g+1]<<16)+(u[g+2]<<8)+u[g+3],C=16777216*u[g+4]+(u[g+5]<<16)+(u[g+6]<<8)+u[g+7],S=(BigInt(A)<<BigInt(32))+BigInt(C);if(!0===E.strict&&S<rb[3])throw Error(`${rd} integer encoded in more bytes than necessary (strict decode)`);if(S<=Number.MAX_SAFE_INTEGER)return Number(S);if(!0===E.allowBigInt)return S;throw Error(`${rd} integers outside of the safe integer range are not supported`)}function rA(u,g,E,A){return new t8(t5.uint,rm(u,g+1,A),2)}function rx(u,g,E,A){return new t8(t5.uint,rw(u,g+1,A),3)}function rC(u,g,E,A){return new t8(t5.uint,rv(u,g+1,A),5)}function rS(u,g,E,A){return new t8(t5.uint,rE(u,g+1,A),9)}function rk(u,g){return rU(u,0,g.value)}function rU(u,g,E){if(E<rb[0]){let A=Number(E);u.push([g|A])}else if(E<rb[1]){let A=Number(E);u.push([24|g,A])}else if(E<rb[2]){let A=Number(E);u.push([25|g,A>>>8,255&A])}else if(E<rb[3]){let A=Number(E);u.push([26|g,A>>>24&255,A>>>16&255,A>>>8&255,255&A])}else{let A=BigInt(E);if(A<rb[4]){let E=[27|g,0,0,0,0,0,0,0],C=Number(A&BigInt(4294967295)),S=Number(A>>BigInt(32)&BigInt(4294967295));E[8]=255&C,C>>=8,E[7]=255&C,C>>=8,E[6]=255&C,C>>=8,E[5]=255&C,E[4]=255&S,S>>=8,E[3]=255&S,S>>=8,E[2]=255&S,S>>=8,E[1]=255&S,u.push(E)}else throw Error(`${rd} encountered BigInt larger than allowable range`)}}function rP(u,g,E,A){return new t8(t5.negint,-1-rm(u,g+1,A),2)}function rT(u,g,E,A){return new t8(t5.negint,-1-rw(u,g+1,A),3)}function rI(u,g,E,A){return new t8(t5.negint,-1-rv(u,g+1,A),5)}rk.encodedSize=function(u){return rU.encodedSize(u.value)},rU.encodedSize=function(u){return u<rb[0]?1:u<rb[1]?2:u<rb[2]?3:u<rb[3]?5:9},rk.compareTokens=function(u,g){return u.value<g.value?-1:u.value>g.value?1:0};let rN=BigInt(-1),rj=BigInt(1);function r$(u,g,E,A){let C=rE(u,g+1,A);if("bigint"!=typeof C){let u=-1-C;if(u>=Number.MIN_SAFE_INTEGER)return new t8(t5.negint,u,9)}if(!0!==A.allowBigInt)throw Error(`${rd} integers outside of the safe integer range are not supported`);return new t8(t5.negint,rN-BigInt(C),9)}function rD(u,g){let E=g.value,A="bigint"==typeof E?E*rN-rj:-1*E-1;rU(u,g.type.majorEncoded,A)}function rB(u,g,E,A){ry(u,g,E+A);let C=rn(u,g+E,g+E+A);return new t8(t5.bytes,C,E+A)}function rL(u,g,E,A){return rB(u,g,1,E)}function rO(u,g,E,A){return rB(u,g,2,rm(u,g+1,A))}function rz(u,g,E,A){return rB(u,g,3,rw(u,g+1,A))}function r_(u,g,E,A){return rB(u,g,5,rv(u,g+1,A))}function rR(u,g,E,A){let C=rE(u,g+1,A);if("bigint"==typeof C)throw Error(`${rd} 64-bit integer bytes lengths not supported`);return rB(u,g,9,C)}function rF(u){return void 0===u.encodedBytes&&(u.encodedBytes=u.type===t5.string?rt(u.value):u.value),u.encodedBytes}function rM(u,g){let E=rF(g);rU(u,g.type.majorEncoded,E.length),u.push(E)}function rV(u,g){return u.length<g.length?-1:u.length>g.length?1:rs(u,g)}function rH(u,g,E,A,C){let S=E+A;ry(u,g,S);let U=new t8(t5.string,re(u,g+E,g+S),S);return!0===C.retainStringBytes&&(U.byteValue=rn(u,g+E,g+S)),U}function rq(u,g,E,A){return rH(u,g,1,E,A)}function rJ(u,g,E,A){return rH(u,g,2,rm(u,g+1,A),A)}function rW(u,g,E,A){return rH(u,g,3,rw(u,g+1,A),A)}function rG(u,g,E,A){return rH(u,g,5,rv(u,g+1,A),A)}function rK(u,g,E,A){let C=rE(u,g+1,A);if("bigint"==typeof C)throw Error(`${rd} 64-bit integer string lengths not supported`);return rH(u,g,9,C,A)}rD.encodedSize=function(u){let g=u.value,E="bigint"==typeof g?g*rN-rj:-1*g-1;return E<rb[0]?1:E<rb[1]?2:E<rb[2]?3:E<rb[3]?5:9},rD.compareTokens=function(u,g){return u.value<g.value?1:u.value>g.value?-1:0},rM.encodedSize=function(u){let g=rF(u);return rU.encodedSize(g.length)+g.length},rM.compareTokens=function(u,g){return rV(rF(u),rF(g))};let rQ=rM;function rX(u,g,E,A){return new t8(t5.array,A,E)}function rZ(u,g,E,A){return rX(u,g,1,E)}function rY(u,g,E,A){return rX(u,g,2,rm(u,g+1,A))}function r0(u,g,E,A){return rX(u,g,3,rw(u,g+1,A))}function r1(u,g,E,A){return rX(u,g,5,rv(u,g+1,A))}function r2(u,g,E,A){let C=rE(u,g+1,A);if("bigint"==typeof C)throw Error(`${rd} 64-bit integer array lengths not supported`);return rX(u,g,9,C)}function r5(u,g,E,A){if(!1===A.allowIndefinite)throw Error(`${rd} indefinite length items not allowed`);return rX(u,g,1,1/0)}function r8(u,g){rU(u,t5.array.majorEncoded,g.value)}function r6(u,g,E,A){return new t8(t5.map,A,E)}function r4(u,g,E,A){return r6(u,g,1,E)}function r3(u,g,E,A){return r6(u,g,2,rm(u,g+1,A))}function r7(u,g,E,A){return r6(u,g,3,rw(u,g+1,A))}function r9(u,g,E,A){return r6(u,g,5,rv(u,g+1,A))}function ne(u,g,E,A){let C=rE(u,g+1,A);if("bigint"==typeof C)throw Error(`${rd} 64-bit integer map lengths not supported`);return r6(u,g,9,C)}function nt(u,g,E,A){if(!1===A.allowIndefinite)throw Error(`${rd} indefinite length items not allowed`);return r6(u,g,1,1/0)}function nr(u,g){rU(u,t5.map.majorEncoded,g.value)}function nn(u,g,E,A){return new t8(t5.tag,E,1)}function ni(u,g,E,A){return new t8(t5.tag,rm(u,g+1,A),2)}function no(u,g,E,A){return new t8(t5.tag,rw(u,g+1,A),3)}function ns(u,g,E,A){return new t8(t5.tag,rv(u,g+1,A),5)}function na(u,g,E,A){return new t8(t5.tag,rE(u,g+1,A),9)}function nu(u,g){rU(u,t5.tag.majorEncoded,g.value)}r8.compareTokens=rk.compareTokens,r8.encodedSize=function(u){return rU.encodedSize(u.value)},nr.compareTokens=rk.compareTokens,nr.encodedSize=function(u){return rU.encodedSize(u.value)},nu.compareTokens=rk.compareTokens,nu.encodedSize=function(u){return rU.encodedSize(u.value)};let nl=20,nc=21,nf=22,nh=23;function nd(u,g,E,A){if(!1===A.allowUndefined)throw Error(`${rd} undefined values are not supported`);return!0===A.coerceUndefinedToNull?new t8(t5.null,null,1):new t8(t5.undefined,void 0,1)}function np(u,g,E,A){if(!1===A.allowIndefinite)throw Error(`${rd} indefinite length items not allowed`);return new t8(t5.break,void 0,1)}function ng(u,g,E){if(E){if(!1===E.allowNaN&&Number.isNaN(u))throw Error(`${rd} NaN values are not supported`);if(!1===E.allowInfinity&&(u===1/0||u===-1/0))throw Error(`${rd} Infinity values are not supported`)}return new t8(t5.float,u,g)}function ny(u,g,E,A){return ng(nC(u,g+1),3,A)}function nb(u,g,E,A){return ng(nk(u,g+1),5,A)}function nm(u,g,E,A){return ng(nP(u,g+1),9,A)}function nw(u,g,E){let A=g.value;if(!1===A)u.push([t5.float.majorEncoded|nl]);else if(!0===A)u.push([t5.float.majorEncoded|nc]);else if(null===A)u.push([t5.float.majorEncoded|nf]);else if(void 0===A)u.push([t5.float.majorEncoded|nh]);else{let g;let C=!1;E&&!0===E.float64||(nx(A),A===(g=nC(nA,1))||Number.isNaN(A)?(nA[0]=249,u.push(nA.slice(0,3)),C=!0):(nS(A),A!==(g=nk(nA,1))||(nA[0]=250,u.push(nA.slice(0,5)),C=!0))),C||(nU(A),g=nP(nA,1),nA[0]=251,u.push(nA.slice(0,9)))}}nw.encodedSize=function(u,g){let E=u.value;if(!1===E||!0===E||null==E)return 1;if(!g||!0!==g.float64){nx(E);let u=nC(nA,1);if(E===u||Number.isNaN(E))return 3;if(nS(E),E===(u=nk(nA,1)))return 5}return 9};let nv=new ArrayBuffer(9),nE=new DataView(nv,1),nA=new Uint8Array(nv,0);function nx(u){if(u===1/0)nE.setUint16(0,31744,!1);else if(u===-1/0)nE.setUint16(0,64512,!1);else if(Number.isNaN(u))nE.setUint16(0,32256,!1);else{nE.setFloat32(0,u);let g=nE.getUint32(0),E=(2139095040&g)>>23,A=8388607&g;if(255===E)nE.setUint16(0,31744,!1);else if(0===E)nE.setUint16(0,(2147483648&u)>>16|A>>13,!1);else{let u=E-127;u<-24?nE.setUint16(0,0):u<-14?nE.setUint16(0,(2147483648&g)>>16|1<<24+u,!1):nE.setUint16(0,(2147483648&g)>>16|u+15<<10|A>>13,!1)}}}function nC(u,g){let E;if(u.length-g<2)throw Error(`${rd} not enough data for float16`);let A=(u[g]<<8)+u[g+1];if(31744===A)return 1/0;if(64512===A)return-1/0;if(32256===A)return NaN;let C=A>>10&31,S=1023&A;return E=0===C?5960464477539063e-23*S:31!==C?(S+1024)*2**(C-25):0===S?1/0:NaN,32768&A?-E:E}function nS(u){nE.setFloat32(0,u,!1)}function nk(u,g){if(u.length-g<4)throw Error(`${rd} not enough data for float32`);let E=(u.byteOffset||0)+g;return new DataView(u.buffer,E,4).getFloat32(0,!1)}function nU(u){nE.setFloat64(0,u,!1)}function nP(u,g){if(u.length-g<8)throw Error(`${rd} not enough data for float64`);let E=(u.byteOffset||0)+g;return new DataView(u.buffer,E,8).getFloat64(0,!1)}function nT(u,g,E){throw Error(`${rd} encountered invalid minor (${E}) for major ${u[g]>>>5}`)}function nI(u){return()=>{throw Error(`${rd} ${u}`)}}nw.compareTokens=rk.compareTokens;let nN=[];for(let u=0;u<=23;u++)nN[u]=nT;nN[24]=rA,nN[25]=rx,nN[26]=rC,nN[27]=rS,nN[28]=nT,nN[29]=nT,nN[30]=nT,nN[31]=nT;for(let u=32;u<=55;u++)nN[u]=nT;nN[56]=rP,nN[57]=rT,nN[58]=rI,nN[59]=r$,nN[60]=nT,nN[61]=nT,nN[62]=nT,nN[63]=nT;for(let u=64;u<=87;u++)nN[u]=rL;nN[88]=rO,nN[89]=rz,nN[90]=r_,nN[91]=rR,nN[92]=nT,nN[93]=nT,nN[94]=nT,nN[95]=nI("indefinite length bytes/strings are not supported");for(let u=96;u<=119;u++)nN[u]=rq;nN[120]=rJ,nN[121]=rW,nN[122]=rG,nN[123]=rK,nN[124]=nT,nN[125]=nT,nN[126]=nT,nN[127]=nI("indefinite length bytes/strings are not supported");for(let u=128;u<=151;u++)nN[u]=rZ;nN[152]=rY,nN[153]=r0,nN[154]=r1,nN[155]=r2,nN[156]=nT,nN[157]=nT,nN[158]=nT,nN[159]=r5;for(let u=160;u<=183;u++)nN[u]=r4;nN[184]=r3,nN[185]=r7,nN[186]=r9,nN[187]=ne,nN[188]=nT,nN[189]=nT,nN[190]=nT,nN[191]=nt;for(let u=192;u<=215;u++)nN[u]=nn;nN[216]=ni,nN[217]=no,nN[218]=ns,nN[219]=na,nN[220]=nT,nN[221]=nT,nN[222]=nT,nN[223]=nT;for(let u=224;u<=243;u++)nN[u]=nI("simple values are not supported");nN[244]=nT,nN[245]=nT,nN[246]=nT,nN[247]=nd,nN[248]=nI("simple values are not supported"),nN[249]=ny,nN[250]=nb,nN[251]=nm,nN[252]=nT,nN[253]=nT,nN[254]=nT,nN[255]=np;let nj=[];for(let u=0;u<24;u++)nj[u]=new t8(t5.uint,u,1);for(let u=-1;u>=-24;u--)nj[31-u]=new t8(t5.negint,u,1);function n$(u){switch(u.type){case t5.false:return rr([244]);case t5.true:return rr([245]);case t5.null:return rr([246]);case t5.bytes:if(!u.value.length)return rr([64]);return;case t5.string:if(""===u.value)return rr([96]);return;case t5.array:if(0===u.value)return rr([128]);return;case t5.map:if(0===u.value)return rr([160]);return;case t5.uint:if(u.value<24)return rr([Number(u.value)]);return;case t5.negint:if(u.value>=-24)return rr([31-Number(u.value)])}}nj[64]=new t8(t5.bytes,new Uint8Array(0),1),nj[96]=new t8(t5.string,"",1),nj[128]=new t8(t5.array,0,1),nj[160]=new t8(t5.map,0,1),nj[244]=new t8(t5.false,!1,1),nj[245]=new t8(t5.true,!0,1),nj[246]=new t8(t5.null,null,1);let nD={float64:!1,mapSorter:nV,quickEncodeToken:n$};function nB(){let u=[];return u[t5.uint.major]=rk,u[t5.negint.major]=rD,u[t5.bytes.major]=rM,u[t5.string.major]=rQ,u[t5.array.major]=r8,u[t5.map.major]=nr,u[t5.tag.major]=nu,u[t5.float.major]=nw,u}let nL=nB(),nO=new rh;class nz{constructor(u,g){this.obj=u,this.parent=g}includes(u){let g=this;do if(g.obj===u)return!0;while(g=g.parent);return!1}static createCheck(u,g){if(u&&u.includes(g))throw Error(`${rp} object contains circular references`);return new nz(g,u)}}let n_={null:new t8(t5.null,null),undefined:new t8(t5.undefined,void 0),true:new t8(t5.true,!0),false:new t8(t5.false,!1),emptyArray:new t8(t5.array,0),emptyMap:new t8(t5.map,0)},nR={number:(u,g,E,A)=>Number.isInteger(u)&&Number.isSafeInteger(u)?u>=0?new t8(t5.uint,u):new t8(t5.negint,u):new t8(t5.float,u),bigint:(u,g,E,A)=>u>=BigInt(0)?new t8(t5.uint,u):new t8(t5.negint,u),Uint8Array:(u,g,E,A)=>new t8(t5.bytes,u),string:(u,g,E,A)=>new t8(t5.string,u),boolean:(u,g,E,A)=>u?n_.true:n_.false,null:(u,g,E,A)=>n_.null,undefined:(u,g,E,A)=>n_.undefined,ArrayBuffer:(u,g,E,A)=>new t8(t5.bytes,new Uint8Array(u)),DataView:(u,g,E,A)=>new t8(t5.bytes,new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),Array(u,g,E,A){if(!u.length)return!0===E.addBreakTokens?[n_.emptyArray,new t8(t5.break)]:n_.emptyArray;A=nz.createCheck(A,u);let C=[],S=0;for(let g of u)C[S++]=nF(g,E,A);return E.addBreakTokens?[new t8(t5.array,u.length),C,new t8(t5.break)]:[new t8(t5.array,u.length),C]},Object(u,g,E,A){let C="Object"!==g,S=C?u.keys():Object.keys(u),U=C?u.size:S.length;if(!U)return!0===E.addBreakTokens?[n_.emptyMap,new t8(t5.break)]:n_.emptyMap;A=nz.createCheck(A,u);let P=[],T=0;for(let g of S)P[T++]=[nF(g,E,A),nF(C?u.get(g):u[g],E,A)];return(nM(P,E),E.addBreakTokens)?[new t8(t5.map,U),P,new t8(t5.break)]:[new t8(t5.map,U),P]}};for(let u of(nR.Map=nR.Object,nR.Buffer=nR.Uint8Array,"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")))nR[`${u}Array`]=nR.DataView;function nF(u,g={},E){let A=t0(u),C=g&&g.typeEncoders&&g.typeEncoders[A]||nR[A];if("function"==typeof C){let S=C(u,A,g,E);if(null!=S)return S}let S=nR[A];if(!S)throw Error(`${rp} unsupported type: ${A}`);return S(u,A,g,E)}function nM(u,g){g.mapSorter&&u.sort(g.mapSorter)}function nV(u,g){let E=Array.isArray(u[0])?u[0][0]:u[0],A=Array.isArray(g[0])?g[0][0]:g[0];if(E.type!==A.type)return E.type.compare(A.type);let C=E.type.major,S=nL[C].compareTokens(E,A);return 0===S&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),S}function nH(u,g,E,A){if(Array.isArray(g))for(let C of g)nH(u,C,E,A);else E[g.type.major](u,g,A)}function nq(u,g,E){let A=nF(u,E);if(!Array.isArray(A)&&E.quickEncodeToken){let u=E.quickEncodeToken(A);if(u)return u;let C=g[A.type.major];if(C.encodedSize){let u=C.encodedSize(A,E),g=new rh(u);if(C(g,A,E),1!==g.chunks.length)throw Error(`Unexpected error: pre-calculated length for ${A} was wrong`);return t9(g.chunks[0])}}return nO.reset(),nH(nO,A,g,E),nO.toBytes(!0)}function nJ(u,g){return nq(u,nL,g=Object.assign({},nD,g))}let nW={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class nG{constructor(u,g={}){this._pos=0,this.data=u,this.options=g}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let u=this.data[this._pos],g=nj[u];if(void 0===g){let E=nN[u];if(!E)throw Error(`${rd} no decoder for major type ${u>>>5} (byte 0x${u.toString(16).padStart(2,"0")})`);let A=31&u;g=E(this.data,this._pos,A,this.options)}return this._pos+=g.encodedLength,g}}let nK=Symbol.for("DONE"),nQ=Symbol.for("BREAK");function nX(u,g,E){let A=[];for(let C=0;C<u.value;C++){let S=nY(g,E);if(S===nQ){if(u.value===1/0)break;throw Error(`${rd} got unexpected break to lengthed array`)}if(S===nK)throw Error(`${rd} found array but not enough entries (got ${C}, expected ${u.value})`);A[C]=S}return A}function nZ(u,g,E){let A=!0===E.useMaps,C=A?void 0:{},S=A?new Map:void 0;for(let U=0;U<u.value;U++){let P=nY(g,E);if(P===nQ){if(u.value===1/0)break;throw Error(`${rd} got unexpected break to lengthed map`)}if(P===nK)throw Error(`${rd} found map but not enough entries (got ${U} [no key], expected ${u.value})`);if(!0!==A&&"string"!=typeof P)throw Error(`${rd} non-string keys not supported (got ${typeof P})`);if(!0===E.rejectDuplicateMapKeys&&(A&&S.has(P)||!A&&P in C))throw Error(`${rd} found repeat map key "${P}"`);let T=nY(g,E);if(T===nK)throw Error(`${rd} found map but not enough entries (got ${U} [no value], expected ${u.value})`);A?S.set(P,T):C[P]=T}return A?S:C}function nY(u,g){if(u.done())return nK;let E=u.next();if(E.type===t5.break)return nQ;if(E.type.terminal)return E.value;if(E.type===t5.array)return nX(E,u,g);if(E.type===t5.map)return nZ(E,u,g);if(E.type===t5.tag){if(g.tags&&"function"==typeof g.tags[E.value]){let A=nY(u,g);return g.tags[E.value](A)}throw Error(`${rd} tag not supported (${E.value})`)}throw Error("unsupported")}function n0(u,g){if(!(u instanceof Uint8Array))throw Error(`${rd} data to decode must be a Uint8Array`);g=Object.assign({},nW,g);let E=g.tokenizer||new nG(u,g),A=nY(E,g);if(A===nK)throw Error(`${rd} did not find any content to decode`);if(A===nQ)throw Error(`${rd} got unexpected break`);return[A,u.subarray(E.pos())]}function n1(u,g){let[E,A]=n0(u,g);if(A.length>0)throw Error(`${rd} too many terminals, data makes no sense`);return E}var n2=function(u,g){if(u.length>=255)throw TypeError("Alphabet too long");for(var E=new Uint8Array(256),A=0;A<E.length;A++)E[A]=255;for(var C=0;C<u.length;C++){var S=u.charAt(C),U=S.charCodeAt(0);if(255!==E[U])throw TypeError(S+" is ambiguous");E[U]=C}var P=u.length,T=u.charAt(0),I=Math.log(P)/Math.log(256),N=Math.log(256)/Math.log(P);function $(u){if("string"!=typeof u)throw TypeError("Expected String");if(0===u.length)return new Uint8Array;var g=0;if(" "!==u[0]){for(var A=0,C=0;u[g]===T;)A++,g++;for(var S=(u.length-g)*I+1>>>0,U=new Uint8Array(S);u[g];){var N=E[u.charCodeAt(g)];if(255===N)return;for(var $=0,D=S-1;(0!==N||$<C)&&-1!==D;D--,$++)N+=P*U[D]>>>0,U[D]=N%256>>>0,N=N/256>>>0;if(0!==N)throw Error("Non-zero carry");C=$,g++}if(" "!==u[g]){for(var B=S-C;B!==S&&0===U[B];)B++;for(var L=new Uint8Array(A+(S-B)),O=A;B!==S;)L[O++]=U[B++];return L}}}function D(u){var E=$(u);if(E)return E;throw Error(`Non-${g} character`)}return{encode:function(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===g.length)return"";for(var E=0,A=0,C=0,S=g.length;C!==S&&0===g[C];)C++,E++;for(var U=(S-C)*N+1>>>0,I=new Uint8Array(U);C!==S;){for(var $=g[C],D=0,B=U-1;(0!==$||D<A)&&-1!==B;B--,D++)$+=256*I[B]>>>0,I[B]=$%P>>>0,$=$/P>>>0;if(0!==$)throw Error("Non-zero carry");A=D,C++}for(var L=U-A;L!==U&&0===I[L];)L++;for(var O=T.repeat(E);L<U;++L)O+=u.charAt(I[L]);return O},decodeUnsafe:$,decode:D}};new Uint8Array(0);let n5=(u,g)=>{if(u===g)return!0;if(u.byteLength!==g.byteLength)return!1;for(let E=0;E<u.byteLength;E++)if(u[E]!==g[E])return!1;return!0},n8=u=>{if(u instanceof Uint8Array&&"Uint8Array"===u.constructor.name)return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw Error("Unknown type, must be binary type")};class n6{constructor(u,g,E){this.name=u,this.prefix=g,this.baseEncode=E}encode(u){if(u instanceof Uint8Array)return`${this.prefix}${this.baseEncode(u)}`;throw Error("Unknown type, must be binary type")}}class n4{constructor(u,g,E){if(this.name=u,this.prefix=g,void 0===g.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=g.codePointAt(0),this.baseDecode=E}decode(u){if("string"==typeof u){if(u.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(u)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(u.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(u){return n7(this,u)}}class n3{constructor(u){this.decoders=u}or(u){return n7(this,u)}decode(u){let g=u[0],E=this.decoders[g];if(E)return E.decode(u);throw RangeError(`Unable to decode multibase string ${JSON.stringify(u)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let n7=(u,g)=>new n3({...u.decoders||{[u.prefix]:u},...g.decoders||{[g.prefix]:g}});class n9{constructor(u,g,E,A){this.name=u,this.prefix=g,this.baseEncode=E,this.baseDecode=A,this.encoder=new n6(u,g,E),this.decoder=new n4(u,g,A)}encode(u){return this.encoder.encode(u)}decode(u){return this.decoder.decode(u)}}let ie=({name:u,prefix:g,encode:E,decode:A})=>new n9(u,g,E,A),it=({prefix:u,name:g,alphabet:E})=>{let{encode:A,decode:C}=n2(E,g);return ie({prefix:u,name:g,encode:A,decode:u=>n8(C(u))})},ir=(u,g,E,A)=>{let C={};for(let u=0;u<g.length;++u)C[g[u]]=u;let S=u.length;for(;"="===u[S-1];)--S;let U=new Uint8Array(S*E/8|0),P=0,T=0,I=0;for(let g=0;g<S;++g){let S=C[u[g]];if(void 0===S)throw SyntaxError(`Non-${A} character`);T=T<<E|S,(P+=E)>=8&&(P-=8,U[I++]=255&T>>P)}if(P>=E||255&T<<8-P)throw SyntaxError("Unexpected end of data");return U},io=(u,g,E)=>{let A="="===g[g.length-1],C=(1<<E)-1,S="",U=0,P=0;for(let A=0;A<u.length;++A)for(P=P<<8|u[A],U+=8;U>E;)U-=E,S+=g[C&P>>U];if(U&&(S+=g[C&P<<E-U]),A)for(;S.length*E&7;)S+="=";return S},ia=({name:u,prefix:g,bitsPerChar:E,alphabet:A})=>ie({prefix:g,name:u,encode:u=>io(u,A,E),decode:g=>ir(g,A,E,u)}),iu=ia({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});ia({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ia({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ia({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ia({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ia({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ia({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ia({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ia({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let il=it({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});it({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ic=128,ih=-128,ig=2147483648;function iy(u,g,E){g=g||[];for(var A=E=E||0;u>=ig;)g[E++]=255&u|ic,u/=128;for(;u&ih;)g[E++]=255&u|ic,u>>>=7;return g[E]=0|u,iy.bytes=E-A+1,g}var ib=128,im=127;function iw(u,g){var E,A=0,g=g||0,C=0,S=g,U=u.length;do{if(S>=U)throw iw.bytes=0,RangeError("Could not decode varint");E=u[S++],A+=C<28?(E&im)<<C:(E&im)*Math.pow(2,C),C+=7}while(E>=ib);return iw.bytes=S-g,A}var iE=128,iA=16384,iC=2097152,iS=268435456,ik=34359738368,iU=4398046511104,iP=562949953421312,iT=72057594037927940,iI=0x7fffffffffffffff,iN={encode:iy,decode:iw,encodingLength:function(u){return u<iE?1:u<iA?2:u<iC?3:u<iS?4:u<ik?5:u<iU?6:u<iP?7:u<iT?8:u<iI?9:10}};let ij=(u,g=0)=>{let E=iN.decode(u,g);return[E,iN.decode.bytes]},i$=(u,g,E=0)=>(iN.encode(u,g,E),g),iD=u=>iN.encodingLength(u),iB=(u,g)=>{let E=g.byteLength,A=iD(u),C=A+iD(E),S=new Uint8Array(C+E);return i$(u,S,0),i$(E,S,A),S.set(g,C),new iz(u,E,g,S)},iL=u=>{let g=n8(u),[E,A]=ij(g),[C,S]=ij(g.subarray(A)),U=g.subarray(A+S);if(U.byteLength!==C)throw Error("Incorrect length");return new iz(E,C,U,g)},iO=(u,g)=>{if(u===g)return!0;{let E=g;return u.code===E.code&&u.size===E.size&&E.bytes instanceof Uint8Array&&n5(u.bytes,E.bytes)}};class iz{constructor(u,g,E,A){this.code=u,this.size=g,this.digest=E,this.bytes=A}}let i_=(u,g)=>{let{bytes:E,version:A}=u;return 0===A?iH(E,iF(u),g||il.encoder):iq(E,iF(u),g||iu.encoder)},iR=new WeakMap,iF=u=>{let g=iR.get(u);if(null==g){let g=new Map;return iR.set(u,g),g}return g};class iM{constructor(u,g,E,A){this.code=g,this.version=u,this.multihash=E,this.bytes=A,this["/"]=A}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:u,multihash:g}=this;if(u!==iJ)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(g.code!==iW)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return iM.createV0(g)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:u,digest:g}=this.multihash,E=iB(u,g);return iM.createV1(this.code,E)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(u){return iM.equals(this,u)}static equals(u,g){let E=g;return E&&u.code===E.code&&u.version===E.version&&iO(u.multihash,E.multihash)}toString(u){return i_(this,u)}toJSON(){return{"/":i_(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(u){if(null==u)return null;let g=u;if(g instanceof iM)return g;if(null!=g["/"]&&g["/"]===g.bytes||g.asCID===g){let{version:u,code:E,multihash:A,bytes:C}=g;return new iM(u,E,A,C||iG(u,E,A.bytes))}if(!0!==g[iK])return null;{let{version:u,multihash:E,code:A}=g,C=iL(E);return iM.create(u,A,C)}}static create(u,g,E){if("number"!=typeof g)throw Error("String codecs are no longer supported");if(!(E.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(u){case 0:if(g===iJ)return new iM(u,g,E,E.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${iJ}) block encoding`);case 1:{let A=iG(u,g,E.bytes);return new iM(u,g,E,A)}default:throw Error("Invalid version")}}static createV0(u){return iM.create(0,iJ,u)}static createV1(u,g){return iM.create(1,u,g)}static decode(u){let[g,E]=iM.decodeFirst(u);if(E.length)throw Error("Incorrect length");return g}static decodeFirst(u){let g=iM.inspectBytes(u),E=g.size-g.multihashSize,A=n8(u.subarray(E,E+g.multihashSize));if(A.byteLength!==g.multihashSize)throw Error("Incorrect length");let C=A.subarray(g.multihashSize-g.digestSize),S=new iz(g.multihashCode,g.digestSize,C,A),U=0===g.version?iM.createV0(S):iM.createV1(g.codec,S);return[U,u.subarray(g.size)]}static inspectBytes(u){let g=0,E=()=>{let[E,A]=ij(u.subarray(g));return g+=A,E},A=E(),C=iJ;if(18===A?(A=0,g=0):C=E(),0!==A&&1!==A)throw RangeError(`Invalid CID version ${A}`);let S=g,U=E(),P=E(),T=g+P,I=T-S;return{version:A,codec:C,multihashCode:U,digestSize:P,multihashSize:I,size:T}}static parse(u,g){let[E,A]=iV(u,g),C=iM.decode(A);if(0===C.version&&"Q"!==u[0])throw Error("Version 0 CID string must not include multibase prefix");return iF(C).set(E,u),C}}let iV=(u,g)=>{switch(u[0]){case"Q":{let E=g||il;return[il.prefix,E.decode(`${il.prefix}${u}`)]}case il.prefix:{let E=g||il;return[il.prefix,E.decode(u)]}case iu.prefix:{let E=g||iu;return[iu.prefix,E.decode(u)]}default:if(null==g)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[u[0],g.decode(u)]}},iH=(u,g,E)=>{let{prefix:A}=E;if(A!==il.prefix)throw Error(`Cannot string encode V0 in ${E.name} encoding`);let C=g.get(A);if(null!=C)return C;{let C=E.encode(u).slice(1);return g.set(A,C),C}},iq=(u,g,E)=>{let{prefix:A}=E,C=g.get(A);if(null!=C)return C;{let C=E.encode(u);return g.set(A,C),C}},iJ=112,iW=18,iG=(u,g,E)=>{let A=iD(u),C=A+iD(g),S=new Uint8Array(C+E.byteLength);return i$(u,S,0),i$(g,S,A),S.set(E,C),S},iK=Symbol.for("@ipld/js-cid/CID"),iQ=42;function iX(u){if(u.asCID!==u&&u["/"]!==u.bytes)return null;let g=iM.asCID(u);if(!g)return null;let E=new Uint8Array(g.bytes.byteLength+1);return E.set(g.bytes,1),[new t8(t5.tag,iQ),new t8(t5.bytes,E)]}function iZ(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function iY(u){if(Number.isNaN(u))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(u===1/0||u===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}let i0={float64:!0,typeEncoders:{Object:iX,undefined:iZ,number:iY}};function i1(u){if(0!==u[0])throw Error("Invalid CID for CBOR tag 42; expected leading 0x00");return iM.decode(u.subarray(1))}let i2={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};i2.tags[iQ]=i1;let i5="dag-cbor",i8=113,i6=u=>nJ(u,i0),i4=u=>n1(u,i2);class i3 extends Array{constructor(){super(),this.inRecursive=[]}prefix(u){let g=this.inRecursive[this.inRecursive.length-1];g&&(g.type===t5.array&&(g.elements++,1!==g.elements&&u.push([44])),g.type===t5.map&&(g.elements++,1!==g.elements&&(g.elements%2==1?u.push([44]):u.push([58]))))}[t5.uint.major](u,g){this.prefix(u);let E=String(g.value),A=[];for(let u=0;u<E.length;u++)A[u]=E.charCodeAt(u);u.push(A)}[t5.negint.major](u,g){this[t5.uint.major](u,g)}[t5.bytes.major](u,g){throw Error(`${rp} unsupported type: Uint8Array`)}[t5.string.major](u,g){this.prefix(u);let E=rt(JSON.stringify(g.value));u.push(E.length>32?t9(E):E)}[t5.array.major](u,g){this.prefix(u),this.inRecursive.push({type:t5.array,elements:0}),u.push([91])}[t5.map.major](u,g){this.prefix(u),this.inRecursive.push({type:t5.map,elements:0}),u.push([123])}[t5.tag.major](u,g){}[t5.float.major](u,g){if("break"===g.type.name){let g=this.inRecursive.pop();if(g){if(g.type===t5.array)u.push([93]);else if(g.type===t5.map)u.push([125]);else throw Error("Unexpected recursive type; this should not happen!");return}throw Error("Unexpected break; this should not happen!")}if(void 0===g.value)throw Error(`${rp} unsupported type: undefined`);if(this.prefix(u),"true"===g.type.name){u.push([116,114,117,101]);return}if("false"===g.type.name){u.push([102,97,108,115,101]);return}if("null"===g.type.name){u.push([110,117,108,108]);return}let E=String(g.value),A=[],C=!1;for(let u=0;u<E.length;u++)A[u]=E.charCodeAt(u),C||46!==A[u]&&101!==A[u]&&69!==A[u]||(C=!0);C||(A.push(46),A.push(48)),u.push(A)}}function i7(u,g){if(Array.isArray(u[0])||Array.isArray(g[0]))throw Error(`${rp} complex map keys are not supported`);let E=u[0],A=g[0];if(E.type!==t5.string||A.type!==t5.string)throw Error(`${rp} non-string map keys are not supported`);if(E<A)return -1;if(E>A)return 1;throw Error(`${rp} unexpected duplicate map keys, this is not supported`)}let i9={addBreakTokens:!0,mapSorter:i7};function oe(u,g){return g=Object.assign({},i9,g),nq(u,new i3,g)}class ot{constructor(u,g={}){this._pos=0,this.data=u,this.options=g,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let u=this.ch();for(;32===u||9===u||13===u||10===u;)u=this.data[++this._pos]}expect(u){if(this.data.length-this._pos<u.length)throw Error(`${rd} unexpected end of input at position ${this._pos}`);for(let g=0;g<u.length;g++)if(this.data[this._pos++]!==u[g])throw Error(`${rd} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...u)}'`)}parseNumber(){let u=this._pos,g=!1,E=!1,A=u=>{for(;!this.done();){let g=this.ch();if(u.includes(g))this._pos++;else break}};if(45===this.ch()&&(g=!0,this._pos++),48===this.ch()){if(this._pos++,46!==this.ch())return new t8(t5.uint,0,this._pos-u);this._pos++,E=!0}if(A([48,49,50,51,52,53,54,55,56,57]),g&&this._pos===u+1)throw Error(`${rd} unexpected token at position ${this._pos}`);if(!this.done()&&46===this.ch()){if(E)throw Error(`${rd} unexpected token at position ${this._pos}`);E=!0,this._pos++,A([48,49,50,51,52,53,54,55,56,57])}this.done()||101!==this.ch()&&69!==this.ch()||(E=!0,this._pos++,!this.done()&&(43===this.ch()||45===this.ch())&&this._pos++,A([48,49,50,51,52,53,54,55,56,57]));let C=String.fromCharCode.apply(null,this.data.subarray(u,this._pos)),S=parseFloat(C);return E?new t8(t5.float,S,this._pos-u):!0!==this.options.allowBigInt||Number.isSafeInteger(S)?new t8(S>=0?t5.uint:t5.negint,S,this._pos-u):new t8(S>=0?t5.uint:t5.negint,BigInt(C),this._pos-u)}parseString(){if(34!==this.ch())throw Error(`${rd} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let u=this._pos,g=0;u<this.data.length&&g<65536;u++,g++){let E=this.data[u];if(92===E||E<32||E>=128)break;if(34===E){let E=String.fromCharCode.apply(null,this.data.subarray(this._pos,u));return this._pos=u+1,new t8(t5.string,E,g)}}let u=this._pos,g=[],E=()=>{if(this._pos+4>=this.data.length)throw Error(`${rd} unexpected end of unicode escape sequence at position ${this._pos}`);let u=0;for(let g=0;g<4;g++){let g=this.ch();if(g>=48&&g<=57)g-=48;else if(g>=97&&g<=102)g=g-97+10;else if(g>=65&&g<=70)g=g-65+10;else throw Error(`${rd} unexpected unicode escape character at position ${this._pos}`);u=16*u+g,this._pos++}return u},A=()=>{let u,E,A,C;let S=this.ch(),U=null,P=S>239?4:S>223?3:S>191?2:1;if(this._pos+P>this.data.length)throw Error(`${rd} unexpected unicode sequence at position ${this._pos}`);switch(P){case 1:S<128&&(U=S);break;case 2:(192&(u=this.data[this._pos+1]))==128&&(C=(31&S)<<6|63&u)>127&&(U=C);break;case 3:u=this.data[this._pos+1],E=this.data[this._pos+2],(192&u)==128&&(192&E)==128&&(C=(15&S)<<12|(63&u)<<6|63&E)>2047&&(C<55296||C>57343)&&(U=C);break;case 4:u=this.data[this._pos+1],E=this.data[this._pos+2],A=this.data[this._pos+3],(192&u)==128&&(192&E)==128&&(192&A)==128&&(C=(15&S)<<18|(63&u)<<12|(63&E)<<6|63&A)>65535&&C<1114112&&(U=C)}null===U?(U=65533,P=1):U>65535&&(U-=65536,g.push(U>>>10&1023|55296),U=56320|1023&U),g.push(U),this._pos+=P};for(;!this.done();){let C;let S=this.ch();switch(S){case 92:if(this._pos++,this.done())throw Error(`${rd} unexpected string termination at position ${this._pos}`);switch(C=this.ch(),this._pos++,C){case 34:case 39:case 92:case 47:g.push(C);break;case 98:g.push(8);break;case 116:g.push(9);break;case 110:g.push(10);break;case 102:g.push(12);break;case 114:g.push(13);break;case 117:g.push(E());break;default:throw Error(`${rd} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new t8(t5.string,rc(g),this._pos-u);default:if(S<32)throw Error(`${rd} invalid control character at position ${this._pos}`);S<128?(g.push(S),this._pos++):A()}}throw Error(`${rd} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new t8(t5.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new t8(t5.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new t8(t5.null,null,4);case 102:return this.expect([102,97,108,115,101]),new t8(t5.false,!1,5);case 116:return this.expect([116,114,117,101]),new t8(t5.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw Error(`${rd} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new t8(t5.break,void 0,1);if(44!==this.ch())throw Error(`${rd} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new t8(t5.break,void 0,1);return this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"obj-key":if(125===this.ch())return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new t8(t5.break,void 0,1);if(44!==this.ch())throw Error(`${rd} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),125===this.ch())return this._pos++,this.skipWhitespace(),new t8(t5.break,void 0,1);let u=this.parseString();if(this.skipWhitespace(),58!==this.ch())throw Error(`${rd} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),u}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw Error(`${rd} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function on(u,g){return g=Object.assign({tokenizer:new ot(u,g)},g),n1(u,g)}new Uint8Array(0);let oi=(u,g)=>{if(u===g)return!0;if(u.byteLength!==g.byteLength)return!1;for(let E=0;E<u.byteLength;E++)if(u[E]!==g[E])return!1;return!0},oo=u=>{if(u instanceof Uint8Array&&"Uint8Array"===u.constructor.name)return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw Error("Unknown type, must be binary type")};var os=function(u,g){if(u.length>=255)throw TypeError("Alphabet too long");for(var E=new Uint8Array(256),A=0;A<E.length;A++)E[A]=255;for(var C=0;C<u.length;C++){var S=u.charAt(C),U=S.charCodeAt(0);if(255!==E[U])throw TypeError(S+" is ambiguous");E[U]=C}var P=u.length,T=u.charAt(0),I=Math.log(P)/Math.log(256),N=Math.log(256)/Math.log(P);function $(u){if("string"!=typeof u)throw TypeError("Expected String");if(0===u.length)return new Uint8Array;var g=0;if(" "!==u[0]){for(var A=0,C=0;u[g]===T;)A++,g++;for(var S=(u.length-g)*I+1>>>0,U=new Uint8Array(S);u[g];){var N=E[u.charCodeAt(g)];if(255===N)return;for(var $=0,D=S-1;(0!==N||$<C)&&-1!==D;D--,$++)N+=P*U[D]>>>0,U[D]=N%256>>>0,N=N/256>>>0;if(0!==N)throw Error("Non-zero carry");C=$,g++}if(" "!==u[g]){for(var B=S-C;B!==S&&0===U[B];)B++;for(var L=new Uint8Array(A+(S-B)),O=A;B!==S;)L[O++]=U[B++];return L}}}function D(u){var E=$(u);if(E)return E;throw Error(`Non-${g} character`)}return{encode:function(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===g.length)return"";for(var E=0,A=0,C=0,S=g.length;C!==S&&0===g[C];)C++,E++;for(var U=(S-C)*N+1>>>0,I=new Uint8Array(U);C!==S;){for(var $=g[C],D=0,B=U-1;(0!==$||D<A)&&-1!==B;B--,D++)$+=256*I[B]>>>0,I[B]=$%P>>>0,$=$/P>>>0;if(0!==$)throw Error("Non-zero carry");A=D,C++}for(var L=U-A;L!==U&&0===I[L];)L++;for(var O=T.repeat(E);L<U;++L)O+=u.charAt(I[L]);return O},decodeUnsafe:$,decode:D}};class oa{constructor(u,g,E){this.name=u,this.prefix=g,this.baseEncode=E}encode(u){if(u instanceof Uint8Array)return`${this.prefix}${this.baseEncode(u)}`;throw Error("Unknown type, must be binary type")}}class ou{constructor(u,g,E){if(this.name=u,this.prefix=g,void 0===g.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=g.codePointAt(0),this.baseDecode=E}decode(u){if("string"==typeof u){if(u.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(u)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(u.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(u){return oc(this,u)}}class ol{constructor(u){this.decoders=u}or(u){return oc(this,u)}decode(u){let g=u[0],E=this.decoders[g];if(E)return E.decode(u);throw RangeError(`Unable to decode multibase string ${JSON.stringify(u)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let oc=(u,g)=>new ol({...u.decoders||{[u.prefix]:u},...g.decoders||{[g.prefix]:g}});class of{constructor(u,g,E,A){this.name=u,this.prefix=g,this.baseEncode=E,this.baseDecode=A,this.encoder=new oa(u,g,E),this.decoder=new ou(u,g,A)}encode(u){return this.encoder.encode(u)}decode(u){return this.decoder.decode(u)}}let oh=({name:u,prefix:g,encode:E,decode:A})=>new of(u,g,E,A),od=({prefix:u,name:g,alphabet:E})=>{let{encode:A,decode:C}=os(E,g);return oh({prefix:u,name:g,encode:A,decode:u=>oo(C(u))})},op=(u,g,E,A)=>{let C={};for(let u=0;u<g.length;++u)C[g[u]]=u;let S=u.length;for(;"="===u[S-1];)--S;let U=new Uint8Array(S*E/8|0),P=0,T=0,I=0;for(let g=0;g<S;++g){let S=C[u[g]];if(void 0===S)throw SyntaxError(`Non-${A} character`);T=T<<E|S,(P+=E)>=8&&(P-=8,U[I++]=255&T>>P)}if(P>=E||255&T<<8-P)throw SyntaxError("Unexpected end of data");return U},og=(u,g,E)=>{let A="="===g[g.length-1],C=(1<<E)-1,S="",U=0,P=0;for(let A=0;A<u.length;++A)for(P=P<<8|u[A],U+=8;U>E;)U-=E,S+=g[C&P>>U];if(U&&(S+=g[C&P<<E-U]),A)for(;S.length*E&7;)S+="=";return S},oy=({name:u,prefix:g,bitsPerChar:E,alphabet:A})=>oh({prefix:g,name:u,encode:u=>og(u,A,E),decode:g=>op(g,A,E,u)}),ob=oy({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});oy({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oy({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oy({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oy({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),oy({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),oy({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oy({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oy({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});let om=od({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});od({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ow=128,ov=-128,oE=2147483648;function oA(u,g,E){g=g||[];for(var A=E=E||0;u>=oE;)g[E++]=255&u|ow,u/=128;for(;u&ov;)g[E++]=255&u|ow,u>>>=7;return g[E]=0|u,oA.bytes=E-A+1,g}var ox=128,oC=127;function oS(u,g){var E,A=0,g=g||0,C=0,S=g,U=u.length;do{if(S>=U)throw oS.bytes=0,RangeError("Could not decode varint");E=u[S++],A+=C<28?(E&oC)<<C:(E&oC)*Math.pow(2,C),C+=7}while(E>=ox);return oS.bytes=S-g,A}var ok=128,oU=16384,oP=2097152,oT=268435456,oI=34359738368,oN=4398046511104,oj=562949953421312,o$=72057594037927940,oD=0x7fffffffffffffff,oB={encode:oA,decode:oS,encodingLength:function(u){return u<ok?1:u<oU?2:u<oP?3:u<oT?4:u<oI?5:u<oN?6:u<oj?7:u<o$?8:u<oD?9:10}};let oL=(u,g=0)=>{let E=oB.decode(u,g);return[E,oB.decode.bytes]},oO=(u,g,E=0)=>(oB.encode(u,g,E),g),oz=u=>oB.encodingLength(u),o_=(u,g)=>{let E=g.byteLength,A=oz(u),C=A+oz(E),S=new Uint8Array(C+E);return oO(u,S,0),oO(E,S,A),S.set(g,C),new oM(u,E,g,S)},oR=u=>{let g=oo(u),[E,A]=oL(g),[C,S]=oL(g.subarray(A)),U=g.subarray(A+S);if(U.byteLength!==C)throw Error("Incorrect length");return new oM(E,C,U,g)},oF=(u,g)=>{if(u===g)return!0;{let E=g;return u.code===E.code&&u.size===E.size&&E.bytes instanceof Uint8Array&&oi(u.bytes,E.bytes)}};class oM{constructor(u,g,E,A){this.code=u,this.size=g,this.digest=E,this.bytes=A}}let oV=(u,g)=>{let{bytes:E,version:A}=u;return 0===A?oG(E,oq(u),g||om.encoder):oK(E,oq(u),g||ob.encoder)},oH=new WeakMap,oq=u=>{let g=oH.get(u);if(null==g){let g=new Map;return oH.set(u,g),g}return g};class oJ{constructor(u,g,E,A){this.code=g,this.version=u,this.multihash=E,this.bytes=A,this["/"]=A}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:u,multihash:g}=this;if(u!==oQ)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(g.code!==oX)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return oJ.createV0(g)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:u,digest:g}=this.multihash,E=o_(u,g);return oJ.createV1(this.code,E)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(u){return oJ.equals(this,u)}static equals(u,g){let E=g;return E&&u.code===E.code&&u.version===E.version&&oF(u.multihash,E.multihash)}toString(u){return oV(this,u)}toJSON(){return{"/":oV(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(u){if(null==u)return null;let g=u;if(g instanceof oJ)return g;if(null!=g["/"]&&g["/"]===g.bytes||g.asCID===g){let{version:u,code:E,multihash:A,bytes:C}=g;return new oJ(u,E,A,C||oZ(u,E,A.bytes))}if(!0!==g[oY])return null;{let{version:u,multihash:E,code:A}=g,C=oR(E);return oJ.create(u,A,C)}}static create(u,g,E){if("number"!=typeof g)throw Error("String codecs are no longer supported");if(!(E.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(u){case 0:if(g===oQ)return new oJ(u,g,E,E.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${oQ}) block encoding`);case 1:{let A=oZ(u,g,E.bytes);return new oJ(u,g,E,A)}default:throw Error("Invalid version")}}static createV0(u){return oJ.create(0,oQ,u)}static createV1(u,g){return oJ.create(1,u,g)}static decode(u){let[g,E]=oJ.decodeFirst(u);if(E.length)throw Error("Incorrect length");return g}static decodeFirst(u){let g=oJ.inspectBytes(u),E=g.size-g.multihashSize,A=oo(u.subarray(E,E+g.multihashSize));if(A.byteLength!==g.multihashSize)throw Error("Incorrect length");let C=A.subarray(g.multihashSize-g.digestSize),S=new oM(g.multihashCode,g.digestSize,C,A),U=0===g.version?oJ.createV0(S):oJ.createV1(g.codec,S);return[U,u.subarray(g.size)]}static inspectBytes(u){let g=0,E=()=>{let[E,A]=oL(u.subarray(g));return g+=A,E},A=E(),C=oQ;if(18===A?(A=0,g=0):C=E(),0!==A&&1!==A)throw RangeError(`Invalid CID version ${A}`);let S=g,U=E(),P=E(),T=g+P,I=T-S;return{version:A,codec:C,multihashCode:U,digestSize:P,multihashSize:I,size:T}}static parse(u,g){let[E,A]=oW(u,g),C=oJ.decode(A);if(0===C.version&&"Q"!==u[0])throw Error("Version 0 CID string must not include multibase prefix");return oq(C).set(E,u),C}}let oW=(u,g)=>{switch(u[0]){case"Q":{let E=g||om;return[om.prefix,E.decode(`${om.prefix}${u}`)]}case om.prefix:{let E=g||om;return[om.prefix,E.decode(u)]}case ob.prefix:{let E=g||ob;return[ob.prefix,E.decode(u)]}default:if(null==g)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[u[0],g.decode(u)]}},oG=(u,g,E)=>{let{prefix:A}=E;if(A!==om.prefix)throw Error(`Cannot string encode V0 in ${E.name} encoding`);let C=g.get(A);if(null!=C)return C;{let C=E.encode(u).slice(1);return g.set(A,C),C}},oK=(u,g,E)=>{let{prefix:A}=E,C=g.get(A);if(null!=C)return C;{let C=E.encode(u);return g.set(A,C),C}},oQ=112,oX=18,oZ=(u,g,E)=>{let A=oz(u),C=A+oz(g),S=new Uint8Array(C+E.byteLength);return oO(u,S,0),oO(g,S,A),S.set(E,C),S},oY=Symbol.for("@ipld/js-cid/CID"),o0=oy({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});function o1(u){if(u.asCID!==u&&u["/"]!==u.bytes)return null;let g=oJ.asCID(u);if(!g)return null;let E=g.toString();return[new t8(t5.map,1/0,1),new t8(t5.string,"/",1),new t8(t5.string,E,E.length),new t8(t5.break,void 0,1)]}function o2(u){let g=o0.encode(u).slice(1);return[new t8(t5.map,1/0,1),new t8(t5.string,"/",1),new t8(t5.map,1/0,1),new t8(t5.string,"bytes",5),new t8(t5.string,g,g.length),new t8(t5.break,void 0,1),new t8(t5.break,void 0,1)]}function o5(u){return o2(new Uint8Array(u.buffer,u.byteOffset,u.byteLength))}function o8(u){return o2(new Uint8Array(u))}function o6(){throw Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function o4(u){if(Number.isNaN(u))throw Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(u===1/0||u===-1/0)throw Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}oy({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oy({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oy({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});let o3={typeEncoders:{Object:o1,Buffer:o2,Uint8Array:o2,Int8Array:o5,Uint16Array:o5,Int16Array:o5,Uint32Array:o5,Int32Array:o5,Float32Array:o5,Float64Array:o5,Uint8ClampedArray:o5,BigInt64Array:o5,BigUint64Array:o5,DataView:o5,ArrayBuffer:o8,undefined:o6,number:o4}};class o7 extends ot{constructor(u,g){super(u,g),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let u=this._next();if(u.type===t5.map){let u=this._next();if(u.type===t5.string&&"/"===u.value){let u=this._next();if(u.type===t5.string){let g=this._next();if(g.type!==t5.break)throw Error("Invalid encoded CID form");return this.tokenBuffer.push(u),new t8(t5.tag,42,0)}if(u.type===t5.map){let u=this._next();if(u.type===t5.string&&"bytes"===u.value){let u=this._next();if(u.type===t5.string){for(let u=0;u<2;u++){let u=this._next();if(u.type!==t5.break)throw Error("Invalid encoded Bytes form")}let g=o0.decode(`m${u.value}`);return new t8(t5.bytes,g,u.value.length)}this.tokenBuffer.push(u)}this.tokenBuffer.push(u)}this.tokenBuffer.push(u)}this.tokenBuffer.push(u)}return u}}let o9={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};o9.tags[42]=oJ.parse;let se="dag-json",st=297,sr=u=>oe(u,o3),sn=u=>{let g=Object.assign(o9,{tokenizer:new o7(u,o9)});return on(u,g)},si=u=>so.decode(sr(u)),so=new TextDecoder,ss=u=>sn(sa.encode(u)),sa=new TextEncoder;var su=function(u,g){if(u.length>=255)throw TypeError("Alphabet too long");for(var E=new Uint8Array(256),A=0;A<E.length;A++)E[A]=255;for(var C=0;C<u.length;C++){var S=u.charAt(C),U=S.charCodeAt(0);if(255!==E[U])throw TypeError(S+" is ambiguous");E[U]=C}var P=u.length,T=u.charAt(0),I=Math.log(P)/Math.log(256),N=Math.log(256)/Math.log(P);function $(u){if("string"!=typeof u)throw TypeError("Expected String");if(0===u.length)return new Uint8Array;var g=0;if(" "!==u[0]){for(var A=0,C=0;u[g]===T;)A++,g++;for(var S=(u.length-g)*I+1>>>0,U=new Uint8Array(S);u[g];){var N=E[u.charCodeAt(g)];if(255===N)return;for(var $=0,D=S-1;(0!==N||$<C)&&-1!==D;D--,$++)N+=P*U[D]>>>0,U[D]=N%256>>>0,N=N/256>>>0;if(0!==N)throw Error("Non-zero carry");C=$,g++}if(" "!==u[g]){for(var B=S-C;B!==S&&0===U[B];)B++;for(var L=new Uint8Array(A+(S-B)),O=A;B!==S;)L[O++]=U[B++];return L}}}function D(u){var E=$(u);if(E)return E;throw Error(`Non-${g} character`)}return{encode:function(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===g.length)return"";for(var E=0,A=0,C=0,S=g.length;C!==S&&0===g[C];)C++,E++;for(var U=(S-C)*N+1>>>0,I=new Uint8Array(U);C!==S;){for(var $=g[C],D=0,B=U-1;(0!==$||D<A)&&-1!==B;B--,D++)$+=256*I[B]>>>0,I[B]=$%P>>>0,$=$/P>>>0;if(0!==$)throw Error("Non-zero carry");A=D,C++}for(var L=U-A;L!==U&&0===I[L];)L++;for(var O=T.repeat(E);L<U;++L)O+=u.charAt(I[L]);return O},decodeUnsafe:$,decode:D}};new Uint8Array(0);let sl=(u,g)=>{if(u===g)return!0;if(u.byteLength!==g.byteLength)return!1;for(let E=0;E<u.byteLength;E++)if(u[E]!==g[E])return!1;return!0},sc=u=>{if(u instanceof Uint8Array&&"Uint8Array"===u.constructor.name)return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw Error("Unknown type, must be binary type")},sf=u=>new TextEncoder().encode(u),sh=u=>new TextDecoder().decode(u);class sd{constructor(u,g,E){this.name=u,this.prefix=g,this.baseEncode=E}encode(u){if(u instanceof Uint8Array)return`${this.prefix}${this.baseEncode(u)}`;throw Error("Unknown type, must be binary type")}}class sp{constructor(u,g,E){if(this.name=u,this.prefix=g,void 0===g.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=g.codePointAt(0),this.baseDecode=E}decode(u){if("string"==typeof u){if(u.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(u)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(u.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(u){return sy(this,u)}}class sg{constructor(u){this.decoders=u}or(u){return sy(this,u)}decode(u){let g=u[0],E=this.decoders[g];if(E)return E.decode(u);throw RangeError(`Unable to decode multibase string ${JSON.stringify(u)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let sy=(u,g)=>new sg({...u.decoders||{[u.prefix]:u},...g.decoders||{[g.prefix]:g}});class sb{constructor(u,g,E,A){this.name=u,this.prefix=g,this.baseEncode=E,this.baseDecode=A,this.encoder=new sd(u,g,E),this.decoder=new sp(u,g,A)}encode(u){return this.encoder.encode(u)}decode(u){return this.decoder.decode(u)}}let sm=({name:u,prefix:g,encode:E,decode:A})=>new sb(u,g,E,A),sw=({prefix:u,name:g,alphabet:E})=>{let{encode:A,decode:C}=su(E,g);return sm({prefix:u,name:g,encode:A,decode:u=>sc(C(u))})},sv=(u,g,E,A)=>{let C={};for(let u=0;u<g.length;++u)C[g[u]]=u;let S=u.length;for(;"="===u[S-1];)--S;let U=new Uint8Array(S*E/8|0),P=0,T=0,I=0;for(let g=0;g<S;++g){let S=C[u[g]];if(void 0===S)throw SyntaxError(`Non-${A} character`);T=T<<E|S,(P+=E)>=8&&(P-=8,U[I++]=255&T>>P)}if(P>=E||255&T<<8-P)throw SyntaxError("Unexpected end of data");return U},sE=(u,g,E)=>{let A="="===g[g.length-1],C=(1<<E)-1,S="",U=0,P=0;for(let A=0;A<u.length;++A)for(P=P<<8|u[A],U+=8;U>E;)U-=E,S+=g[C&P>>U];if(U&&(S+=g[C&P<<E-U]),A)for(;S.length*E&7;)S+="=";return S},sA=({name:u,prefix:g,bitsPerChar:E,alphabet:A})=>sm({prefix:g,name:u,encode:u=>sE(u,A,E),decode:g=>sv(g,A,E,u)}),sx=sA({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),sC=sA({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),sS=sA({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sk=sA({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function sU(u){return sS.encode(u).slice(1)}function sP(u){return sS.decode(`u${u}`)}var sT=128,sI=-128,sN=2147483648;function sj(u,g,E){g=g||[];for(var A=E=E||0;u>=sN;)g[E++]=255&u|sT,u/=128;for(;u&sI;)g[E++]=255&u|sT,u>>>=7;return g[E]=0|u,sj.bytes=E-A+1,g}var s$=128,sD=127;function sB(u,g){var E,A=0,g=g||0,C=0,S=g,U=u.length;do{if(S>=U)throw sB.bytes=0,RangeError("Could not decode varint");E=u[S++],A+=C<28?(E&sD)<<C:(E&sD)*Math.pow(2,C),C+=7}while(E>=s$);return sB.bytes=S-g,A}var sL=128,sO=16384,sz=2097152,s_=268435456,sR=34359738368,sF=4398046511104,sM=562949953421312,sV=72057594037927940,sH=0x7fffffffffffffff,sq={encode:sj,decode:sB,encodingLength:function(u){return u<sL?1:u<sO?2:u<sz?3:u<s_?4:u<sR?5:u<sF?6:u<sM?7:u<sV?8:u<sH?9:10}};let sJ=(u,g=0)=>{let E=sq.decode(u,g);return[E,sq.decode.bytes]},sW=(u,g,E=0)=>(sq.encode(u,g,E),g),sG=u=>sq.encodingLength(u),sK=(u,g)=>{let E=g.byteLength,A=sG(u),C=A+sG(E),S=new Uint8Array(C+E);return sW(u,S,0),sW(E,S,A),S.set(g,C),new sZ(u,E,g,S)},sQ=u=>{let g=sc(u),[E,A]=sJ(g),[C,S]=sJ(g.subarray(A)),U=g.subarray(A+S);if(U.byteLength!==C)throw Error("Incorrect length");return new sZ(E,C,U,g)},sX=(u,g)=>{if(u===g)return!0;{let E=g;return u.code===E.code&&u.size===E.size&&E.bytes instanceof Uint8Array&&sl(u.bytes,E.bytes)}};class sZ{constructor(u,g,E,A){this.code=u,this.size=g,this.digest=E,this.bytes=A}}let sY=sw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s0=sw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),s1=sA({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s2=sA({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s5=sA({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s8=sA({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s6=sA({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),s4=sA({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),s3=sA({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),s7=sA({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),s9=sA({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ae=(u,g)=>{let{bytes:E,version:A}=u;return 0===A?ao(E,ar(u),g||sY.encoder):as(E,ar(u),g||s1.encoder)},at=new WeakMap,ar=u=>{let g=at.get(u);if(null==g){let g=new Map;return at.set(u,g),g}return g};class an{constructor(u,g,E,A){this.code=g,this.version=u,this.multihash=E,this.bytes=A,this["/"]=A}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:u,multihash:g}=this;if(u!==au)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(g.code!==al)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return an.createV0(g)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:u,digest:g}=this.multihash,E=sK(u,g);return an.createV1(this.code,E)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(u){return an.equals(this,u)}static equals(u,g){let E=g;return E&&u.code===E.code&&u.version===E.version&&sX(u.multihash,E.multihash)}toString(u){return ae(this,u)}toJSON(){return{"/":ae(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(u){if(null==u)return null;let g=u;if(g instanceof an)return g;if(null!=g["/"]&&g["/"]===g.bytes||g.asCID===g){let{version:u,code:E,multihash:A,bytes:C}=g;return new an(u,E,A,C||ac(u,E,A.bytes))}if(!0!==g[af])return null;{let{version:u,multihash:E,code:A}=g,C=sQ(E);return an.create(u,A,C)}}static create(u,g,E){if("number"!=typeof g)throw Error("String codecs are no longer supported");if(!(E.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(u){case 0:if(g===au)return new an(u,g,E,E.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${au}) block encoding`);case 1:{let A=ac(u,g,E.bytes);return new an(u,g,E,A)}default:throw Error("Invalid version")}}static createV0(u){return an.create(0,au,u)}static createV1(u,g){return an.create(1,u,g)}static decode(u){let[g,E]=an.decodeFirst(u);if(E.length)throw Error("Incorrect length");return g}static decodeFirst(u){let g=an.inspectBytes(u),E=g.size-g.multihashSize,A=sc(u.subarray(E,E+g.multihashSize));if(A.byteLength!==g.multihashSize)throw Error("Incorrect length");let C=A.subarray(g.multihashSize-g.digestSize),S=new sZ(g.multihashCode,g.digestSize,C,A),U=0===g.version?an.createV0(S):an.createV1(g.codec,S);return[U,u.subarray(g.size)]}static inspectBytes(u){let g=0,E=()=>{let[E,A]=sJ(u.subarray(g));return g+=A,E},A=E(),C=au;if(18===A?(A=0,g=0):C=E(),0!==A&&1!==A)throw RangeError(`Invalid CID version ${A}`);let S=g,U=E(),P=E(),T=g+P,I=T-S;return{version:A,codec:C,multihashCode:U,digestSize:P,multihashSize:I,size:T}}static parse(u,g){let[E,A]=ai(u,g),C=an.decode(A);if(0===C.version&&"Q"!==u[0])throw Error("Version 0 CID string must not include multibase prefix");return ar(C).set(E,u),C}}let ai=(u,g)=>{switch(u[0]){case"Q":{let E=g||sY;return[sY.prefix,E.decode(`${sY.prefix}${u}`)]}case sY.prefix:{let E=g||sY;return[sY.prefix,E.decode(u)]}case s1.prefix:{let E=g||s1;return[s1.prefix,E.decode(u)]}default:if(null==g)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[u[0],g.decode(u)]}},ao=(u,g,E)=>{let{prefix:A}=E;if(A!==sY.prefix)throw Error(`Cannot string encode V0 in ${E.name} encoding`);let C=g.get(A);if(null!=C)return C;{let C=E.encode(u).slice(1);return g.set(A,C),C}},as=(u,g,E)=>{let{prefix:A}=E,C=g.get(A);if(null!=C)return C;{let C=E.encode(u);return g.set(A,C),C}},au=112,al=18,ac=(u,g,E)=>{let A=sG(u),C=A+sG(g),S=new Uint8Array(C+E.byteLength);return sW(u,S,0),sW(g,S,A),S.set(E,C),S},af=Symbol.for("@ipld/js-cid/CID");function ah(u){let[g,E,A]=u;return{payload:E,signatures:[{protected:g,signature:A}],link:an.decode(sP(E))}}function ad(u){let g={signature:sP(u.signature)};return u.header&&(g.header=u.header),u.protected&&(g.protected=sP(u.protected)),g}function ap(u){let g=sP(u.payload);try{an.decode(g)}catch(u){throw Error("Not a valid DagJWS")}return{payload:g,signatures:u.signatures.map(ad)}}function ag(u){let g={signature:sU(u.signature)};return u.header&&(g.header=u.header),u.protected&&(g.protected=sU(u.protected)),g}function ay(u){let g={payload:sU(u.payload),signatures:u.signatures.map(ag)};return g.link=an.decode(new Uint8Array(u.payload)),g}function am(u){let[g,E,A,C,S]=u,U={ciphertext:C,iv:A,protected:g,tag:S};return E&&(U.recipients=[{encrypted_key:E}]),U}function aw(u){let g={};return u.encrypted_key&&(g.encrypted_key=sP(u.encrypted_key)),u.header&&(g.header=u.header),g}function av(u){let g={ciphertext:sP(u.ciphertext),protected:sP(u.protected),iv:sP(u.iv),tag:sP(u.tag)};return u.aad&&(g.aad=sP(u.aad)),u.recipients&&(g.recipients=u.recipients.map(aw)),u.unprotected&&(g.unprotected=u.unprotected),g}function aE(u){let g={};return u.encrypted_key&&(g.encrypted_key=sU(u.encrypted_key)),u.header&&(g.header=u.header),g}function aA(u){let g={ciphertext:sU(u.ciphertext),protected:sU(u.protected),iv:sU(u.iv),tag:sU(u.tag)};return u.aad&&(g.aad=sU(u.aad)),u.recipients&&(g.recipients=u.recipients.map(aE)),u.unprotected&&(g.unprotected=u.unprotected),g}let ax="dag-jose",aC=133;function aS(u){return"payload"in u&&"string"==typeof u.payload&&"signatures"in u&&Array.isArray(u.signatures)}function ak(u){return"payload"in u&&u.payload instanceof Uint8Array&&"signatures"in u&&Array.isArray(u.signatures)}function aU(u){return"ciphertext"in u&&u.ciphertext instanceof Uint8Array&&"iv"in u&&u.iv instanceof Uint8Array&&"protected"in u&&u.protected instanceof Uint8Array&&"tag"in u&&u.tag instanceof Uint8Array}function aP(u){return"ciphertext"in u&&"string"==typeof u.ciphertext&&"iv"in u&&"string"==typeof u.iv&&"protected"in u&&"string"==typeof u.protected&&"tag"in u&&"string"==typeof u.tag}function aT(u){if("string"==typeof u){let g=u.split(".");if(3===g.length)return ah(g);if(5===g.length)return am(g);throw Error("Not a valid JOSE string")}if(aS(u)||aP(u))return u;throw Error("Not a valid unencoded JOSE object")}function aI(u){let g;if("string"==typeof u&&(u=aT(u)),aS(u))g=ap(u);else if(aP(u))g=av(u);else throw Error("Not a valid JOSE object");return new Uint8Array(i6(g))}function aN(u){let g;try{g=i4(u)}catch(u){throw Error("Not a valid DAG-JOSE object")}if(ak(g))return ay(g);if(aU(g))return aA(g);throw Error("Not a valid DAG-JOSE object")}let aj=0,a$="identity",aD=sc,aB=u=>sK(aj,aD(u)),aL={code:aj,name:a$,encode:aD,digest:aB},aO=sm({prefix:"\x00",name:"identity",encode:u=>sh(u),decode:u=>sf(u)}),az=sA({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),a_=sA({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),aR=sw({prefix:"9",name:"base10",alphabet:"0123456789"}),aF=sA({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),aM=sA({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),aV=sw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aH=sw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),aq=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),aJ=aq.reduce((u,g,E)=>(u[E]=g,u),[]),aW=aq.reduce((u,g,E)=>(u[g.codePointAt(0)]=E,u),[]);function aG(u){return u.reduce((u,g)=>u+=aJ[g],"")}function aK(u){let g=[];for(let E of u){let u=aW[E.codePointAt(0)];if(void 0===u)throw Error(`Non-base256emoji character: ${E}`);g.push(u)}return new Uint8Array(g)}let aQ=sm({prefix:"\uD83D\uDE80",name:"base256emoji",encode:aG,decode:aK}),aX=({name:u,code:g,encode:E})=>new aZ(u,g,E);class aZ{constructor(u,g,E){this.name=u,this.code=g,this.encode=E}digest(u){if(u instanceof Uint8Array){let g=this.encode(u);return g instanceof Uint8Array?sK(this.code,g):g.then(u=>sK(this.code,u))}throw Error("Unknown type, must be binary type")}}let aY=u=>async g=>new Uint8Array(await crypto.subtle.digest(u,g)),a0=aX({name:"sha2-256",code:18,encode:aY("SHA-256")}),a1=aX({name:"sha2-512",code:19,encode:aY("SHA-512")}),a2="raw",a5=85,a8=u=>sc(u),a6=u=>sc(u),a4=new TextEncoder,a3=new TextDecoder,a7="json",a9=512,ue=u=>a4.encode(JSON.stringify(u)),ut=u=>JSON.parse(a3.decode(u)),ur={...M,...H,...q,...J,...W,...z,...G,...O,...L,...K},un={...Q,...F},ui={raw:X,json:Z};class uo{index=0;input="";new(u){return this.index=0,this.input=u,this}readAtomically(u){let g=this.index,E=u();return void 0===E&&(this.index=g),E}parseWith(u){let g=u();if(this.index===this.input.length)return g}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(u){return this.readAtomically(()=>{let g=this.readChar();if(g===u)return g})}readSeparator(u,g,E){return this.readAtomically(()=>{if(!(g>0)||void 0!==this.readGivenChar(u))return E()})}readNumber(u,g,E,A){return this.readAtomically(()=>{let C=0,S=0,U=this.peekChar();if(void 0===U)return;let P="0"===U,T=2**(8*A)-1;for(;;){let E=this.readAtomically(()=>{let g=this.readChar();if(void 0===g)return;let E=Number.parseInt(g,u);if(!Number.isNaN(E))return E});if(void 0===E)break;if(C*=u,(C+=E)>T||(S+=1,void 0!==g&&S>g))return}return 0===S?void 0:!E&&P&&S>1?void 0:C})}readIPv4Addr(){return this.readAtomically(()=>{let u=new Uint8Array(4);for(let g=0;g<u.length;g++){let E=this.readSeparator(".",g,()=>this.readNumber(10,3,!1,1));if(void 0===E)return;u[g]=E}return u})}readIPv6Addr(){let u=u=>{for(let g=0;g<u.length/2;g++){let E=2*g;if(g<u.length-3){let A=this.readSeparator(":",g,()=>this.readIPv4Addr());if(void 0!==A)return u[E]=A[0],u[E+1]=A[1],u[E+2]=A[2],u[E+3]=A[3],[E+4,!0]}let A=this.readSeparator(":",g,()=>this.readNumber(16,4,!0,2));if(void 0===A)return[E,!1];u[E]=A>>8,u[E+1]=255&A}return[u.length,!1]};return this.readAtomically(()=>{let g=new Uint8Array(16),[E,A]=u(g);if(16===E)return g;if(A||void 0===this.readGivenChar(":")||void 0===this.readGivenChar(":"))return;let C=new Uint8Array(14),S=16-(E+2),[U]=u(C.subarray(0,S));return g.set(C.subarray(0,U),16-U),g})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}let us=45,ua=15,uu=new uo;function ul(u){if(!(u.length>ua))return uu.new(u).parseWith(()=>uu.readIPv4Addr())}function uc(u){if(u.includes("%")&&(u=u.split("%")[0]),!(u.length>us))return uu.new(u).parseWith(()=>uu.readIPv6Addr())}function uf(u){if(u.includes("%")&&(u=u.split("%")[0]),!(u.length>us))return uu.new(u).parseWith(()=>uu.readIPAddr())}function uh(u){return!!ul(u)}function ud(u){return!!uc(u)}function up(u){return!!uf(u)}var ug=function(u,g){if(u.length>=255)throw TypeError("Alphabet too long");for(var E=new Uint8Array(256),A=0;A<E.length;A++)E[A]=255;for(var C=0;C<u.length;C++){var S=u.charAt(C),U=S.charCodeAt(0);if(255!==E[U])throw TypeError(S+" is ambiguous");E[U]=C}var P=u.length,T=u.charAt(0),I=Math.log(P)/Math.log(256),N=Math.log(256)/Math.log(P);function $(u){if("string"!=typeof u)throw TypeError("Expected String");if(0===u.length)return new Uint8Array;var g=0;if(" "!==u[0]){for(var A=0,C=0;u[g]===T;)A++,g++;for(var S=(u.length-g)*I+1>>>0,U=new Uint8Array(S);u[g];){var N=E[u.charCodeAt(g)];if(255===N)return;for(var $=0,D=S-1;(0!==N||$<C)&&-1!==D;D--,$++)N+=P*U[D]>>>0,U[D]=N%256>>>0,N=N/256>>>0;if(0!==N)throw Error("Non-zero carry");C=$,g++}if(" "!==u[g]){for(var B=S-C;B!==S&&0===U[B];)B++;for(var L=new Uint8Array(A+(S-B)),O=A;B!==S;)L[O++]=U[B++];return L}}}function D(u){var E=$(u);if(E)return E;throw Error(`Non-${g} character`)}return{encode:function(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===g.length)return"";for(var E=0,A=0,C=0,S=g.length;C!==S&&0===g[C];)C++,E++;for(var U=(S-C)*N+1>>>0,I=new Uint8Array(U);C!==S;){for(var $=g[C],D=0,B=U-1;(0!==$||D<A)&&-1!==B;B--,D++)$+=256*I[B]>>>0,I[B]=$%P>>>0,$=$/P>>>0;if(0!==$)throw Error("Non-zero carry");A=D,C++}for(var L=U-A;L!==U&&0===I[L];)L++;for(var O=T.repeat(E);L<U;++L)O+=u.charAt(I[L]);return O},decodeUnsafe:$,decode:D}};new Uint8Array(0);let uy=(u,g)=>{if(u===g)return!0;if(u.byteLength!==g.byteLength)return!1;for(let E=0;E<u.byteLength;E++)if(u[E]!==g[E])return!1;return!0},ub=u=>{if(u instanceof Uint8Array&&"Uint8Array"===u.constructor.name)return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw Error("Unknown type, must be binary type")},um=u=>new TextEncoder().encode(u),uw=u=>new TextDecoder().decode(u);class uv{constructor(u,g,E){this.name=u,this.prefix=g,this.baseEncode=E}encode(u){if(u instanceof Uint8Array)return`${this.prefix}${this.baseEncode(u)}`;throw Error("Unknown type, must be binary type")}}class uE{constructor(u,g,E){if(this.name=u,this.prefix=g,void 0===g.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=g.codePointAt(0),this.baseDecode=E}decode(u){if("string"==typeof u){if(u.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(u)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(u.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(u){return ux(this,u)}}class uA{constructor(u){this.decoders=u}or(u){return ux(this,u)}decode(u){let g=u[0],E=this.decoders[g];if(E)return E.decode(u);throw RangeError(`Unable to decode multibase string ${JSON.stringify(u)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let ux=(u,g)=>new uA({...u.decoders||{[u.prefix]:u},...g.decoders||{[g.prefix]:g}});class uC{constructor(u,g,E,A){this.name=u,this.prefix=g,this.baseEncode=E,this.baseDecode=A,this.encoder=new uv(u,g,E),this.decoder=new uE(u,g,A)}encode(u){return this.encoder.encode(u)}decode(u){return this.decoder.decode(u)}}let uS=({name:u,prefix:g,encode:E,decode:A})=>new uC(u,g,E,A),uk=({prefix:u,name:g,alphabet:E})=>{let{encode:A,decode:C}=ug(E,g);return uS({prefix:u,name:g,encode:A,decode:u=>ub(C(u))})},uU=(u,g,E,A)=>{let C={};for(let u=0;u<g.length;++u)C[g[u]]=u;let S=u.length;for(;"="===u[S-1];)--S;let U=new Uint8Array(S*E/8|0),P=0,T=0,I=0;for(let g=0;g<S;++g){let S=C[u[g]];if(void 0===S)throw SyntaxError(`Non-${A} character`);T=T<<E|S,(P+=E)>=8&&(P-=8,U[I++]=255&T>>P)}if(P>=E||255&T<<8-P)throw SyntaxError("Unexpected end of data");return U},uP=(u,g,E)=>{let A="="===g[g.length-1],C=(1<<E)-1,S="",U=0,P=0;for(let A=0;A<u.length;++A)for(P=P<<8|u[A],U+=8;U>E;)U-=E,S+=g[C&P>>U];if(U&&(S+=g[C&P<<E-U]),A)for(;S.length*E&7;)S+="=";return S},uT=({name:u,prefix:g,bitsPerChar:E,alphabet:A})=>uS({prefix:g,name:u,encode:u=>uP(u,A,E),decode:g=>uU(g,A,E,u)}),uI=uk({prefix:"9",name:"base10",alphabet:"0123456789"}),uN=uT({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uj=uT({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),u$=uT({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),uD=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),uB=uD.reduce((u,g,E)=>(u[E]=g,u),[]),uL=uD.reduce((u,g,E)=>(u[g.codePointAt(0)]=E,u),[]);function uO(u){return u.reduce((u,g)=>u+=uB[g],"")}function uz(u){let g=[];for(let E of u){let u=uL[E.codePointAt(0)];if(void 0===u)throw Error(`Non-base256emoji character: ${E}`);g.push(u)}return new Uint8Array(g)}let u_=uS({prefix:"\uD83D\uDE80",name:"base256emoji",encode:uO,decode:uz}),uR=uT({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uF=uT({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uM=uT({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uV=uT({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),uH=uT({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uq=uT({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),uJ=uT({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uW=uT({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uG=uT({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),uK=uk({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uQ=uk({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),uX=uk({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uZ=uk({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),uY=uT({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),u0=uT({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),u1=uT({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),u2=uT({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),u5=uT({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),u8=uS({prefix:"\x00",name:"identity",encode:u=>uw(u),decode:u=>um(u)}),u6=new TextEncoder,u3=new TextDecoder,u7="json",u9=512,lt=u=>u6.encode(JSON.stringify(u)),lr=u=>JSON.parse(u3.decode(u)),ln="raw",li=85,ls=u=>ub(u),la=u=>ub(u);var lu=128,ll=-128,lc=2147483648;function lf(u,g,E){g=g||[];for(var A=E=E||0;u>=lc;)g[E++]=255&u|lu,u/=128;for(;u&ll;)g[E++]=255&u|lu,u>>>=7;return g[E]=0|u,lf.bytes=E-A+1,g}var lh=128,ld=127;function lp(u,g){var E,A=0,g=g||0,C=0,S=g,U=u.length;do{if(S>=U)throw lp.bytes=0,RangeError("Could not decode varint");E=u[S++],A+=C<28?(E&ld)<<C:(E&ld)*Math.pow(2,C),C+=7}while(E>=lh);return lp.bytes=S-g,A}var lg=128,ly=16384,lb=2097152,lm=268435456,lw=34359738368,lv=4398046511104,lE=562949953421312,lA=72057594037927940,lx=0x7fffffffffffffff,lC={encode:lf,decode:lp,encodingLength:function(u){return u<lg?1:u<ly?2:u<lb?3:u<lm?4:u<lw?5:u<lv?6:u<lE?7:u<lA?8:u<lx?9:10}};let lS=(u,g=0)=>{let E=lC.decode(u,g);return[E,lC.decode.bytes]},lk=(u,g,E=0)=>(lC.encode(u,g,E),g),lU=u=>lC.encodingLength(u),lP=(u,g)=>{let E=g.byteLength,A=lU(u),C=A+lU(E),S=new Uint8Array(C+E);return lk(u,S,0),lk(E,S,A),S.set(g,C),new lN(u,E,g,S)},lT=u=>{let g=ub(u),[E,A]=lS(g),[C,S]=lS(g.subarray(A)),U=g.subarray(A+S);if(U.byteLength!==C)throw Error("Incorrect length");return new lN(E,C,U,g)},lI=(u,g)=>{if(u===g)return!0;{let E=g;return u.code===E.code&&u.size===E.size&&E.bytes instanceof Uint8Array&&uy(u.bytes,E.bytes)}};class lN{constructor(u,g,E,A){this.code=u,this.size=g,this.digest=E,this.bytes=A}}let lj=0,l$="identity",lD=ub,lB=u=>lP(lj,lD(u)),lL={code:lj,name:l$,encode:lD,digest:lB},lO=({name:u,code:g,encode:E})=>new lz(u,g,E);class lz{constructor(u,g,E){this.name=u,this.code=g,this.encode=E}digest(u){if(u instanceof Uint8Array){let g=this.encode(u);return g instanceof Uint8Array?lP(this.code,g):g.then(u=>lP(this.code,u))}throw Error("Unknown type, must be binary type")}}let l_=u=>async g=>new Uint8Array(await crypto.subtle.digest(u,g)),lR=lO({name:"sha2-256",code:18,encode:l_("SHA-256")}),lF=lO({name:"sha2-512",code:19,encode:l_("SHA-512")}),lM=(u,g)=>{let{bytes:E,version:A}=u;return 0===A?lW(E,lH(u),g||uX.encoder):lG(E,lH(u),g||uR.encoder)},lV=new WeakMap,lH=u=>{let g=lV.get(u);if(null==g){let g=new Map;return lV.set(u,g),g}return g};class lq{constructor(u,g,E,A){this.code=g,this.version=u,this.multihash=E,this.bytes=A,this["/"]=A}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:u,multihash:g}=this;if(u!==lK)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(g.code!==lQ)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return lq.createV0(g)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:u,digest:g}=this.multihash,E=lP(u,g);return lq.createV1(this.code,E)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(u){return lq.equals(this,u)}static equals(u,g){let E=g;return E&&u.code===E.code&&u.version===E.version&&lI(u.multihash,E.multihash)}toString(u){return lM(this,u)}toJSON(){return{"/":lM(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(u){if(null==u)return null;let g=u;if(g instanceof lq)return g;if(null!=g["/"]&&g["/"]===g.bytes||g.asCID===g){let{version:u,code:E,multihash:A,bytes:C}=g;return new lq(u,E,A,C||lX(u,E,A.bytes))}if(!0!==g[lZ])return null;{let{version:u,multihash:E,code:A}=g,C=lT(E);return lq.create(u,A,C)}}static create(u,g,E){if("number"!=typeof g)throw Error("String codecs are no longer supported");if(!(E.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(u){case 0:if(g===lK)return new lq(u,g,E,E.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${lK}) block encoding`);case 1:{let A=lX(u,g,E.bytes);return new lq(u,g,E,A)}default:throw Error("Invalid version")}}static createV0(u){return lq.create(0,lK,u)}static createV1(u,g){return lq.create(1,u,g)}static decode(u){let[g,E]=lq.decodeFirst(u);if(E.length)throw Error("Incorrect length");return g}static decodeFirst(u){let g=lq.inspectBytes(u),E=g.size-g.multihashSize,A=ub(u.subarray(E,E+g.multihashSize));if(A.byteLength!==g.multihashSize)throw Error("Incorrect length");let C=A.subarray(g.multihashSize-g.digestSize),S=new lN(g.multihashCode,g.digestSize,C,A),U=0===g.version?lq.createV0(S):lq.createV1(g.codec,S);return[U,u.subarray(g.size)]}static inspectBytes(u){let g=0,E=()=>{let[E,A]=lS(u.subarray(g));return g+=A,E},A=E(),C=lK;if(18===A?(A=0,g=0):C=E(),0!==A&&1!==A)throw RangeError(`Invalid CID version ${A}`);let S=g,U=E(),P=E(),T=g+P,I=T-S;return{version:A,codec:C,multihashCode:U,digestSize:P,multihashSize:I,size:T}}static parse(u,g){let[E,A]=lJ(u,g),C=lq.decode(A);if(0===C.version&&"Q"!==u[0])throw Error("Version 0 CID string must not include multibase prefix");return lH(C).set(E,u),C}}let lJ=(u,g)=>{switch(u[0]){case"Q":{let E=g||uX;return[uX.prefix,E.decode(`${uX.prefix}${u}`)]}case uX.prefix:{let E=g||uX;return[uX.prefix,E.decode(u)]}case uR.prefix:{let E=g||uR;return[uR.prefix,E.decode(u)]}default:if(null==g)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[u[0],g.decode(u)]}},lW=(u,g,E)=>{let{prefix:A}=E;if(A!==uX.prefix)throw Error(`Cannot string encode V0 in ${E.name} encoding`);let C=g.get(A);if(null!=C)return C;{let C=E.encode(u).slice(1);return g.set(A,C),C}},lG=(u,g,E)=>{let{prefix:A}=E,C=g.get(A);if(null!=C)return C;{let C=E.encode(u);return g.set(A,C),C}},lK=112,lQ=18,lX=(u,g,E)=>{let A=lU(u),C=A+lU(g),S=new Uint8Array(C+E.byteLength);return lk(u,S,0),lk(g,S,A),S.set(E,C),S},lZ=Symbol.for("@ipld/js-cid/CID"),lY={...eu,...et,...ea,...Y,...ee,...en,...ei,...eo,...es,...er};function l0(u){return null!=globalThis.Buffer?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):u}function l1(u=0){return globalThis.Buffer?.allocUnsafe!=null?l0(globalThis.Buffer.allocUnsafe(u)):new Uint8Array(u)}function l2(u,g,E,A){return{name:u,prefix:g,encoder:{name:u,prefix:g,encode:E},decoder:{decode:A}}}({...eh,...ef});let l5=l2("utf8","u",u=>{let g=new TextDecoder("utf8");return"u"+g.decode(u)},u=>{let g=new TextEncoder;return g.encode(u.substring(1))}),l8=l2("ascii","a",u=>{let g="a";for(let E=0;E<u.length;E++)g+=String.fromCharCode(u[E]);return g},u=>{u=u.substring(1);let g=l1(u.length);for(let E=0;E<u.length;E++)g[E]=u.charCodeAt(E);return g}),l6={utf8:l5,"utf-8":l5,hex:lY.base16,latin1:l8,ascii:l8,binary:l8,...lY};var l4=l6;function l3(u,g="utf8"){let E=l4[g];if(null==E)throw Error(`Unsupported encoding "${g}"`);return("utf8"===g||"utf-8"===g)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(u.buffer,u.byteOffset,u.byteLength).toString("utf8"):E.encoder.encode(u).substring(1)}let l7=uh,l9=ud,ce=function(u){let g=0;if(l7(u=u.toString().trim())){let E=new Uint8Array(g+4);return u.split(/\./g).forEach(u=>{E[g++]=255&parseInt(u,10)}),E}if(l9(u)){let E;let A=u.split(":",8);for(E=0;E<A.length;E++){let u;let g=l7(A[E]);g&&(u=ce(A[E]),A[E]=l3(u.slice(0,2),"base16")),null!=u&&++E<8&&A.splice(E,0,l3(u.slice(2,4),"base16"))}if(""===A[0])for(;A.length<8;)A.unshift("0");else if(""===A[A.length-1])for(;A.length<8;)A.push("0");else if(A.length<8){for(E=0;E<A.length&&""!==A[E];E++);let u=[E,1];for(E=9-A.length;E>0;E--)u.push("0");A.splice.apply(A,u)}let C=new Uint8Array(g+16);for(E=0;E<A.length;E++){let u=parseInt(A[E],16);C[g++]=u>>8&255,C[g++]=255&u}return C}throw Error("invalid ip address")},ct=function(u,g=0,E){g=~~g,E=E??u.length-g;let A=new DataView(u.buffer);if(4===E){let A=[];for(let C=0;C<E;C++)A.push(u[g+C]);return A.join(".")}if(16===E){let u=[];for(let C=0;C<E;C+=2)u.push(A.getUint16(g+C).toString(16));return u.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},cr=-1,cn={},ci={},co=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,cr,"ip6zone"],[43,8,"ipcidr"],[53,cr,"dns",!0],[54,cr,"dns4",!0],[55,cr,"dns6",!0],[56,cr,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,cr,"unix",!1,!0],[421,cr,"ipfs"],[421,cr,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,cr,"garlic64"],[448,0,"tls"],[449,cr,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,cr,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,cr,"memory"]];function cs(u,g,E,A,C){return{code:u,size:g,name:E,resolvable:!!A,path:!!C}}function ca(u){if("number"==typeof u){if(null!=ci[u])return ci[u];throw Error(`no protocol with code: ${u}`)}if("string"==typeof u){if(null!=cn[u])return cn[u];throw Error(`no protocol with name: ${u}`)}throw Error(`invalid protocol id type: ${typeof u}`)}co.forEach(u=>{let g=cs(...u);ci[g.code]=g,cn[g.name]=g});var cu=E(8965);function cl(u,g="utf8"){let E=l4[g];if(null==E)throw Error(`Unsupported encoding "${g}"`);return("utf8"===g||"utf-8"===g)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?l0(globalThis.Buffer.from(u,"utf-8")):E.decoder.decode(`${E.prefix}${u}`)}function cc(u,g){null==g&&(g=u.reduce((u,g)=>u+g.length,0));let E=l1(g),A=0;for(let g of u)E.set(g,A),A+=g.length;return l0(E)}function cf(u,g){let E=ca(u);switch(E.code){case 4:case 41:return cb(g);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return cE(g);case 6:case 273:case 33:case 132:return cw(g).toString();case 421:return cS(g);case 444:case 445:return cP(g);case 466:return cC(g);default:return l3(g,"base16")}}function cd(u,g){let E=ca(u);switch(E.code){case 4:case 41:return cy(g);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return cv(g);case 6:case 273:case 33:case 132:return cm(parseInt(g,10));case 421:return cA(g);case 444:return ck(g);case 445:return cU(g);case 466:return cx(g);default:return cl(g,"base16")}}let cp=Object.values(ur).map(u=>u.decoder),cg=function(){let u=cp[0].or(cp[1]);return cp.slice(2).forEach(g=>u=u.or(g)),u}();function cy(u){if(!up(u))throw Error("invalid ip address");return ce(u)}function cb(u){let g=ct(u,0,u.length);if(null==g)throw Error("ipBuff is required");if(!up(g))throw Error("invalid ip address");return g}function cm(u){let g=new ArrayBuffer(2),E=new DataView(g);return E.setUint16(0,u),new Uint8Array(g)}function cw(u){let g=new DataView(u.buffer);return g.getUint16(u.byteOffset)}function cv(u){let g=cl(u),E=Uint8Array.from(cu.encode(g.length));return cc([E,g],E.length+g.length)}function cE(u){let g=cu.decode(u);if((u=u.slice(cu.decode.bytes)).length!==g)throw Error("inconsistent lengths");return l3(u)}function cA(u){let g;g="Q"===u[0]||"1"===u[0]?sQ(sY.decode(`z${u}`)).bytes:an.parse(u).multihash.bytes;let E=Uint8Array.from(cu.encode(g.length));return cc([E,g],E.length+g.length)}function cx(u){let g=cg.decode(u),E=Uint8Array.from(cu.encode(g.length));return cc([E,g],E.length+g.length)}function cC(u){let g=cu.decode(u),E=u.slice(cu.decode.bytes);if(E.length!==g)throw Error("inconsistent lengths");return"u"+l3(E,"base64url")}function cS(u){let g=cu.decode(u),E=u.slice(cu.decode.bytes);if(E.length!==g)throw Error("inconsistent lengths");return l3(E,"base58btc")}function ck(u){let g=u.split(":");if(2!==g.length)throw Error(`failed to parse onion addr: ["'${g.join('", "')}'"]' does not contain a port number`);if(16!==g[0].length)throw Error(`failed to parse onion addr: ${g[0]} not a Tor onion address.`);let E=s1.decode("b"+g[0]),A=parseInt(g[1],10);if(A<1||A>65536)throw Error("Port number is not in range(1, 65536)");let C=cm(A);return cc([E,C],E.length+C.length)}function cU(u){let g=u.split(":");if(2!==g.length)throw Error(`failed to parse onion addr: ["'${g.join('", "')}'"]' does not contain a port number`);if(56!==g[0].length)throw Error(`failed to parse onion addr: ${g[0]} not a Tor onion3 address.`);let E=s1.decode(`b${g[0]}`),A=parseInt(g[1],10);if(A<1||A>65536)throw Error("Port number is not in range(1, 65536)");let C=cm(A);return cc([E,C],E.length+C.length)}function cP(u){let g=u.slice(0,u.length-2),E=u.slice(u.length-2),A=l3(g,"base32"),C=cw(E);return`${A}:${C}`}function cT(u){let g=[],E=u.split("/").slice(1);if(1===E.length&&""===E[0])return[];for(let A=0;A<E.length;A++){let C=E[A],S=ca(C);if(0===S.size){g.push([C]);continue}if(++A>=E.length)throw cM("invalid address: "+u);if(!0===S.path){g.push([C,cF(E.slice(A).join("/"))]);break}g.push([C,E[A]])}return g}function cI(u){let g=[];return u.map(u=>{let E=cV(u);return g.push(E.name),u.length>1&&null!=u[1]&&g.push(u[1]),null}),cF(g.join("/"))}function cN(u){return u.map(u=>{Array.isArray(u)||(u=[u]);let g=cV(u);return u.length>1?[g.code,cd(g.code,u[1])]:[g.code]})}function cj(u){return u.map(u=>{let g=cV(u);return null!=u[1]?[g.code,cf(g.code,u[1])]:[g.code]})}function c$(u){return c_(cc(u.map(u=>{let g=cV(u),E=Uint8Array.from(cu.encode(g.code));return u.length>1&&null!=u[1]&&(E=cc([E,u[1]])),E})))}function cD(u,g){if(u.size>0)return u.size/8;if(0===u.size)return 0;{let u=cu.decode(g);return u+(cu.decode.bytes??0)}}function cB(u){let g=[],E=0;for(;E<u.length;){let A=cu.decode(u,E),C=cu.decode.bytes??0,S=ca(A),U=cD(S,u.slice(E+C));if(0===U){g.push([A]),E+=C;continue}let P=u.slice(E+C,E+C+U);if((E+=U+C)>u.length)throw cM("Invalid address Uint8Array: "+l3(u,"base16"));g.push([A,P])}return g}function cL(u){let g=cB(u),E=cj(g);return cI(E)}function cO(u){u=cF(u);let g=cT(u),E=cN(g);return c$(E)}function cz(u){return cO(u)}function c_(u){let g=cR(u);if(null!=g)throw g;return Uint8Array.from(u)}function cR(u){try{cB(u)}catch(u){return u}}function cF(u){return"/"+u.trim().split("/").filter(u=>u).join("/")}function cM(u){return Error("Error parsing address: "+u)}function cV(u){let g=ca(u[0]);return g}var cH=E(2594);function cq(u,g){if(u===g)return!0;if(u.byteLength!==g.byteLength)return!1;for(let E=0;E<u.byteLength;E++)if(u[E]!==g[E])return!1;return!0}var cJ=function(u,g,E,A){if("a"===E&&!A)throw TypeError("Private accessor was defined without a getter");if("function"==typeof g?u!==g||!A:!g.has(u))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===E?A:"a"===E?A.call(u):A?A.value:g.get(u)},cW=function(u,g,E,A,C){if("m"===A)throw TypeError("Private method is not writable");if("a"===A&&!C)throw TypeError("Private accessor was defined without a setter");if("function"==typeof g?u!==g||!C:!g.has(u))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===A?C.call(u,E):C?C.value=E:g.set(u,E),E};let cG=Symbol.for("nodejs.util.inspect.custom"),cK=[ca("dns").code,ca("dns4").code,ca("dns6").code,ca("dnsaddr").code],cQ=new Map,cX=Symbol.for("@multiformats/js-multiaddr/multiaddr");function cZ(u){return!!u?.[cX]}class cY{constructor(u){if(A.set(this,void 0),C.set(this,void 0),S.set(this,void 0),this[U]=!0,null==u&&(u=""),u instanceof Uint8Array)this.bytes=c_(u);else if("string"==typeof u){if(u.length>0&&"/"!==u.charAt(0))throw Error(`multiaddr "${u}" must start with a "/"`);this.bytes=cz(u)}else if(cZ(u))this.bytes=c_(u.bytes);else throw Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return null==cJ(this,A,"f")&&cW(this,A,cL(this.bytes),"f"),cJ(this,A,"f")}toJSON(){return this.toString()}toOptions(){let u,g,E,A;let C="",S=ca("tcp"),U=ca("udp"),P=ca("ip4"),T=ca("ip6"),I=ca("dns6"),N=ca("ip6zone");for(let[$,D]of this.stringTuples())$===N.code&&(C=`%${D??""}`),cK.includes($)&&(g=S.name,A=443,E=`${D??""}${C}`,u=$===I.code?6:4),($===S.code||$===U.code)&&(g=ca($).name,A=parseInt(D??"")),($===P.code||$===T.code)&&(g=ca($).name,E=`${D??""}${C}`,u=$===T.code?6:4);if(null==u||null==g||null==E||null==A)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');let $={family:u,host:E,transport:g,port:A};return $}protos(){return this.protoCodes().map(u=>Object.assign({},ca(u)))}protoCodes(){let u=[],g=this.bytes,E=0;for(;E<g.length;){let A=cu.decode(g,E),C=cu.decode.bytes??0,S=ca(A),U=cD(S,g.slice(E+C));E+=U+C,u.push(A)}return u}protoNames(){return this.protos().map(u=>u.name)}tuples(){return null==cJ(this,C,"f")&&cW(this,C,cB(this.bytes),"f"),cJ(this,C,"f")}stringTuples(){return null==cJ(this,S,"f")&&cW(this,S,cj(this.tuples()),"f"),cJ(this,S,"f")}encapsulate(u){return u=new cY(u),new cY(this.toString()+u.toString())}decapsulate(u){let g=u.toString(),E=this.toString(),A=E.lastIndexOf(g);if(A<0)throw Error(`Address ${this.toString()} does not contain subaddress: ${u.toString()}`);return new cY(E.slice(0,A))}decapsulateCode(u){let g=this.tuples();for(let E=g.length-1;E>=0;E--)if(g[E][0]===u)return new cY(c$(g.slice(0,E)));return this}getPeerId(){try{let u=this.stringTuples().filter(u=>u[0]===cn.ipfs.code),g=u.pop();if(g?.[1]!=null){let u=g[1];if("Q"===u[0]||"1"===u[0])return l3(sY.decode(`z${u}`),"base58btc");return l3(an.parse(u).multihash.bytes,"base58btc")}return null}catch(u){return null}}getPath(){let u=null;try{u=this.stringTuples().filter(u=>{let g=ca(u[0]);return!0===g.path})[0][1],null==u&&(u=null)}catch{u=null}return u}equals(u){return cq(this.bytes,u.bytes)}async resolve(u){let g=this.protos().find(u=>u.resolvable);if(null==g)return[this];let E=cQ.get(g.name);if(null==E)throw cH(Error(`no available resolver for ${g.name}`),"ERR_NO_AVAILABLE_RESOLVER");let A=await E(this,u);return A.map(u=>new cY(u))}nodeAddress(){let u=this.toOptions();if("tcp"!==u.transport&&"udp"!==u.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${u.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:u.family,address:u.host,port:u.port}}isThinWaistAddress(u){let g=(u??this).protos();return 2===g.length&&(4===g[0].code||41===g[0].code)&&(6===g[1].code||273===g[1].code)}[(A=new WeakMap,C=new WeakMap,S=new WeakMap,U=cX,cG)](){return`Multiaddr(${cL(this.bytes)})`}}function c0(u){return new cY(u)}var c5=E(3924);let c8=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;function c6(u="",g="ms"){var E=null,A="-"===(u=(u+"").replace(/(\d)[,_](\d)/g,"$1$2"))[0];return u.replace(c8,function(u,g,A){(A=c4(A))&&(E=(E||0)+Math.abs(parseFloat(g,10))*A)}),E&&E/(c4(g)||1)*(A?-1:1)}function c4(u){return c6[u]||c6[u.toLowerCase().replace(/s$/,"")]}c6.nanosecond=c6.ns=1/1e6,c6["\xb5s"]=c6["s"]=c6.us=c6.microsecond=.001,c6.millisecond=c6.ms=c6[""]=1,c6.second=c6.sec=c6.s=1e3*c6.ms,c6.minute=c6.min=c6.m=60*c6.s,c6.hour=c6.hr=c6.h=60*c6.m,c6.day=c6.d=24*c6.h,c6.week=c6.wk=c6.w=7*c6.d,c6.month=c6.b=30.4375*c6.d,c6.year=c6.yr=c6.y=365.25*c6.d;var c3=c6,c7=E(4461);function c9(u){let g=()=>{};return g.enabled=!1,g.color="",g.diff=0,g.log=()=>{},g.namespace=u,g.destroy=()=>!0,g.extend=()=>g,g}function fe(u){let g=c9(`${u}:trace`);return c7.enabled(`${u}:trace`)&&null!=c7.names.map(u=>u.toString()).find(u=>u.includes(":trace"))&&(g=c7(`${u}:trace`)),Object.assign(c7(u),{error:c7(`${u}:error`),trace:g})}c7.formatters.b=u=>null==u?"undefined":sY.baseEncode(u),c7.formatters.t=u=>null==u?"undefined":s1.baseEncode(u),c7.formatters.m=u=>null==u?"undefined":sx.baseEncode(u),c7.formatters.p=u=>null==u?"undefined":u.toString(),c7.formatters.c=u=>null==u?"undefined":u.toString(),c7.formatters.k=u=>null==u?"undefined":u.toString(),c7.formatters.a=u=>null==u?"undefined":u.toString();var ft=E(9605),fr=E(3498);let fi=uh,fo=ud,fs=function(u){let g=0;if(fi(u=u.toString().trim())){let E=new Uint8Array(g+4);return u.split(/\./g).forEach(u=>{E[g++]=255&parseInt(u,10)}),E}if(fo(u)){let E;let A=u.split(":",8);for(E=0;E<A.length;E++){let u;let g=fi(A[E]);g&&(u=fs(A[E]),A[E]=l3(u.slice(0,2),"base16")),null!=u&&++E<8&&A.splice(E,0,l3(u.slice(2,4),"base16"))}if(""===A[0])for(;A.length<8;)A.unshift("0");else if(""===A[A.length-1])for(;A.length<8;)A.push("0");else if(A.length<8){for(E=0;E<A.length&&""!==A[E];E++);let u=[E,1];for(E=9-A.length;E>0;E--)u.push("0");A.splice.apply(A,u)}let C=new Uint8Array(g+16);for(E=0;E<A.length;E++){let u=parseInt(A[E],16);C[g++]=u>>8&255,C[g++]=255&u}return C}throw Error("invalid ip address")},fa=function(u,g=0,E){g=~~g,E=E??u.length-g;let A=new DataView(u.buffer);if(4===E){let A=[];for(let C=0;C<E;C++)A.push(u[g+C]);return A.join(".")}if(16===E){let u=[];for(let C=0;C<E;C+=2)u.push(A.getUint16(g+C).toString(16));return u.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},fu=-1,fl={},fc={},ff=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,fu,"ip6zone"],[43,8,"ipcidr"],[53,fu,"dns",!0],[54,fu,"dns4",!0],[55,fu,"dns6",!0],[56,fu,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,fu,"unix",!1,!0],[421,fu,"ipfs"],[421,fu,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,fu,"garlic64"],[448,0,"tls"],[449,fu,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,fu,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,fu,"memory"]];function fh(u,g,E,A,C){return{code:u,size:g,name:E,resolvable:!!A,path:!!C}}function fd(u){if("number"==typeof u){if(null!=fc[u])return fc[u];throw Error(`no protocol with code: ${u}`)}if("string"==typeof u){if(null!=fl[u])return fl[u];throw Error(`no protocol with name: ${u}`)}throw Error(`invalid protocol id type: ${typeof u}`)}function fp(u,g){let E=fd(u);switch(E.code){case 4:case 41:return fw(g);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return fx(g);case 6:case 273:case 33:case 132:return fE(g).toString();case 421:return fU(g);case 444:case 445:return fI(g);case 466:return fk(g);default:return l3(g,"base16")}}function fg(u,g){let E=fd(u);switch(E.code){case 4:case 41:return fm(g);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return fA(g);case 6:case 273:case 33:case 132:return fv(parseInt(g,10));case 421:return fC(g);case 444:return fP(g);case 445:return fT(g);case 466:return fS(g);default:return cl(g,"base16")}}ff.forEach(u=>{let g=fh(...u);fc[g.code]=g,fl[g.name]=g});let fy=Object.values(ur).map(u=>u.decoder),fb=function(){let u=fy[0].or(fy[1]);return fy.slice(2).forEach(g=>u=u.or(g)),u}();function fm(u){if(!up(u))throw Error("invalid ip address");return fs(u)}function fw(u){let g=fa(u,0,u.length);if(null==g)throw Error("ipBuff is required");if(!up(g))throw Error("invalid ip address");return g}function fv(u){let g=new ArrayBuffer(2),E=new DataView(g);return E.setUint16(0,u),new Uint8Array(g)}function fE(u){let g=new DataView(u.buffer);return g.getUint16(u.byteOffset)}function fA(u){let g=cl(u),E=Uint8Array.from(cu.encode(g.length));return cc([E,g],E.length+g.length)}function fx(u){let g=cu.decode(u);if((u=u.slice(cu.decode.bytes)).length!==g)throw Error("inconsistent lengths");return l3(u)}function fC(u){let g;g="Q"===u[0]||"1"===u[0]?sQ(sY.decode(`z${u}`)).bytes:an.parse(u).multihash.bytes;let E=Uint8Array.from(cu.encode(g.length));return cc([E,g],E.length+g.length)}function fS(u){let g=fb.decode(u),E=Uint8Array.from(cu.encode(g.length));return cc([E,g],E.length+g.length)}function fk(u){let g=cu.decode(u),E=u.slice(cu.decode.bytes);if(E.length!==g)throw Error("inconsistent lengths");return"u"+l3(E,"base64url")}function fU(u){let g=cu.decode(u),E=u.slice(cu.decode.bytes);if(E.length!==g)throw Error("inconsistent lengths");return l3(E,"base58btc")}function fP(u){let g=u.split(":");if(2!==g.length)throw Error(`failed to parse onion addr: ["'${g.join('", "')}'"]' does not contain a port number`);if(16!==g[0].length)throw Error(`failed to parse onion addr: ${g[0]} not a Tor onion address.`);let E=s1.decode("b"+g[0]),A=parseInt(g[1],10);if(A<1||A>65536)throw Error("Port number is not in range(1, 65536)");let C=fv(A);return cc([E,C],E.length+C.length)}function fT(u){let g=u.split(":");if(2!==g.length)throw Error(`failed to parse onion addr: ["'${g.join('", "')}'"]' does not contain a port number`);if(56!==g[0].length)throw Error(`failed to parse onion addr: ${g[0]} not a Tor onion3 address.`);let E=s1.decode(`b${g[0]}`),A=parseInt(g[1],10);if(A<1||A>65536)throw Error("Port number is not in range(1, 65536)");let C=fv(A);return cc([E,C],E.length+C.length)}function fI(u){let g=u.slice(0,u.length-2),E=u.slice(u.length-2),A=l3(g,"base32"),C=fE(E);return`${A}:${C}`}function fN(u){let g=[],E=u.split("/").slice(1);if(1===E.length&&""===E[0])return[];for(let A=0;A<E.length;A++){let C=E[A],S=fd(C);if(0===S.size){g.push([C]);continue}if(++A>=E.length)throw fH("invalid address: "+u);if(!0===S.path){g.push([C,fV(E.slice(A).join("/"))]);break}g.push([C,E[A]])}return g}function fj(u){let g=[];return u.map(u=>{let E=fq(u);return g.push(E.name),u.length>1&&null!=u[1]&&g.push(u[1]),null}),fV(g.join("/"))}function f$(u){return u.map(u=>{Array.isArray(u)||(u=[u]);let g=fq(u);return u.length>1?[g.code,fg(g.code,u[1])]:[g.code]})}function fD(u){return u.map(u=>{let g=fq(u);return null!=u[1]?[g.code,fp(g.code,u[1])]:[g.code]})}function fB(u){return fF(cc(u.map(u=>{let g=fq(u),E=Uint8Array.from(cu.encode(g.code));return u.length>1&&null!=u[1]&&(E=cc([E,u[1]])),E})))}function fL(u,g){if(u.size>0)return u.size/8;if(0===u.size)return 0;{let u=cu.decode(g);return u+(cu.decode.bytes??0)}}function fO(u){let g=[],E=0;for(;E<u.length;){let A=cu.decode(u,E),C=cu.decode.bytes??0,S=fd(A),U=fL(S,u.slice(E+C));if(0===U){g.push([A]),E+=C;continue}let P=u.slice(E+C,E+C+U);if((E+=U+C)>u.length)throw fH("Invalid address Uint8Array: "+l3(u,"base16"));g.push([A,P])}return g}function fz(u){let g=fO(u),E=fD(g);return fj(E)}function f_(u){u=fV(u);let g=fN(u),E=f$(g);return fB(E)}function fR(u){return f_(u)}function fF(u){let g=fM(u);if(null!=g)throw g;return Uint8Array.from(u)}function fM(u){try{fO(u)}catch(u){return u}}function fV(u){return"/"+u.trim().split("/").filter(u=>u).join("/")}function fH(u){return Error("Error parsing address: "+u)}function fq(u){let g=fd(u[0]);return g}var fJ=function(u,g,E,A){if("a"===E&&!A)throw TypeError("Private accessor was defined without a getter");if("function"==typeof g?u!==g||!A:!g.has(u))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===E?A:"a"===E?A.call(u):A?A.value:g.get(u)},fW=function(u,g,E,A,C){if("m"===A)throw TypeError("Private method is not writable");if("a"===A&&!C)throw TypeError("Private accessor was defined without a setter");if("function"==typeof g?u!==g||!C:!g.has(u))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===A?C.call(u,E):C?C.value=E:g.set(u,E),E};let fG=Symbol.for("nodejs.util.inspect.custom"),fK=[fd("dns").code,fd("dns4").code,fd("dns6").code,fd("dnsaddr").code],fQ=new Map,fX=Symbol.for("@multiformats/js-multiaddr/multiaddr");function fZ(u){return!!u?.[fX]}class fY{constructor(u){if(P.set(this,void 0),T.set(this,void 0),I.set(this,void 0),this[N]=!0,null==u&&(u=""),u instanceof Uint8Array)this.bytes=fF(u);else if("string"==typeof u){if(u.length>0&&"/"!==u.charAt(0))throw Error(`multiaddr "${u}" must start with a "/"`);this.bytes=fR(u)}else if(fZ(u))this.bytes=fF(u.bytes);else throw Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return null==fJ(this,P,"f")&&fW(this,P,fz(this.bytes),"f"),fJ(this,P,"f")}toJSON(){return this.toString()}toOptions(){let u,g,E,A;let C="",S=fd("tcp"),U=fd("udp"),P=fd("ip4"),T=fd("ip6"),I=fd("dns6"),N=fd("ip6zone");for(let[$,D]of this.stringTuples())$===N.code&&(C=`%${D??""}`),fK.includes($)&&(g=S.name,A=443,E=`${D??""}${C}`,u=$===I.code?6:4),($===S.code||$===U.code)&&(g=fd($).name,A=parseInt(D??"")),($===P.code||$===T.code)&&(g=fd($).name,E=`${D??""}${C}`,u=$===T.code?6:4);if(null==u||null==g||null==E||null==A)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');let $={family:u,host:E,transport:g,port:A};return $}protos(){return this.protoCodes().map(u=>Object.assign({},fd(u)))}protoCodes(){let u=[],g=this.bytes,E=0;for(;E<g.length;){let A=cu.decode(g,E),C=cu.decode.bytes??0,S=fd(A),U=fL(S,g.slice(E+C));E+=U+C,u.push(A)}return u}protoNames(){return this.protos().map(u=>u.name)}tuples(){return null==fJ(this,T,"f")&&fW(this,T,fO(this.bytes),"f"),fJ(this,T,"f")}stringTuples(){return null==fJ(this,I,"f")&&fW(this,I,fD(this.tuples()),"f"),fJ(this,I,"f")}encapsulate(u){return u=new fY(u),new fY(this.toString()+u.toString())}decapsulate(u){let g=u.toString(),E=this.toString(),A=E.lastIndexOf(g);if(A<0)throw Error(`Address ${this.toString()} does not contain subaddress: ${u.toString()}`);return new fY(E.slice(0,A))}decapsulateCode(u){let g=this.tuples();for(let E=g.length-1;E>=0;E--)if(g[E][0]===u)return new fY(fB(g.slice(0,E)));return this}getPeerId(){try{let u=this.stringTuples().filter(u=>u[0]===fl.ipfs.code),g=u.pop();if(g?.[1]!=null){let u=g[1];if("Q"===u[0]||"1"===u[0])return l3(sY.decode(`z${u}`),"base58btc");return l3(an.parse(u).multihash.bytes,"base58btc")}return null}catch(u){return null}}getPath(){let u=null;try{u=this.stringTuples().filter(u=>{let g=fd(u[0]);return!0===g.path})[0][1],null==u&&(u=null)}catch{u=null}return u}equals(u){return cq(this.bytes,u.bytes)}async resolve(u){let g=this.protos().find(u=>u.resolvable);if(null==g)return[this];let E=fQ.get(g.name);if(null==E)throw cH(Error(`no available resolver for ${g.name}`),"ERR_NO_AVAILABLE_RESOLVER");let A=await E(this,u);return A.map(u=>new fY(u))}nodeAddress(){let u=this.toOptions();if("tcp"!==u.transport&&"udp"!==u.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${u.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:u.family,address:u.host,port:u.port}}isThinWaistAddress(u){let g=(u??this).protos();return 2===g.length&&(4===g[0].code||41===g[0].code)&&(6===g[1].code||273===g[1].code)}[(P=new WeakMap,T=new WeakMap,I=new WeakMap,N=fX,fG)](){return`Multiaddr(${fz(this.bytes)})`}}function f0(u){return new fY(u)}class f1 extends Error{code;props;constructor(u,g,E){super(u),this.code=g,this.name=E?.name??"CodeError",this.props=E??{}}}var f2=function(u,g){if(u.length>=255)throw TypeError("Alphabet too long");for(var E=new Uint8Array(256),A=0;A<E.length;A++)E[A]=255;for(var C=0;C<u.length;C++){var S=u.charAt(C),U=S.charCodeAt(0);if(255!==E[U])throw TypeError(S+" is ambiguous");E[U]=C}var P=u.length,T=u.charAt(0),I=Math.log(P)/Math.log(256),N=Math.log(256)/Math.log(P);function $(u){if("string"!=typeof u)throw TypeError("Expected String");if(0===u.length)return new Uint8Array;var g=0;if(" "!==u[0]){for(var A=0,C=0;u[g]===T;)A++,g++;for(var S=(u.length-g)*I+1>>>0,U=new Uint8Array(S);u[g];){var N=E[u.charCodeAt(g)];if(255===N)return;for(var $=0,D=S-1;(0!==N||$<C)&&-1!==D;D--,$++)N+=P*U[D]>>>0,U[D]=N%256>>>0,N=N/256>>>0;if(0!==N)throw Error("Non-zero carry");C=$,g++}if(" "!==u[g]){for(var B=S-C;B!==S&&0===U[B];)B++;for(var L=new Uint8Array(A+(S-B)),O=A;B!==S;)L[O++]=U[B++];return L}}}function D(u){var E=$(u);if(E)return E;throw Error(`Non-${g} character`)}return{encode:function(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===g.length)return"";for(var E=0,A=0,C=0,S=g.length;C!==S&&0===g[C];)C++,E++;for(var U=(S-C)*N+1>>>0,I=new Uint8Array(U);C!==S;){for(var $=g[C],D=0,B=U-1;(0!==$||D<A)&&-1!==B;B--,D++)$+=256*I[B]>>>0,I[B]=$%P>>>0,$=$/P>>>0;if(0!==$)throw Error("Non-zero carry");A=D,C++}for(var L=U-A;L!==U&&0===I[L];)L++;for(var O=T.repeat(E);L<U;++L)O+=u.charAt(I[L]);return O},decodeUnsafe:$,decode:D}};new Uint8Array(0);let f5=(u,g)=>{if(u===g)return!0;if(u.byteLength!==g.byteLength)return!1;for(let E=0;E<u.byteLength;E++)if(u[E]!==g[E])return!1;return!0},f8=u=>{if(u instanceof Uint8Array&&"Uint8Array"===u.constructor.name)return u;if(u instanceof ArrayBuffer)return new Uint8Array(u);if(ArrayBuffer.isView(u))return new Uint8Array(u.buffer,u.byteOffset,u.byteLength);throw Error("Unknown type, must be binary type")},f6=u=>new TextEncoder().encode(u),f4=u=>new TextDecoder().decode(u);class f3{constructor(u,g,E){this.name=u,this.prefix=g,this.baseEncode=E}encode(u){if(u instanceof Uint8Array)return`${this.prefix}${this.baseEncode(u)}`;throw Error("Unknown type, must be binary type")}}class f7{constructor(u,g,E){if(this.name=u,this.prefix=g,void 0===g.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=g.codePointAt(0),this.baseDecode=E}decode(u){if("string"==typeof u){if(u.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(u)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(u.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(u){return he(this,u)}}class f9{constructor(u){this.decoders=u}or(u){return he(this,u)}decode(u){let g=u[0],E=this.decoders[g];if(E)return E.decode(u);throw RangeError(`Unable to decode multibase string ${JSON.stringify(u)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let he=(u,g)=>new f9({...u.decoders||{[u.prefix]:u},...g.decoders||{[g.prefix]:g}});class ht{constructor(u,g,E,A){this.name=u,this.prefix=g,this.baseEncode=E,this.baseDecode=A,this.encoder=new f3(u,g,E),this.decoder=new f7(u,g,A)}encode(u){return this.encoder.encode(u)}decode(u){return this.decoder.decode(u)}}let hr=({name:u,prefix:g,encode:E,decode:A})=>new ht(u,g,E,A),hn=({prefix:u,name:g,alphabet:E})=>{let{encode:A,decode:C}=f2(E,g);return hr({prefix:u,name:g,encode:A,decode:u=>f8(C(u))})},ho=(u,g,E,A)=>{let C={};for(let u=0;u<g.length;++u)C[g[u]]=u;let S=u.length;for(;"="===u[S-1];)--S;let U=new Uint8Array(S*E/8|0),P=0,T=0,I=0;for(let g=0;g<S;++g){let S=C[u[g]];if(void 0===S)throw SyntaxError(`Non-${A} character`);T=T<<E|S,(P+=E)>=8&&(P-=8,U[I++]=255&T>>P)}if(P>=E||255&T<<8-P)throw SyntaxError("Unexpected end of data");return U},hs=(u,g,E)=>{let A="="===g[g.length-1],C=(1<<E)-1,S="",U=0,P=0;for(let A=0;A<u.length;++A)for(P=P<<8|u[A],U+=8;U>E;)U-=E,S+=g[C&P>>U];if(U&&(S+=g[C&P<<E-U]),A)for(;S.length*E&7;)S+="=";return S},ha=({name:u,prefix:g,bitsPerChar:E,alphabet:A})=>hr({prefix:g,name:u,encode:u=>hs(u,A,E),decode:g=>ho(g,A,E,u)}),hu=hn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hl=hn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),hc=ha({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),hf=ha({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hh=ha({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),hd=ha({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hp=ha({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hg=ha({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hy=ha({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hb=ha({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hm=ha({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hw=128,hv=-128,hE=2147483648;function hA(u,g,E){g=g||[];for(var A=E=E||0;u>=hE;)g[E++]=255&u|hw,u/=128;for(;u&hv;)g[E++]=255&u|hw,u>>>=7;return g[E]=0|u,hA.bytes=E-A+1,g}var hx=128,hC=127;function hS(u,g){var E,A=0,g=g||0,C=0,S=g,U=u.length;do{if(S>=U)throw hS.bytes=0,RangeError("Could not decode varint");E=u[S++],A+=C<28?(E&hC)<<C:(E&hC)*Math.pow(2,C),C+=7}while(E>=hx);return hS.bytes=S-g,A}var hk=128,hU=16384,hP=2097152,hT=268435456,hI=34359738368,hN=4398046511104,hj=562949953421312,h$=72057594037927940,hD=0x7fffffffffffffff,hB={encode:hA,decode:hS,encodingLength:function(u){return u<hk?1:u<hU?2:u<hP?3:u<hT?4:u<hI?5:u<hN?6:u<hj?7:u<h$?8:u<hD?9:10}};let hL=(u,g=0)=>{let E=hB.decode(u,g);return[E,hB.decode.bytes]},hO=(u,g,E=0)=>(hB.encode(u,g,E),g),hz=u=>hB.encodingLength(u),h_=(u,g)=>{let E=g.byteLength,A=hz(u),C=A+hz(E),S=new Uint8Array(C+E);return hO(u,S,0),hO(E,S,A),S.set(g,C),new hM(u,E,g,S)},hR=u=>{let g=f8(u),[E,A]=hL(g),[C,S]=hL(g.subarray(A)),U=g.subarray(A+S);if(U.byteLength!==C)throw Error("Incorrect length");return new hM(E,C,U,g)},hF=(u,g)=>{if(u===g)return!0;{let E=g;return u.code===E.code&&u.size===E.size&&E.bytes instanceof Uint8Array&&f5(u.bytes,E.bytes)}};class hM{constructor(u,g,E,A){this.code=u,this.size=g,this.digest=E,this.bytes=A}}let hV=(u,g)=>{let{bytes:E,version:A}=u;return 0===A?hG(E,hq(u),g||hu.encoder):hK(E,hq(u),g||hc.encoder)},hH=new WeakMap,hq=u=>{let g=hH.get(u);if(null==g){let g=new Map;return hH.set(u,g),g}return g};class hJ{constructor(u,g,E,A){this.code=g,this.version=u,this.multihash=E,this.bytes=A,this["/"]=A}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:u,multihash:g}=this;if(u!==hQ)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(g.code!==hX)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return hJ.createV0(g)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:u,digest:g}=this.multihash,E=h_(u,g);return hJ.createV1(this.code,E)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(u){return hJ.equals(this,u)}static equals(u,g){let E=g;return E&&u.code===E.code&&u.version===E.version&&hF(u.multihash,E.multihash)}toString(u){return hV(this,u)}toJSON(){return{"/":hV(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(u){if(null==u)return null;let g=u;if(g instanceof hJ)return g;if(null!=g["/"]&&g["/"]===g.bytes||g.asCID===g){let{version:u,code:E,multihash:A,bytes:C}=g;return new hJ(u,E,A,C||hZ(u,E,A.bytes))}if(!0!==g[hY])return null;{let{version:u,multihash:E,code:A}=g,C=hR(E);return hJ.create(u,A,C)}}static create(u,g,E){if("number"!=typeof g)throw Error("String codecs are no longer supported");if(!(E.bytes instanceof Uint8Array))throw Error("Invalid digest");switch(u){case 0:if(g===hQ)return new hJ(u,g,E,E.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${hQ}) block encoding`);case 1:{let A=hZ(u,g,E.bytes);return new hJ(u,g,E,A)}default:throw Error("Invalid version")}}static createV0(u){return hJ.create(0,hQ,u)}static createV1(u,g){return hJ.create(1,u,g)}static decode(u){let[g,E]=hJ.decodeFirst(u);if(E.length)throw Error("Incorrect length");return g}static decodeFirst(u){let g=hJ.inspectBytes(u),E=g.size-g.multihashSize,A=f8(u.subarray(E,E+g.multihashSize));if(A.byteLength!==g.multihashSize)throw Error("Incorrect length");let C=A.subarray(g.multihashSize-g.digestSize),S=new hM(g.multihashCode,g.digestSize,C,A),U=0===g.version?hJ.createV0(S):hJ.createV1(g.codec,S);return[U,u.subarray(g.size)]}static inspectBytes(u){let g=0,E=()=>{let[E,A]=hL(u.subarray(g));return g+=A,E},A=E(),C=hQ;if(18===A?(A=0,g=0):C=E(),0!==A&&1!==A)throw RangeError(`Invalid CID version ${A}`);let S=g,U=E(),P=E(),T=g+P,I=T-S;return{version:A,codec:C,multihashCode:U,digestSize:P,multihashSize:I,size:T}}static parse(u,g){let[E,A]=hW(u,g),C=hJ.decode(A);if(0===C.version&&"Q"!==u[0])throw Error("Version 0 CID string must not include multibase prefix");return hq(C).set(E,u),C}}let hW=(u,g)=>{switch(u[0]){case"Q":{let E=g||hu;return[hu.prefix,E.decode(`${hu.prefix}${u}`)]}case hu.prefix:{let E=g||hu;return[hu.prefix,E.decode(u)]}case hc.prefix:{let E=g||hc;return[hc.prefix,E.decode(u)]}default:if(null==g)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[u[0],g.decode(u)]}},hG=(u,g,E)=>{let{prefix:A}=E;if(A!==hu.prefix)throw Error(`Cannot string encode V0 in ${E.name} encoding`);let C=g.get(A);if(null!=C)return C;{let C=E.encode(u).slice(1);return g.set(A,C),C}},hK=(u,g,E)=>{let{prefix:A}=E,C=g.get(A);if(null!=C)return C;{let C=E.encode(u);return g.set(A,C),C}},hQ=112,hX=18,hZ=(u,g,E)=>{let A=hz(u),C=A+hz(g),S=new Uint8Array(C+E.byteLength);return hO(u,S,0),hO(g,S,A),S.set(E,C),S},hY=Symbol.for("@ipld/js-cid/CID"),h0=128,h1=16384,h2=2097152,h5=268435456,h8=34359738368,h6=4398046511104,h4=562949953421312,h3=128,h7=127;function h9(u){if(u<h0)return 1;if(u<h1)return 2;if(u<h2)return 3;if(u<h5)return 4;if(u<h8)return 5;if(u<h6)return 6;if(u<h4)return 7;if(null!=Number.MAX_SAFE_INTEGER&&u>Number.MAX_SAFE_INTEGER)throw RangeError("Could not encode varint");return 8}function de(u,g,E=0){switch(h9(u)){case 8:g[E++]=255&u|h3,u/=128;case 7:g[E++]=255&u|h3,u/=128;case 6:g[E++]=255&u|h3,u/=128;case 5:g[E++]=255&u|h3,u/=128;case 4:g[E++]=255&u|h3,u>>>=7;case 3:g[E++]=255&u|h3,u>>>=7;case 2:g[E++]=255&u|h3,u>>>=7;case 1:g[E++]=255&u,u>>>=7;break;default:throw Error("unreachable")}return g}function dt(u,g,E=0){switch(h9(u)){case 8:g.set(E++,255&u|h3),u/=128;case 7:g.set(E++,255&u|h3),u/=128;case 6:g.set(E++,255&u|h3),u/=128;case 5:g.set(E++,255&u|h3),u/=128;case 4:g.set(E++,255&u|h3),u>>>=7;case 3:g.set(E++,255&u|h3),u>>>=7;case 2:g.set(E++,255&u|h3),u>>>=7;case 1:g.set(E++,255&u),u>>>=7;break;default:throw Error("unreachable")}return g}function dr(u,g){let E,A=u[g];if(E=0+(A&h7),A<h3||(E+=((A=u[g+1])&h7)<<7,A<h3)||(E+=((A=u[g+2])&h7)<<14,A<h3)||(E+=((A=u[g+3])&h7)<<21,A<h3)||(E+=((A=u[g+4])&h7)*h5,A<h3)||(E+=((A=u[g+5])&h7)*h8,A<h3)||(E+=((A=u[g+6])&h7)*h6,A<h3)||(E+=((A=u[g+7])&h7)*h4,A<h3))return E;throw RangeError("Could not decode varint")}function dn(u,g){let E,A=u.get(g);if(E=0+(A&h7),A<h3||(E+=((A=u.get(g+1))&h7)<<7,A<h3)||(E+=((A=u.get(g+2))&h7)<<14,A<h3)||(E+=((A=u.get(g+3))&h7)<<21,A<h3)||(E+=((A=u.get(g+4))&h7)*h5,A<h3)||(E+=((A=u.get(g+5))&h7)*h8,A<h3)||(E+=((A=u.get(g+6))&h7)*h6,A<h3)||(E+=((A=u.get(g+7))&h7)*h4,A<h3))return E;throw RangeError("Could not decode varint")}function di(u,g,E=0){return(null==g&&(g=l1(h9(u))),g instanceof Uint8Array)?de(u,g,E):dt(u,g,E)}function ds(u,g=0){return u instanceof Uint8Array?dr(u,g):dn(u,g)}parseInt("0xFFFF",16),new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);let da=hn({prefix:"9",name:"base10",alphabet:"0123456789"}),du=ha({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dl=ha({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),dc=ha({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),df=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),dh=df.reduce((u,g,E)=>(u[E]=g,u),[]),dd=df.reduce((u,g,E)=>(u[g.codePointAt(0)]=E,u),[]);function dg(u){return u.reduce((u,g)=>u+=dh[g],"")}function dy(u){let g=[];for(let E of u){let u=dd[E.codePointAt(0)];if(void 0===u)throw Error(`Non-base256emoji character: ${E}`);g.push(u)}return new Uint8Array(g)}let db=hr({prefix:"\uD83D\uDE80",name:"base256emoji",encode:dg,decode:dy}),dm=hn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dw=hn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),dv=ha({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dE=ha({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dA=ha({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dx=ha({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),dC=ha({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dS=hr({prefix:"\x00",name:"identity",encode:u=>f4(u),decode:u=>f6(u)}),dk=new TextEncoder,dU=new TextDecoder,dP="json",dT=512,dI=u=>dk.encode(JSON.stringify(u)),dN=u=>JSON.parse(dU.decode(u)),dj="raw",d$=85,dD=u=>f8(u),dB=u=>f8(u),dL=0,dO="identity",dz=f8,d_=u=>h_(dL,dz(u)),dR={code:dL,name:dO,encode:dz,digest:d_},dF=({name:u,code:g,encode:E})=>new dM(u,g,E);class dM{constructor(u,g,E){this.name=u,this.code=g,this.encode=E}digest(u){if(u instanceof Uint8Array){let g=this.encode(u);return g instanceof Uint8Array?h_(this.code,g):g.then(u=>h_(this.code,u))}throw Error("Unknown type, must be binary type")}}let dV=u=>async g=>new Uint8Array(await crypto.subtle.digest(u,g)),dH=dF({name:"sha2-256",code:18,encode:dV("SHA-256")}),dq=dF({name:"sha2-512",code:19,encode:dV("SHA-512")}),dJ={...eA,...eb,...eE,...eg,...ey,...ep,...ew,...ed,...ev,...em};({...ek,...eS});let dW=uh,dG=ud,dK=function(u){let g=0;if(dW(u=u.toString().trim())){let E=new Uint8Array(g+4);return u.split(/\./g).forEach(u=>{E[g++]=255&parseInt(u,10)}),E}if(dG(u)){let E;let A=u.split(":",8);for(E=0;E<A.length;E++){let u;let g=dW(A[E]);g&&(u=dK(A[E]),A[E]=l3(u.slice(0,2),"base16")),null!=u&&++E<8&&A.splice(E,0,l3(u.slice(2,4),"base16"))}if(""===A[0])for(;A.length<8;)A.unshift("0");else if(""===A[A.length-1])for(;A.length<8;)A.push("0");else if(A.length<8){for(E=0;E<A.length&&""!==A[E];E++);let u=[E,1];for(E=9-A.length;E>0;E--)u.push("0");A.splice.apply(A,u)}let C=new Uint8Array(g+16);for(E=0;E<A.length;E++){let u=parseInt(A[E],16);C[g++]=u>>8&255,C[g++]=255&u}return C}throw Error("invalid ip address")},dQ=function(u,g=0,E){g=~~g,E=E??u.length-g;let A=new DataView(u.buffer);if(4===E){let A=[];for(let C=0;C<E;C++)A.push(u[g+C]);return A.join(".")}if(16===E){let u=[];for(let C=0;C<E;C+=2)u.push(A.getUint16(g+C).toString(16));return u.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},dX=-1,dZ={},dY={},d0=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,dX,"ip6zone"],[43,8,"ipcidr"],[53,dX,"dns",!0],[54,dX,"dns4",!0],[55,dX,"dns6",!0],[56,dX,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,dX,"unix",!1,!0],[421,dX,"ipfs"],[421,dX,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,dX,"garlic64"],[448,0,"tls"],[449,dX,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,dX,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,dX,"memory"]];function d1(u,g,E,A,C){return{code:u,size:g,name:E,resolvable:!!A,path:!!C}}function d2(u){if("number"==typeof u){if(null!=dY[u])return dY[u];throw Error(`no protocol with code: ${u}`)}if("string"==typeof u){if(null!=dZ[u])return dZ[u];throw Error(`no protocol with name: ${u}`)}throw Error(`invalid protocol id type: ${typeof u}`)}function d5(u,g){let E=d2(u);switch(E.code){case 4:case 41:return d7(g);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return pr(g);case 6:case 273:case 33:case 132:return pe(g).toString();case 421:return ps(g);case 444:case 445:return pl(g);case 466:return po(g);default:return l3(g,"base16")}}function d8(u,g){let E=d2(u);switch(E.code){case 4:case 41:return d3(g);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return pt(g);case 6:case 273:case 33:case 132:return d9(parseInt(g,10));case 421:return pn(g);case 444:return pa(g);case 445:return pu(g);case 466:return pi(g);default:return cl(g,"base16")}}d0.forEach(u=>{let g=d1(...u);dY[g.code]=g,dZ[g.name]=g}),d2("ip4"),d2("ip6"),d2("ipcidr");let d6=Object.values(dJ).map(u=>u.decoder),d4=function(){let u=d6[0].or(d6[1]);return d6.slice(2).forEach(g=>u=u.or(g)),u}();function d3(u){if(!up(u))throw Error("invalid ip address");return dK(u)}function d7(u){let g=dQ(u,0,u.length);if(null==g)throw Error("ipBuff is required");if(!up(g))throw Error("invalid ip address");return g}function d9(u){let g=new ArrayBuffer(2),E=new DataView(g);return E.setUint16(0,u),new Uint8Array(g)}function pe(u){let g=new DataView(u.buffer);return g.getUint16(u.byteOffset)}function pt(u){let g=cl(u),E=Uint8Array.from(di(g.length));return cc([E,g],E.length+g.length)}function pr(u){let g=ds(u);if((u=u.slice(h9(g))).length!==g)throw Error("inconsistent lengths");return l3(u)}function pn(u){let g;g="Q"===u[0]||"1"===u[0]?hR(hu.decode(`z${u}`)).bytes:hJ.parse(u).multihash.bytes;let E=Uint8Array.from(di(g.length));return cc([E,g],E.length+g.length)}function pi(u){let g=d4.decode(u),E=Uint8Array.from(di(g.length));return cc([E,g],E.length+g.length)}function po(u){let g=ds(u),E=u.slice(h9(g));if(E.length!==g)throw Error("inconsistent lengths");return"u"+l3(E,"base64url")}function ps(u){let g=ds(u),E=u.slice(h9(g));if(E.length!==g)throw Error("inconsistent lengths");return l3(E,"base58btc")}function pa(u){let g=u.split(":");if(2!==g.length)throw Error(`failed to parse onion addr: ["'${g.join('", "')}'"]' does not contain a port number`);if(16!==g[0].length)throw Error(`failed to parse onion addr: ${g[0]} not a Tor onion address.`);let E=hc.decode("b"+g[0]),A=parseInt(g[1],10);if(A<1||A>65536)throw Error("Port number is not in range(1, 65536)");let C=d9(A);return cc([E,C],E.length+C.length)}function pu(u){let g=u.split(":");if(2!==g.length)throw Error(`failed to parse onion addr: ["'${g.join('", "')}'"]' does not contain a port number`);if(56!==g[0].length)throw Error(`failed to parse onion addr: ${g[0]} not a Tor onion3 address.`);let E=hc.decode(`b${g[0]}`),A=parseInt(g[1],10);if(A<1||A>65536)throw Error("Port number is not in range(1, 65536)");let C=d9(A);return cc([E,C],E.length+C.length)}function pl(u){let g=u.slice(0,u.length-2),E=u.slice(u.length-2),A=l3(g,"base32"),C=pe(E);return`${A}:${C}`}function pc(u){u=pg(u);let g=[],E=[],A=null,C=u.split("/").slice(1);if(1===C.length&&""===C[0])return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let S=0;S<C.length;S++){let U=C[S],P=d2(U);if(0===P.size){g.push([P.code]),E.push([P.code]);continue}if(++S>=C.length)throw py("invalid address: "+u);if(!0===P.path){A=pg(C.slice(S).join("/")),g.push([P.code,d8(P.code,A)]),E.push([P.code,A]);break}let T=d8(P.code,C[S]);g.push([P.code,T]),E.push([P.code,d5(P.code,T)])}return{string:ph(E),bytes:pd(g),tuples:g,stringTuples:E,path:A}}function pf(u){let g=[],E=[],A=null,C=0;for(;C<u.length;){let S=ds(u,C),U=h9(S),P=d2(S),T=pp(P,u.slice(C+U));if(0===T){g.push([S]),E.push([S]),C+=U;continue}let I=u.slice(C+U,C+U+T);if((C+=T+U)>u.length)throw py("Invalid address Uint8Array: "+l3(u,"base16"));g.push([S,I]);let N=d5(S,I);if(E.push([S,N]),!0===P.path){A=N;break}}return{bytes:Uint8Array.from(u),string:ph(E),tuples:g,stringTuples:E,path:A}}function ph(u){let g=[];return u.map(u=>{let E=d2(u[0]);return g.push(E.name),u.length>1&&null!=u[1]&&g.push(u[1]),null}),pg(g.join("/"))}function pd(u){return cc(u.map(u=>{let g=d2(u[0]),E=Uint8Array.from(di(g.code));return u.length>1&&null!=u[1]&&(E=cc([E,u[1]])),E}))}function pp(u,g){if(u.size>0)return u.size/8;if(0===u.size)return 0;{let u=ds(g instanceof Uint8Array?g:Uint8Array.from(g));return u+h9(u)}}function pg(u){return"/"+u.trim().split("/").filter(u=>u).join("/")}function py(u){return Error("Error parsing address: "+u)}let pb=Symbol.for("nodejs.util.inspect.custom"),pm=[d2("dns").code,d2("dns4").code,d2("dns6").code,d2("dnsaddr").code],pw=new Map,pv=Symbol.for("@multiformats/js-multiaddr/multiaddr");function pE(u){return!!u?.[pv]}class pA{bytes;#l;#c;#f;#h;[pv]=!0;constructor(u){let g;if(null==u&&(u=""),u instanceof Uint8Array)g=pf(u);else if("string"==typeof u){if(u.length>0&&"/"!==u.charAt(0))throw Error(`multiaddr "${u}" must start with a "/"`);g=pc(u)}else if(pE(u))g=pf(u.bytes);else throw Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=g.bytes,this.#l=g.string,this.#c=g.tuples,this.#f=g.stringTuples,this.#h=g.path}toString(){return this.#l}toJSON(){return this.toString()}toOptions(){let u,g,E,A;let C="",S=d2("tcp"),U=d2("udp"),P=d2("ip4"),T=d2("ip6"),I=d2("dns6"),N=d2("ip6zone");for(let[$,D]of this.stringTuples())$===N.code&&(C=`%${D??""}`),pm.includes($)&&(g=S.name,A=443,E=`${D??""}${C}`,u=$===I.code?6:4),($===S.code||$===U.code)&&(g=d2($).name,A=parseInt(D??"")),($===P.code||$===T.code)&&(g=d2($).name,E=`${D??""}${C}`,u=$===T.code?6:4);if(null==u||null==g||null==E||null==A)throw Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');let $={family:u,host:E,transport:g,port:A};return $}protos(){return this.#c.map(([u])=>Object.assign({},d2(u)))}protoCodes(){return this.#c.map(([u])=>u)}protoNames(){return this.#c.map(([u])=>d2(u).name)}tuples(){return this.#c}stringTuples(){return this.#f}encapsulate(u){return u=new pA(u),new pA(this.toString()+u.toString())}decapsulate(u){let g=u.toString(),E=this.toString(),A=E.lastIndexOf(g);if(A<0)throw Error(`Address ${this.toString()} does not contain subaddress: ${u.toString()}`);return new pA(E.slice(0,A))}decapsulateCode(u){let g=this.tuples();for(let E=g.length-1;E>=0;E--)if(g[E][0]===u)return new pA(pd(g.slice(0,E)));return this}getPeerId(){try{let u=[];this.stringTuples().forEach(([g,E])=>{g===dZ.p2p.code&&u.push([g,E]),g===dZ["p2p-circuit"].code&&(u=[])});let g=u.pop();if(g?.[1]!=null){let u=g[1];if("Q"===u[0]||"1"===u[0])return l3(hu.decode(`z${u}`),"base58btc");return l3(hJ.parse(u).multihash.bytes,"base58btc")}return null}catch(u){return null}}getPath(){return this.#h}equals(u){return cq(this.bytes,u.bytes)}async resolve(u){let g=this.protos().find(u=>u.resolvable);if(null==g)return[this];let E=pw.get(g.name);if(null==E)throw new f1(`no available resolver for ${g.name}`,"ERR_NO_AVAILABLE_RESOLVER");let A=await E(this,u);return A.map(u=>new pA(u))}nodeAddress(){let u=this.toOptions();if("tcp"!==u.transport&&"udp"!==u.transport)throw Error(`multiaddr must have a valid format - no protocol with name: "${u.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:u.family,address:u.host,port:u.port}}isThinWaistAddress(u){let g=(u??this).protos();return 2===g.length&&(4===g[0].code||41===g[0].code)&&(6===g[1].code||273===g[1].code)}[pb](){return`Multiaddr(${this.#l})`}}function px(u){return new pA(u)}function pC(u){let g;try{g=d2("sni").code}catch(u){return null}for(let[E,A]of u)if(E===g&&void 0!==A)return A;return null}function pS(u){return u.some(([u,g])=>u===d2("tls").code)}function pk(u,g,E){let A=pU[d2(u).name];if(void 0===A)throw Error(`Can't interpret protocol ${d2(u).name}`);let C=A(g,E);return u===d2("ip6").code?`[${C}]`:C}let pU={ip4:(u,g)=>u,ip6:(u,g)=>0===g.length?u:`[${u}]`,tcp:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return`tcp://${pk(E[0],E[1]??"",g)}:${u}`},udp:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return`udp://${pk(E[0],E[1]??"",g)}:${u}`},dnsaddr:(u,g)=>u,dns4:(u,g)=>u,dns6:(u,g)=>u,dns:(u,g)=>u,ipfs:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return`${pk(E[0],E[1]??"",g)}/ipfs/${u}`},p2p:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return`${pk(E[0],E[1]??"",g)}/p2p/${u}`},http:(u,g)=>{let E=pS(g),A=pC(g);if(E&&null!==A)return`https://${A}`;let C=E?"https://":"http://",S=g.pop();if(void 0===S)throw Error("Unexpected end of multiaddr");let U=pk(S[0],S[1]??"",g);return`${C}${U=U.replace("tcp://","")}`},tls:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return pk(E[0],E[1]??"",g)},sni:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return pk(E[0],E[1]??"",g)},https:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");let A=pk(E[0],E[1]??"",g);return`https://${A=A.replace("tcp://","")}`},ws:(u,g)=>{let E=pS(g),A=pC(g);if(E&&null!==A)return`wss://${A}`;let C=E?"wss://":"ws://",S=g.pop();if(void 0===S)throw Error("Unexpected end of multiaddr");let U=pk(S[0],S[1]??"",g);return`${C}${U=U.replace("tcp://","")}`},wss:(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");let A=pk(E[0],E[1]??"",g);return`wss://${A=A.replace("tcp://","")}`},"p2p-websocket-star":(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return`${pk(E[0],E[1]??"",g)}/p2p-websocket-star`},"p2p-webrtc-star":(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return`${pk(E[0],E[1]??"",g)}/p2p-webrtc-star`},"p2p-webrtc-direct":(u,g)=>{let E=g.pop();if(void 0===E)throw Error("Unexpected end of multiaddr");return`${pk(E[0],E[1]??"",g)}/p2p-webrtc-direct`}};function pP(u,g){let E=px(u),A=E.stringTuples(),C=A.pop();if(void 0===C)throw Error("Unexpected end of multiaddr");let S=d2(C[0]),U=pU[S.name];if(null==U)throw Error(`No interpreter found for ${S.name}`);let P=U(C[1]??"",A);return g?.assumeHttp!==!1&&C[0]===d2("tcp").code&&(P=P.replace("tcp://","http://"),("443"===C[1]||"80"===C[1])&&("443"===C[1]&&(P=P.replace("http://","https://")),P=P.substring(0,P.lastIndexOf(":")))),P}function pT(u){try{u=pP(f0(u))}catch(u){}return u=u.toString()}var pI=()=>{};let pN=fe("ipfs-http-client:lib:error-handler"),pj=fr.bind({ignoreUndefined:!0}),p$=c5.isBrowser||c5.isWebWorker?location.protocol:"http",pD=c5.isBrowser||c5.isWebWorker?location.hostname:"localhost",pB=c5.isBrowser||c5.isWebWorker?location.port:"5001",pL=(u={})=>{let g,E;let A={};if("string"==typeof u||cZ(u))g=new URL(pT(u));else if(u instanceof URL)g=u;else if("string"==typeof u.url||cZ(u.url))g=new URL(pT(u.url)),A=u;else if(u.url instanceof URL)g=u.url,A=u;else{A=u||{};let E=(A.protocol||p$).replace(":",""),C=(A.host||pD).split(":")[0],S=A.port||pB;g=new URL(`${E}://${C}:${S}`)}if(A.apiPath?g.pathname=A.apiPath:("/"===g.pathname||void 0===g.pathname)&&(g.pathname="api/v0"),c5.isNode){let u=pI(g);E=A.agent||new u({keepAlive:!0,maxSockets:6})}return{...A,host:g.host,protocol:g.protocol.replace(":",""),port:Number(g.port),apiPath:g.pathname,url:g,agent:E}},pO=async u=>{let g;try{if((u.headers.get("Content-Type")||"").startsWith("application/json")){let E=await u.json();pN(E),g=E.Message||E.message}else g=await u.text()}catch(u){pN("Failed to parse error response",u),g=u.message}let E=new ft.HTTPError(u);throw g&&(g.includes("deadline has elapsed")&&(E=new ft.TimeoutError),g&&g.includes("context deadline exceeded")&&(E=new ft.TimeoutError)),g&&g.includes("request timed out")&&(E=new ft.TimeoutError),g&&(E.message=g),E},pz=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,p_=u=>u.replace(pz,function(u){return"-"+u.toLowerCase()}),pR=u=>"string"==typeof u?c3(u):u;class pF extends ft{constructor(u={}){let g=pL(u);super({timeout:pR(g.timeout||0)||void 0,headers:g.headers,base:`${g.url}`,handleError:pO,transformSearchParams:u=>{let g=new URLSearchParams;for(let[E,A]of u)"undefined"!==A&&"null"!==A&&"signal"!==E&&g.append(p_(E),A),"timeout"!==E||isNaN(A)||g.append(p_(E),A);return g},agent:g.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;let E=this.fetch;this.fetch=(u,A={})=>("string"!=typeof u||u.startsWith("/")||(u=`${g.url}/${u}`),E.call(this,u,pj(A,{method:"POST"})))}}ft.HTTPError;let pM=u=>g=>u(new pF(g),g);function pV(u){return null==u?void 0:"string"==typeof u?u:u.toString(8).padStart(4,"0")}function pH(u){let g;if(null!=u){if(null!=u.secs&&(g={secs:u.secs,nsecs:u.nsecs}),null!=u.Seconds&&(g={secs:u.Seconds,nsecs:u.FractionalNanoseconds}),Array.isArray(u)&&(g={secs:u[0],nsecs:u[1]}),u instanceof Date){let E=u.getTime(),A=Math.floor(E/1e3);g={secs:A,nsecs:(E-1e3*A)*1e3}}if(Object.prototype.hasOwnProperty.call(g,"secs")){if(null!=g&&null!=g.nsecs&&(g.nsecs<0||g.nsecs>999999999))throw cH(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return g}}}function pq({arg:u,searchParams:g,hashAlg:E,mtime:A,mode:C,...S}={}){g&&(S={...S,...g}),E&&(S.hash=E),null!=A&&(A=pH(A),S.mtime=A.secs,S.mtimeNsecs=A.nsecs),null!=C&&(S.mode=pV(C)),S.timeout&&!isNaN(S.timeout)&&(S.timeout=`${S.timeout}ms`),null==u?u=[]:Array.isArray(u)||(u=[u]);let U=new URLSearchParams(S);return u.forEach(u=>U.append("arg",u)),U}let pJ=pM(u=>async function(g={}){let E=await (await u.post("bitswap/wantlist",{signal:g.signal,searchParams:pq(g),headers:g.headers})).json();return(E.Keys||[]).map(u=>an.parse(u["/"]))}),pW=pM(u=>async function(g,E={}){let A=await (await u.post("bitswap/wantlist",{signal:E.signal,searchParams:pq({...E,peer:g.toString()}),headers:E.headers})).json();return(A.Keys||[]).map(u=>an.parse(u["/"]))}),pG=Symbol.for("@libp2p/peer-id"),pK=Symbol.for("nodejs.util.inspect.custom"),pQ=Object.values(ur).map(u=>u.decoder).reduce((u,g)=>u.or(g),ur.identity.decoder),pX=114,pZ=36,pY=37;class p0{type;multihash;privateKey;publicKey;string;constructor(u){this.type=u.type,this.multihash=u.multihash,this.privateKey=u.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[pG]=!0;toString(){return null==this.string&&(this.string=sY.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return an.createV1(pX,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(u){if(u instanceof Uint8Array)return cq(this.multihash.bytes,u);if("string"==typeof u)return p8(u).equals(this);if(u?.multihash?.bytes!=null)return cq(this.multihash.bytes,u.multihash.bytes);throw Error("not valid Id")}[pK](){return`PeerId(${this.toString()})`}}class p1 extends p0{type="RSA";publicKey;constructor(u){super({...u,type:"RSA"}),this.publicKey=u.publicKey}}class p2 extends p0{type="Ed25519";publicKey;constructor(u){super({...u,type:"Ed25519"}),this.publicKey=u.multihash.digest}}class p5 extends p0{type="secp256k1";publicKey;constructor(u){super({...u,type:"secp256k1"}),this.publicKey=u.multihash.digest}}function p8(u,g){if(g=g??pQ,"1"===u.charAt(0)||"Q"===u.charAt(0)){let g=sQ(sY.decode(`z${u}`));return u.startsWith("12D")?new p2({multihash:g}):u.startsWith("16U")?new p5({multihash:g}):new p1({multihash:g})}return p6(pQ.decode(u))}function p6(u){try{let g=sQ(u);if(g.code===aL.code){if(g.digest.length===pZ)return new p2({multihash:g});if(g.digest.length===pY)return new p5({multihash:g})}if(g.code===a0.code)return new p1({multihash:g})}catch{return p4(an.decode(u))}throw Error("Supplied PeerID CID is invalid")}function p4(u){if(null==u||null==u.multihash||null==u.version||1===u.version&&u.code!==pX)throw Error("Supplied PeerID CID is invalid");let g=u.multihash;if(g.code===a0.code)return new p1({multihash:u.multihash});if(g.code===aL.code){if(g.digest.length===pZ)return new p2({multihash:u.multihash});if(g.digest.length===pY)return new p5({multihash:u.multihash})}throw Error("Supplied PeerID CID is invalid")}let p3=pM(u=>async function(g={}){let E=await u.post("bitswap/stat",{searchParams:pq(g),signal:g.signal,headers:g.headers});return p7(await E.json())});function p7(u){return{provideBufLen:u.ProvideBufLen,wantlist:(u.Wantlist||[]).map(u=>an.parse(u["/"])),peers:(u.Peers||[]).map(u=>p8(u)),blocksReceived:BigInt(u.BlocksReceived),dataReceived:BigInt(u.DataReceived),blocksSent:BigInt(u.BlocksSent),dataSent:BigInt(u.DataSent),dupBlksReceived:BigInt(u.DupBlksReceived),dupDataReceived:BigInt(u.DupDataReceived)}}let p9=pM(u=>async function(g,E={}){let A=await u.post("bitswap/unwant",{signal:E.signal,searchParams:pq({arg:g.toString(),...E}),headers:E.headers});return A.json()});function ge(u){return{wantlist:pJ(u),wantlistForPeer:pW(u),unwant:p9(u),stat:p3(u)}}let gt=pM(u=>async function(g,E={}){let A=await u.post("block/get",{signal:E.signal,searchParams:pq({arg:g.toString(),...E}),headers:E.headers});return new Uint8Array(await A.arrayBuffer())});function gr(u){let[g,E]=null!=u[Symbol.asyncIterator]?[u[Symbol.asyncIterator](),Symbol.asyncIterator]:[u[Symbol.iterator](),Symbol.iterator],A=[];return{peek:()=>g.next(),push:u=>{A.push(u)},next:()=>A.length>0?{done:!1,value:A.shift()}:g.next(),[E](){return this}}}async function*gn(u,g={}){let E=u.getReader();try{for(;;){let u=await E.read();if(u.done)return;yield u.value}}finally{!0!==g.preventCancel&&await E.cancel(),E.releaseLock()}}async function gi(u){let g=[];for await(let E of u)g.push(E);return g}function go(u){return ArrayBuffer.isView(u)||u instanceof ArrayBuffer}function gs(u){return u.constructor&&("Blob"===u.constructor.name||"File"===u.constructor.name)&&"function"==typeof u.stream}function ga(u){return"object"==typeof u&&(u.path||u.content)}let gu=u=>u&&"function"==typeof u.getReader;async function gl(u){if(go(u))return new Blob([u]);if("string"==typeof u||u instanceof String)return new Blob([u.toString()]);if(gs(u))return u;if(gu(u)&&(u=gn(u)),Symbol.iterator in u||Symbol.asyncIterator in u){let g=gr(u),{value:E,done:A}=await g.peek();if(A)return gc(g);if(g.push(E),Number.isInteger(E))return new Blob([Uint8Array.from(await gi(g))]);if(go(E)||"string"==typeof E||E instanceof String)return gc(g)}throw cH(Error(`Unexpected input: ${u}`),"ERR_UNEXPECTED_INPUT")}async function gc(u){let g=[];for await(let E of u)g.push(E);return new Blob(g)}async function*gf(u,g){for await(let E of u)yield g(E)}var gh=E(4481);let gd=gh.Reader,gp=gh.Writer,gg=gh.util,gy=gh.roots["ipfs-unixfs"]||(gh.roots["ipfs-unixfs"]={});function gb(u){return null==u?void 0:"number"==typeof u?4095&u:"0"===(u=u.toString()).substring(0,1)?4095&parseInt(u,8):4095&parseInt(u,10)}function gm(u){let g;if(null!=u){if(null!=u.secs&&(g={secs:u.secs,nsecs:u.nsecs}),null!=u.Seconds&&(g={secs:u.Seconds,nsecs:u.FractionalNanoseconds}),Array.isArray(u)&&(g={secs:u[0],nsecs:u[1]}),u instanceof Date){let E=u.getTime(),A=Math.floor(E/1e3);g={secs:A,nsecs:(E-1e3*A)*1e3}}if(Object.prototype.hasOwnProperty.call(g,"secs")){if(null!=g&&null!=g.nsecs&&(g.nsecs<0||g.nsecs>999999999))throw cH(Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return g}}}async function*gw(u,g){if("string"==typeof u||u instanceof String||go(u)||gs(u)||u._readableState)throw cH(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(gu(u)&&(u=gn(u)),Symbol.iterator in u||Symbol.asyncIterator in u){let E=gr(u),{value:A,done:C}=await E.peek();if(C){yield*[];return}if(E.push(A),Number.isInteger(A))throw cH(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(A._readableState){yield*gf(E,u=>gv({content:u},g));return}if(go(A)){yield gv({content:E},g);return}if(ga(A)||A[Symbol.iterator]||A[Symbol.asyncIterator]||gu(A)||gs(A)){yield*gf(E,u=>gv(u,g));return}}if(ga(u))throw cH(Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw cH(Error("Unexpected input: "+typeof u),"ERR_UNEXPECTED_INPUT")}async function gv(u,g){let{path:E,mode:A,mtime:C,content:S}=u,U={path:E||"",mode:gb(A),mtime:gm(C)};return S?U.content=await g(S):E||(U.content=await g(u)),U}function gE(u){return gw(u,gl,!0)}function gA(u){return null==u?void 0:"string"==typeof u?u:u.toString(8).padStart(4,"0")}async function gx(u,g,E={}){let A=[],C=new FormData,S=0,U=0;for await(let{content:g,path:E,mode:P,mtime:T}of gE(u)){let u="",I=g?"file":"dir";S>0&&(u=`-${S}`);let N=I+u,$=[];if(null!=P&&$.push(`mode=${gA(P)}`),null!=T){let{secs:u,nsecs:g}=T;$.push(`mtime=${u}`),null!=g&&$.push(`mtime-nsecs=${g}`)}if($.length&&(N=`${N}?${$.join("&")}`),g){C.set(N,g,null!=E?encodeURIComponent(E):void 0);let u=U+g.size;A.push({name:E,start:U,end:u}),U=u}else if(null!=E)C.set(N,new File([""],encodeURIComponent(E),{type:"application/x-directory"}));else throw Error("path or content or both must be set");S++}return{total:U,parts:A,headers:E,body:C}}gy.Data=(()=>{function u(u){if(this.blocksizes=[],u)for(var g=Object.keys(u),E=0;E<g.length;++E)null!=u[g[E]]&&(this[g[E]]=u[g[E]])}return u.prototype.Type=0,u.prototype.Data=gg.newBuffer([]),u.prototype.filesize=gg.Long?gg.Long.fromBits(0,0,!0):0,u.prototype.blocksizes=gg.emptyArray,u.prototype.hashType=gg.Long?gg.Long.fromBits(0,0,!0):0,u.prototype.fanout=gg.Long?gg.Long.fromBits(0,0,!0):0,u.prototype.mode=0,u.prototype.mtime=null,u.encode=function(u,g){if(g||(g=gp.create()),g.uint32(8).int32(u.Type),null!=u.Data&&Object.hasOwnProperty.call(u,"Data")&&g.uint32(18).bytes(u.Data),null!=u.filesize&&Object.hasOwnProperty.call(u,"filesize")&&g.uint32(24).uint64(u.filesize),null!=u.blocksizes&&u.blocksizes.length)for(var E=0;E<u.blocksizes.length;++E)g.uint32(32).uint64(u.blocksizes[E]);return null!=u.hashType&&Object.hasOwnProperty.call(u,"hashType")&&g.uint32(40).uint64(u.hashType),null!=u.fanout&&Object.hasOwnProperty.call(u,"fanout")&&g.uint32(48).uint64(u.fanout),null!=u.mode&&Object.hasOwnProperty.call(u,"mode")&&g.uint32(56).uint32(u.mode),null!=u.mtime&&Object.hasOwnProperty.call(u,"mtime")&&gy.UnixTime.encode(u.mtime,g.uint32(66).fork()).ldelim(),g},u.decode=function(u,g){u instanceof gd||(u=gd.create(u));for(var E=void 0===g?u.len:u.pos+g,A=new gy.Data;u.pos<E;){var C=u.uint32();switch(C>>>3){case 1:A.Type=u.int32();break;case 2:A.Data=u.bytes();break;case 3:A.filesize=u.uint64();break;case 4:if(A.blocksizes&&A.blocksizes.length||(A.blocksizes=[]),(7&C)==2)for(var S=u.uint32()+u.pos;u.pos<S;)A.blocksizes.push(u.uint64());else A.blocksizes.push(u.uint64());break;case 5:A.hashType=u.uint64();break;case 6:A.fanout=u.uint64();break;case 7:A.mode=u.uint32();break;case 8:A.mtime=gy.UnixTime.decode(u,u.uint32());break;default:u.skipType(7&C)}}if(!A.hasOwnProperty("Type"))throw gg.ProtocolError("missing required 'Type'",{instance:A});return A},u.fromObject=function(u){if(u instanceof gy.Data)return u;var g=new gy.Data;switch(u.Type){case"Raw":case 0:g.Type=0;break;case"Directory":case 1:g.Type=1;break;case"File":case 2:g.Type=2;break;case"Metadata":case 3:g.Type=3;break;case"Symlink":case 4:g.Type=4;break;case"HAMTShard":case 5:g.Type=5}if(null!=u.Data&&("string"==typeof u.Data?gg.base64.decode(u.Data,g.Data=gg.newBuffer(gg.base64.length(u.Data)),0):u.Data.length&&(g.Data=u.Data)),null!=u.filesize&&(gg.Long?(g.filesize=gg.Long.fromValue(u.filesize)).unsigned=!0:"string"==typeof u.filesize?g.filesize=parseInt(u.filesize,10):"number"==typeof u.filesize?g.filesize=u.filesize:"object"==typeof u.filesize&&(g.filesize=new gg.LongBits(u.filesize.low>>>0,u.filesize.high>>>0).toNumber(!0))),u.blocksizes){if(!Array.isArray(u.blocksizes))throw TypeError(".Data.blocksizes: array expected");g.blocksizes=[];for(var E=0;E<u.blocksizes.length;++E)gg.Long?(g.blocksizes[E]=gg.Long.fromValue(u.blocksizes[E])).unsigned=!0:"string"==typeof u.blocksizes[E]?g.blocksizes[E]=parseInt(u.blocksizes[E],10):"number"==typeof u.blocksizes[E]?g.blocksizes[E]=u.blocksizes[E]:"object"==typeof u.blocksizes[E]&&(g.blocksizes[E]=new gg.LongBits(u.blocksizes[E].low>>>0,u.blocksizes[E].high>>>0).toNumber(!0))}if(null!=u.hashType&&(gg.Long?(g.hashType=gg.Long.fromValue(u.hashType)).unsigned=!0:"string"==typeof u.hashType?g.hashType=parseInt(u.hashType,10):"number"==typeof u.hashType?g.hashType=u.hashType:"object"==typeof u.hashType&&(g.hashType=new gg.LongBits(u.hashType.low>>>0,u.hashType.high>>>0).toNumber(!0))),null!=u.fanout&&(gg.Long?(g.fanout=gg.Long.fromValue(u.fanout)).unsigned=!0:"string"==typeof u.fanout?g.fanout=parseInt(u.fanout,10):"number"==typeof u.fanout?g.fanout=u.fanout:"object"==typeof u.fanout&&(g.fanout=new gg.LongBits(u.fanout.low>>>0,u.fanout.high>>>0).toNumber(!0))),null!=u.mode&&(g.mode=u.mode>>>0),null!=u.mtime){if("object"!=typeof u.mtime)throw TypeError(".Data.mtime: object expected");g.mtime=gy.UnixTime.fromObject(u.mtime)}return g},u.toObject=function(u,g){g||(g={});var E={};if((g.arrays||g.defaults)&&(E.blocksizes=[]),g.defaults){if(E.Type=g.enums===String?"Raw":0,g.bytes===String?E.Data="":(E.Data=[],g.bytes!==Array&&(E.Data=gg.newBuffer(E.Data))),gg.Long){var A=new gg.Long(0,0,!0);E.filesize=g.longs===String?A.toString():g.longs===Number?A.toNumber():A}else E.filesize=g.longs===String?"0":0;if(gg.Long){var A=new gg.Long(0,0,!0);E.hashType=g.longs===String?A.toString():g.longs===Number?A.toNumber():A}else E.hashType=g.longs===String?"0":0;if(gg.Long){var A=new gg.Long(0,0,!0);E.fanout=g.longs===String?A.toString():g.longs===Number?A.toNumber():A}else E.fanout=g.longs===String?"0":0;E.mode=0,E.mtime=null}if(null!=u.Type&&u.hasOwnProperty("Type")&&(E.Type=g.enums===String?gy.Data.DataType[u.Type]:u.Type),null!=u.Data&&u.hasOwnProperty("Data")&&(E.Data=g.bytes===String?gg.base64.encode(u.Data,0,u.Data.length):g.bytes===Array?Array.prototype.slice.call(u.Data):u.Data),null!=u.filesize&&u.hasOwnProperty("filesize")&&("number"==typeof u.filesize?E.filesize=g.longs===String?String(u.filesize):u.filesize:E.filesize=g.longs===String?gg.Long.prototype.toString.call(u.filesize):g.longs===Number?new gg.LongBits(u.filesize.low>>>0,u.filesize.high>>>0).toNumber(!0):u.filesize),u.blocksizes&&u.blocksizes.length){E.blocksizes=[];for(var C=0;C<u.blocksizes.length;++C)"number"==typeof u.blocksizes[C]?E.blocksizes[C]=g.longs===String?String(u.blocksizes[C]):u.blocksizes[C]:E.blocksizes[C]=g.longs===String?gg.Long.prototype.toString.call(u.blocksizes[C]):g.longs===Number?new gg.LongBits(u.blocksizes[C].low>>>0,u.blocksizes[C].high>>>0).toNumber(!0):u.blocksizes[C]}return null!=u.hashType&&u.hasOwnProperty("hashType")&&("number"==typeof u.hashType?E.hashType=g.longs===String?String(u.hashType):u.hashType:E.hashType=g.longs===String?gg.Long.prototype.toString.call(u.hashType):g.longs===Number?new gg.LongBits(u.hashType.low>>>0,u.hashType.high>>>0).toNumber(!0):u.hashType),null!=u.fanout&&u.hasOwnProperty("fanout")&&("number"==typeof u.fanout?E.fanout=g.longs===String?String(u.fanout):u.fanout:E.fanout=g.longs===String?gg.Long.prototype.toString.call(u.fanout):g.longs===Number?new gg.LongBits(u.fanout.low>>>0,u.fanout.high>>>0).toNumber(!0):u.fanout),null!=u.mode&&u.hasOwnProperty("mode")&&(E.mode=u.mode),null!=u.mtime&&u.hasOwnProperty("mtime")&&(E.mtime=gy.UnixTime.toObject(u.mtime,g)),E},u.prototype.toJSON=function(){return this.constructor.toObject(this,gh.util.toJSONOptions)},u.DataType=function(){let u={},g=Object.create(u);return g[u[0]="Raw"]=0,g[u[1]="Directory"]=1,g[u[2]="File"]=2,g[u[3]="Metadata"]=3,g[u[4]="Symlink"]=4,g[u[5]="HAMTShard"]=5,g}(),u})(),gy.UnixTime=(()=>{function u(u){if(u)for(var g=Object.keys(u),E=0;E<g.length;++E)null!=u[g[E]]&&(this[g[E]]=u[g[E]])}return u.prototype.Seconds=gg.Long?gg.Long.fromBits(0,0,!1):0,u.prototype.FractionalNanoseconds=0,u.encode=function(u,g){return g||(g=gp.create()),g.uint32(8).int64(u.Seconds),null!=u.FractionalNanoseconds&&Object.hasOwnProperty.call(u,"FractionalNanoseconds")&&g.uint32(21).fixed32(u.FractionalNanoseconds),g},u.decode=function(u,g){u instanceof gd||(u=gd.create(u));for(var E=void 0===g?u.len:u.pos+g,A=new gy.UnixTime;u.pos<E;){var C=u.uint32();switch(C>>>3){case 1:A.Seconds=u.int64();break;case 2:A.FractionalNanoseconds=u.fixed32();break;default:u.skipType(7&C)}}if(!A.hasOwnProperty("Seconds"))throw gg.ProtocolError("missing required 'Seconds'",{instance:A});return A},u.fromObject=function(u){if(u instanceof gy.UnixTime)return u;var g=new gy.UnixTime;return null!=u.Seconds&&(gg.Long?(g.Seconds=gg.Long.fromValue(u.Seconds)).unsigned=!1:"string"==typeof u.Seconds?g.Seconds=parseInt(u.Seconds,10):"number"==typeof u.Seconds?g.Seconds=u.Seconds:"object"==typeof u.Seconds&&(g.Seconds=new gg.LongBits(u.Seconds.low>>>0,u.Seconds.high>>>0).toNumber())),null!=u.FractionalNanoseconds&&(g.FractionalNanoseconds=u.FractionalNanoseconds>>>0),g},u.toObject=function(u,g){g||(g={});var E={};if(g.defaults){if(gg.Long){var A=new gg.Long(0,0,!1);E.Seconds=g.longs===String?A.toString():g.longs===Number?A.toNumber():A}else E.Seconds=g.longs===String?"0":0;E.FractionalNanoseconds=0}return null!=u.Seconds&&u.hasOwnProperty("Seconds")&&("number"==typeof u.Seconds?E.Seconds=g.longs===String?String(u.Seconds):u.Seconds:E.Seconds=g.longs===String?gg.Long.prototype.toString.call(u.Seconds):g.longs===Number?new gg.LongBits(u.Seconds.low>>>0,u.Seconds.high>>>0).toNumber():u.Seconds),null!=u.FractionalNanoseconds&&u.hasOwnProperty("FractionalNanoseconds")&&(E.FractionalNanoseconds=u.FractionalNanoseconds),E},u.prototype.toJSON=function(){return this.constructor.toObject(this,gh.util.toJSONOptions)},u})(),gy.Metadata=(()=>{function u(u){if(u)for(var g=Object.keys(u),E=0;E<g.length;++E)null!=u[g[E]]&&(this[g[E]]=u[g[E]])}return u.prototype.MimeType="",u.encode=function(u,g){return g||(g=gp.create()),null!=u.MimeType&&Object.hasOwnProperty.call(u,"MimeType")&&g.uint32(10).string(u.MimeType),g},u.decode=function(u,g){u instanceof gd||(u=gd.create(u));for(var E=void 0===g?u.len:u.pos+g,A=new gy.Metadata;u.pos<E;){var C=u.uint32();C>>>3==1?A.MimeType=u.string():u.skipType(7&C)}return A},u.fromObject=function(u){if(u instanceof gy.Metadata)return u;var g=new gy.Metadata;return null!=u.MimeType&&(g.MimeType=String(u.MimeType)),g},u.toObject=function(u,g){g||(g={});var E={};return g.defaults&&(E.MimeType=""),null!=u.MimeType&&u.hasOwnProperty("MimeType")&&(E.MimeType=u.MimeType),E},u.prototype.toJSON=function(){return this.constructor.toObject(this,gh.util.toJSONOptions)},u})(),parseInt("0644",8),parseInt("0755",8);var gC=E(4579);function gS(u){return u.filter(Boolean)}function gk(...u){return(0,gC.anySignal)(gS(u))}let gU=pM(u=>{async function g(E,A={}){let C;let S=new AbortController,U=gk(S.signal,A.signal);try{let g=await u.post("block/put",{signal:U,searchParams:pq(A),...await gx([E],S,A.headers)});C=await g.json()}catch(u){if("dag-pb"===A.format)return g(E,{...A,format:"protobuf"});if("dag-cbor"===A.format)return g(E,{...A,format:"cbor"});throw u}return an.parse(C.Key)}return g}),gP=pM(u=>async function*(g,E={}){Array.isArray(g)||(g=[g]);let A=await u.post("block/rm",{signal:E.signal,searchParams:pq({arg:g.map(u=>u.toString()),"stream-channels":!0,...E}),headers:E.headers});for await(let u of A.ndjson())yield gT(u)});function gT(u){let g={cid:an.parse(u.Hash)};return u.Error&&(g.error=Error(u.Error)),g}let gI=pM(u=>async function(g,E={}){let A=await u.post("block/stat",{signal:E.signal,searchParams:pq({arg:g.toString(),...E}),headers:E.headers}),C=await A.json();return{cid:an.parse(C.Key),size:C.Size}});function gN(u){return{get:gt(u),put:gU(u),rm:gP(u),stat:gI(u)}}let gj=pM(u=>async function(g,E={}){let A=await u.post("bootstrap/add",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),{Peers:C}=await A.json();return{Peers:C.map(u=>c0(u))}}),g$=pM(u=>async function(g={}){let E=await u.post("bootstrap/rm",{signal:g.signal,searchParams:pq({...g,all:!0}),headers:g.headers}),{Peers:A}=await E.json();return{Peers:A.map(u=>c0(u))}}),gD=pM(u=>async function(g={}){let E=await u.post("bootstrap/list",{signal:g.signal,searchParams:pq(g),headers:g.headers}),{Peers:A}=await E.json();return{Peers:A.map(u=>c0(u))}}),gB=pM(u=>async function(g={}){let E=await u.post("bootstrap/add",{signal:g.signal,searchParams:pq({...g,default:!0}),headers:g.headers}),{Peers:A}=await E.json();return{Peers:A.map(u=>c0(u))}}),gL=pM(u=>async function(g,E={}){let A=await u.post("bootstrap/rm",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),{Peers:C}=await A.json();return{Peers:C.map(u=>c0(u))}});function gO(u){return{add:gj(u),clear:g$(u),list:gD(u),reset:gB(u),rm:gL(u)}}let gz=pM(u=>async function(g,E={}){let A=await u.post("config/profile/apply",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),C=await A.json();return{original:C.OldCfg,updated:C.NewCfg}});function g_(u){if(null==u)return u;let g=/^[A-Z]+$/,E={};return Object.keys(u).reduce((E,A)=>(g.test(A)?E[A.toLowerCase()]=u[A]:g.test(A[0])?E[A[0].toLowerCase()+A.slice(1)]=u[A]:E[A]=u[A],E),E)}let gR=pM(u=>async function(g={}){let E=await u.post("config/profile/list",{signal:g.signal,searchParams:pq(g),headers:g.headers}),A=await E.json();return A.map(u=>g_(u))});function gF(u){return{apply:gz(u),list:gR(u)}}let gM=pM(u=>{let g=async(g,E={})=>{if(!g)throw Error("key argument is required");let A=await u.post("config",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),C=await A.json();return C.Value};return g}),gV=pM(u=>{let g=async(g={})=>{let E=await u.post("config/show",{signal:g.signal,searchParams:pq({...g}),headers:g.headers}),A=await E.json();return A};return g}),gH=pM(u=>{let g=async(g,E={})=>{let A=new AbortController,C=gk(A.signal,E.signal),S=await u.post("config/replace",{signal:C,searchParams:pq(E),...await gx([cl(JSON.stringify(g))],A,E.headers)});await S.text()};return g}),gq=pM(u=>{let g=async(g,E,A={})=>{if("string"!=typeof g)throw Error("Invalid key type");let C={...A,...gJ(g,E)},S=await u.post("config",{signal:A.signal,searchParams:pq(C),headers:A.headers});await S.text()};return g}),gJ=(u,g)=>{switch(typeof g){case"boolean":return{arg:[u,g.toString()],bool:!0};case"string":return{arg:[u,g]};default:return{arg:[u,JSON.stringify(g)],json:!0}}};function gW(u){return{getAll:gV(u),get:gM(u),set:gq(u),replace:gH(u),profiles:gF(u)}}let gG=pM(u=>async function*(g,E={}){let A=await u.post("dag/export",{signal:E.signal,searchParams:pq({arg:g.toString()}),headers:E.headers});yield*A.iterator()});async function*gK(u,g,E,A,C){let S=async u=>{let g=await E.getCodec(u.code),S=await A(u,C);return g.decode(S)},U=g.split("/").filter(Boolean),P=await S(u),T=u;for(;U.length;){let u=U.shift();if(!u)throw cH(Error(`Could not resolve path "${g}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(P,u))P=P[u],yield{value:P,remainderPath:U.join("/")};else throw cH(Error(`no link named "${u}" under ${T}`),"ERR_NO_LINK");let E=an.asCID(P);E&&(T=E,P=await S(P))}yield{value:P,remainderPath:""}}async function gQ(u){for await(let g of u)return g}async function gX(u){let g;for await(let E of u)g=E;return g}let gZ=(u,g)=>{let E=pM((g,E)=>{let A=gt(E),C=async(g,E={})=>{if(E.path){let C=E.localResolve?await gQ(gK(g,E.path,u,A,E)):await gX(gK(g,E.path,u,A,E)),S=C;if(!S)throw cH(Error("Not found"),"ERR_NOT_FOUND");return S}let C=await u.getCodec(g.code),S=await A(g,E),U=C.decode(S);return{value:U,remainderPath:""}};return C});return E(g)},gY=pM(u=>async function*(g,E={}){let A=new AbortController,C=gk(A.signal,E.signal),{headers:S,body:U}=await gx(g,A,E.headers),P=await u.post("dag/import",{signal:C,headers:S,body:U,searchParams:pq({"pin-roots":E.pinRoots})});for await(let{Root:u}of P.ndjson())if(void 0!==u){let{Cid:{"/":g},PinErrorMsg:E}=u;yield{root:{cid:an.parse(g),pinErrorMsg:E}}}}),g0=(u,g)=>{let E=pM(g=>{let E=async(E,A={})=>{let C;let S={storeCodec:"dag-cbor",hashAlg:"sha2-256",...A};if(S.inputCodec){if(!(E instanceof Uint8Array))throw Error("Can only inputCodec on raw bytes that can be decoded");C=E}else{let g=await u.getCodec(S.storeCodec);C=g.encode(E),S.inputCodec=S.storeCodec}let U=new AbortController,P=gk(U.signal,S.signal),T=await g.post("dag/put",{timeout:S.timeout,signal:P,searchParams:pq(S),...await gx([C],U,S.headers)}),I=await T.json();return an.parse(I.Cid["/"])};return E});return E(g)},g1=pM(u=>{let g=async(g,E={})=>{let A=await u.post("dag/resolve",{signal:E.signal,searchParams:pq({arg:`${g}${E.path?`/${E.path}`.replace(/\/[/]+/g,"/"):""}`,...E}),headers:E.headers}),C=await A.json();return{cid:an.parse(C.Cid["/"]),remainderPath:C.RemPath}};return g});function g2(u,g){return{export:gG(g),get:gZ(u,g),import:gY(g),put:g0(u,g),resolve:g1(g)}}let g5=0,g8=1,g6=2,g4=3,g3=4,g7=5,g9=6,ye=7,yt=u=>{if(u.Type===g5)return{name:"SENDING_QUERY",type:u.Type};if(u.Type===g8)return{from:p8(u.ID),name:"PEER_RESPONSE",type:u.Type,messageType:0,messageName:"PUT_VALUE",closer:(u.Responses||[]).map(({ID:u,Addrs:g})=>({id:p8(u),multiaddrs:g.map(u=>c0(u)),protocols:[]})),providers:(u.Responses||[]).map(({ID:u,Addrs:g})=>({id:p8(u),multiaddrs:g.map(u=>c0(u)),protocols:[]}))};if(u.Type===g6){let g={id:u.ID??p8(u.ID),multiaddrs:[],protocols:[]};return u.Responses&&u.Responses.length&&(g={id:p8(u.Responses[0].ID),multiaddrs:u.Responses[0].Addrs.map(u=>c0(u)),protocols:[]}),{name:"FINAL_PEER",type:u.Type,peer:g}}if(u.Type===g4)return{name:"QUERY_ERROR",type:u.Type,error:Error(u.Extra)};if(u.Type===g3)return{name:"PROVIDER",type:u.Type,providers:u.Responses.map(({ID:u,Addrs:g})=>({id:p8(u),multiaddrs:g.map(u=>c0(u)),protocols:[]}))};if(u.Type===g7)return{name:"VALUE",type:u.Type,value:cl(u.Extra,"base64pad")};if(u.Type===g9){let g=u.Responses.map(({ID:u})=>p8(u));if(!g.length)throw Error("No peer found");return{name:"ADDING_PEER",type:u.Type,peer:g[0]}}if(u.Type===ye)return{name:"DIALING_PEER",type:u.Type,peer:p8(u.ID)};throw Error("Unknown DHT event type")},yr=pM(u=>async function*(g,E={}){let A=await u.post("dht/findpeer",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers});for await(let u of A.ndjson())yield yt(u)}),yn=pM(u=>async function*(g,E={}){let A=await u.post("dht/findprovs",{signal:E.signal,searchParams:pq({arg:g.toString(),...E}),headers:E.headers});for await(let u of A.ndjson())yield yt(u)}),yi=pM(u=>async function*(g,E={}){let A=await u.post("dht/get",{signal:E.signal,searchParams:pq({arg:g instanceof Uint8Array?l3(g):g.toString(),...E}),headers:E.headers});for await(let u of A.ndjson())yield yt(u)}),yo=pM(u=>async function*(g,E={recursive:!1}){let A=Array.isArray(g)?g:[g],C=await u.post("dht/provide",{signal:E.signal,searchParams:pq({arg:A.map(u=>u.toString()),...E}),headers:E.headers});for await(let u of C.ndjson())yield yt(u)}),ys=pM(u=>async function*(g,E,A={}){let C=new AbortController,S=gk(C.signal,A.signal),U=await u.post("dht/put",{signal:S,searchParams:pq({arg:g instanceof Uint8Array?l3(g):g.toString(),...A}),...await gx([E],C,A.headers)});for await(let u of U.ndjson())yield yt(u)}),ya=pM(u=>async function*(g,E={}){let A=await u.post("dht/query",{signal:E.signal,searchParams:pq({arg:g.toString(),...E}),headers:E.headers});for await(let u of A.ndjson())yield yt(u)});function yu(u){return{findPeer:yr(u),findProvs:yn(u),get:yi(u),provide:yo(u),put:ys(u),query:ya(u)}}let yl=pM(u=>async function(g={}){let E=await u.post("diag/cmds",{signal:g.signal,searchParams:pq(g),headers:g.headers});return E.json()}),yc=pM(u=>async function(g={}){let E=await u.post("diag/net",{signal:g.signal,searchParams:pq(g),headers:g.headers});return E.json()}),yf=pM(u=>async function(g={}){let E=await u.post("diag/sys",{signal:g.signal,searchParams:pq(g),headers:g.headers});return E.json()});function yh(u){return{cmds:yl(u),net:yc(u),sys:yf(u)}}let yd=pM(u=>async function(g,E,A={}){let C=await u.post("files/chmod",{signal:A.signal,searchParams:pq({arg:g,mode:E,...A}),headers:A.headers});await C.text()}),yp=pM(u=>async function(g,E,A={}){let C=Array.isArray(g)?g:[g],S=await u.post("files/cp",{signal:A.signal,searchParams:pq({arg:C.concat(E).map(u=>an.asCID(u)?`/ipfs/${u}`:u),...A}),headers:A.headers});await S.text()}),yg=pM(u=>async function(g,E={}){if(!g||"string"!=typeof g)throw Error("ipfs.files.flush requires a path");let A=await u.post("files/flush",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),C=await A.json();return an.parse(C.Cid)});function yy(u){let g=g_(u);return Object.prototype.hasOwnProperty.call(g,"mode")&&(g.mode=parseInt(g.mode,8)),Object.prototype.hasOwnProperty.call(g,"mtime")&&(g.mtime={secs:g.mtime,nsecs:g.mtimeNsecs||0},delete g.mtimeNsecs),g}let yb=pM(u=>async function*(g,E={}){if(!g)throw Error("ipfs.files.ls requires a path");let A=await u.post("files/ls",{signal:E.signal,searchParams:pq({arg:an.asCID(g)?`/ipfs/${g}`:g,long:!0,...E,stream:!0}),headers:E.headers});for await(let u of A.ndjson())if("Entries"in u)for(let g of u.Entries||[])yield ym(yy(g));else yield ym(yy(u))});function ym(u){return u.hash&&(u.cid=an.parse(u.hash)),delete u.hash,u.type=1===u.type?"directory":"file",u}let yw=pM(u=>async function(g,E={}){let A=await u.post("files/mkdir",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers});await A.text()}),yv=pM(u=>async function(g,E,A={}){Array.isArray(g)||(g=[g]);let C=await u.post("files/mv",{signal:A.signal,searchParams:pq({arg:g.concat(E),...A}),headers:A.headers});await C.text()});var yE=E(4925);let yA=pM(u=>async function*(g,E={}){let A=await u.post("files/read",{signal:E.signal,searchParams:pq({arg:g,count:E.length,...E}),headers:E.headers});yield*yE(A.body)}),yx=pM(u=>async function(g,E={}){let A=await u.post("files/rm",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),C=await A.text();if(""!==C){let u=new ft.HTTPError(A);throw u.message=C,u}}),yC=pM(u=>async function(g,E={}){let A=await u.post("files/stat",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),C=await A.json();return C.WithLocality=C.WithLocality||!1,yS(yy(C))});function yS(u){return u.cid=an.parse(u.hash),delete u.hash,u}let yk=pM(u=>async function(g,E={}){let A=await u.post("files/touch",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers});await A.text()}),yU=pM(u=>async function(g,E,A={}){let C=new AbortController,S=gk(C.signal,A.signal),U=await u.post("files/write",{signal:S,searchParams:pq({arg:g,streamChannels:!0,count:A.length,...A}),...await gx([{content:E,path:"arg",mode:pV(A.mode),mtime:pH(A.mtime)}],C,A.headers)});await U.text()});function yP(u){return{chmod:yd(u),cp:yp(u),flush:yg(u),ls:yb(u),mkdir:yw(u),mv:yv(u),read:yA(u),rm:yx(u),stat:yC(u),touch:yk(u),write:yU(u)}}let yT=pM(u=>{let g=async(u,g,E={})=>{throw cH(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")};return g}),yI=pM(u=>async function(g,E){let A=E??{type:"Ed25519"},C=await u.post("key/gen",{signal:A.signal,searchParams:pq({arg:g,...A}),headers:A.headers}),S=await C.json();return g_(S)}),yN=pM(u=>async function(g,E,A,C={}){let S=await u.post("key/import",{signal:C.signal,searchParams:pq({arg:g,pem:E,password:A,...C}),headers:C.headers}),U=await S.json();return g_(U)}),yj=pM(u=>{let g=async(u,g={})=>{throw cH(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")};return g}),y$=pM(u=>async function(g={}){let E=await u.post("key/list",{signal:g.signal,searchParams:pq(g),headers:g.headers}),A=await E.json();return(A.Keys||[]).map(u=>g_(u))}),yD=pM(u=>async function(g,E,A={}){let C=await u.post("key/rename",{signal:A.signal,searchParams:pq({arg:[g,E],...A}),headers:A.headers});return g_(await C.json())}),yB=pM(u=>async function(g,E={}){let A=await u.post("key/rm",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),C=await A.json();return g_(C.Keys[0])});function yL(u){return{export:yT(u),gen:yI(u),import:yN(u),info:yj(u),list:y$(u),rename:yD(u),rm:yB(u)}}let yO=pM(u=>async function(g,E,A={}){let C=await u.post("log/level",{signal:A.signal,searchParams:pq({arg:[g,E],...A}),headers:A.headers});return g_(await C.json())}),yz=pM(u=>async function(g={}){let E=await u.post("log/ls",{signal:g.signal,searchParams:pq(g),headers:g.headers}),A=await E.json();return A.Strings}),y_=pM(u=>async function*(g={}){let E=await u.post("log/tail",{signal:g.signal,searchParams:pq(g),headers:g.headers});yield*E.ndjson()});function yR(u){return{level:yO(u),ls:yz(u),tail:y_(u)}}let yF=pM(u=>async function(g,E={}){let A=await u.post("name/publish",{signal:E.signal,searchParams:pq({arg:`${g}`,...E}),headers:E.headers});return g_(await A.json())}),yM=pM(u=>async function*(g,E={}){let A=await u.post("name/resolve",{signal:E.signal,searchParams:pq({arg:g,stream:!0,...E}),headers:E.headers});for await(let u of A.ndjson())yield u.Path}),yV=pM(u=>async function(g,E={}){let A=await u.post("name/pubsub/cancel",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers});return g_(await A.json())}),yH=pM(u=>async function(g={}){let E=await u.post("name/pubsub/state",{signal:g.signal,searchParams:pq(g),headers:g.headers});return g_(await E.json())}),yq=pM(u=>async function(g={}){let E=await u.post("name/pubsub/subs",{signal:g.signal,searchParams:pq(g),headers:g.headers}),A=await E.json();return A.Strings||[]});function yJ(u){return{cancel:yV(u),state:yH(u),subs:yq(u)}}function yW(u){return{publish:yF(u),resolve:yM(u),pubsub:yJ(u)}}let yG=pM(u=>async function(g,E={}){let A=await u.post("object/data",{signal:E.signal,searchParams:pq({arg:`${g instanceof Uint8Array?an.decode(g):g}`,...E}),headers:E.headers}),C=await A.arrayBuffer();return new Uint8Array(C,0,C.byteLength)}),yK=pM(u=>async function(g,E={}){let A=await u.post("object/get",{signal:E.signal,searchParams:pq({arg:`${g instanceof Uint8Array?an.decode(g):g}`,dataEncoding:"base64",...E}),headers:E.headers}),C=await A.json();return{Data:cl(C.Data,"base64pad"),Links:(C.Links||[]).map(u=>({Name:u.Name,Hash:an.parse(u.Hash),Tsize:u.Size}))}}),yQ=pM(u=>async function(g,E={}){let A=await u.post("object/links",{signal:E.signal,searchParams:pq({arg:`${g instanceof Uint8Array?an.decode(g):g}`,...E}),headers:E.headers}),C=await A.json();return(C.Links||[]).map(u=>({Name:u.Name,Tsize:u.Size,Hash:an.parse(u.Hash)}))}),yX=pM(u=>async function(g={}){let E=await u.post("object/new",{signal:g.signal,searchParams:pq({arg:g.template,...g}),headers:g.headers}),{Hash:A}=await E.json();return an.parse(A)}),yZ=(u,g)=>{let E=pM(E=>{let A=g0(u,g);return async function(u,g={}){return A(u,{...g,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}});return E(g)},yY=pM(u=>async function(g,E={}){let A=await u.post("object/stat",{signal:E.signal,searchParams:pq({arg:`${g}`,...E}),headers:E.headers}),C=await A.json();return{...C,Hash:an.parse(C.Hash)}}),y0=pM(u=>async function(g,E,A={}){let C=await u.post("object/patch/add-link",{signal:A.signal,searchParams:pq({arg:[`${g}`,E.Name||E.name||"",(E.Hash||E.cid||"").toString()||null],...A}),headers:A.headers}),{Hash:S}=await C.json();return an.parse(S)}),y1=pM(u=>async function(g,E,A={}){let C=new AbortController,S=gk(C.signal,A.signal),U=await u.post("object/patch/append-data",{signal:S,searchParams:pq({arg:`${g}`,...A}),...await gx([E],C,A.headers)}),{Hash:P}=await U.json();return an.parse(P)}),y2=pM(u=>async function(g,E,A={}){let C=await u.post("object/patch/rm-link",{signal:A.signal,searchParams:pq({arg:[`${g}`,E.Name||E.name||null],...A}),headers:A.headers}),{Hash:S}=await C.json();return an.parse(S)}),y5=pM(u=>async function(g,E,A={}){let C=new AbortController,S=gk(C.signal,A.signal),U=await u.post("object/patch/set-data",{signal:S,searchParams:pq({arg:[`${g}`],...A}),...await gx([E],C,A.headers)}),{Hash:P}=await U.json();return an.parse(P)});function y8(u){return{addLink:y0(u),appendData:y1(u),rmLink:y2(u),setData:y5(u)}}function y6(u,g){return{data:yG(g),get:yK(g),links:yQ(g),new:yX(g),put:yZ(u,g),stat:yY(g),patch:y8(g)}}function y4(u){return Symbol.iterator in u}function y3(u){return Symbol.asyncIterator in u}function y7(u){return null!=an.asCID(u)}async function*y9(u){if(null==u)throw cH(Error(`Unexpected input: ${u}`),"ERR_UNEXPECTED_INPUT");let g=an.asCID(u);if(g){yield be({cid:g});return}if(u instanceof String||"string"==typeof u){yield be({path:u});return}if(null!=u.cid||null!=u.path)return yield be(u);if(y4(u)){let g=u[Symbol.iterator](),E=g.next();if(E.done)return g;if(y7(E.value)){for(let u of(yield be({cid:E.value}),g))yield be({cid:u});return}if(E.value instanceof String||"string"==typeof E.value){for(let u of(yield be({path:E.value}),g))yield be({path:u});return}if(null!=E.value.cid||null!=E.value.path){for(let u of(yield be(E.value),g))yield be(u);return}throw cH(Error("Unexpected input: "+typeof u),"ERR_UNEXPECTED_INPUT")}if(y3(u)){let g=u[Symbol.asyncIterator](),E=await g.next();if(E.done)return g;if(y7(E.value)){for await(let u of(yield be({cid:E.value}),g))yield be({cid:u});return}if(E.value instanceof String||"string"==typeof E.value){for await(let u of(yield be({path:E.value}),g))yield be({path:u});return}if(null!=E.value.cid||null!=E.value.path){for await(let u of(yield be(E.value),g))yield be(u);return}}throw cH(Error("Unexpected input: "+typeof u),"ERR_UNEXPECTED_INPUT")}function be(u){let g=u.cid||`${u.path}`;if(!g)throw cH(Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let E={path:g,recursive:!1!==u.recursive};return null!=u.metadata&&(E.metadata=u.metadata),E}let bt=pM(u=>async function*(g,E={}){for await(let{path:A,recursive:C,metadata:S}of y9(g)){let g=await u.post("pin/add",{signal:E.signal,searchParams:pq({...E,arg:A,recursive:C,metadata:S?JSON.stringify(S):void 0,stream:!0}),headers:E.headers});for await(let u of g.ndjson()){if(u.Pins){for(let g of u.Pins)yield an.parse(g);continue}yield an.parse(u)}}});function br(u){let g=bt(u);return pM(()=>async function(u,E={}){return gX(g([{path:u,...E}],E))})(u)}function bn(u,g,E){let A={type:u,cid:an.parse(g)};return E&&(A.metadata=E),A}let bi=pM(u=>async function*(g={}){let E=[];g.paths&&(E=Array.isArray(g.paths)?g.paths:[g.paths]);let A=await u.post("pin/ls",{signal:g.signal,searchParams:pq({...g,arg:E.map(u=>`${u}`),stream:!0}),headers:g.headers});for await(let u of A.ndjson()){if(u.Keys){for(let g of Object.keys(u.Keys))yield bn(u.Keys[g].Type,g,u.Keys[g].Metadata);return}yield bn(u.Type,u.Cid,u.Metadata)}}),bo=pM(u=>async function*(g,E={}){for await(let{path:A,recursive:C}of y9(g)){let g=new URLSearchParams(E.searchParams);g.append("arg",`${A}`),null!=C&&g.set("recursive",String(C));let S=await u.post("pin/rm",{signal:E.signal,headers:E.headers,searchParams:pq({...E,arg:`${A}`,recursive:C})});for await(let u of S.ndjson()){if(u.Pins){yield*u.Pins.map(u=>an.parse(u));continue}yield an.parse(u)}}}),bs=u=>{let g=bo(u);return pM(()=>async function(u,E={}){return gX(g([{path:u,...E}],E))})(u)},ba=({Name:u,Status:g,Cid:E})=>({cid:an.parse(E),name:u,status:g}),bu=u=>{if("string"==typeof u&&""!==u)return u;throw TypeError("service name must be passed")},bl=u=>{if(an.asCID(u))return u.toString();throw TypeError(`CID instance expected instead of ${typeof u}`)},bc=({service:u,cid:g,name:E,status:A,all:C})=>{let S=pq({service:bu(u),name:E,force:!!C||void 0});if(g)for(let u of g)S.append("cid",bl(u));if(A)for(let u of A)S.append("status",u);return S},bf=({cid:u,service:g,background:E,name:A,origins:C})=>{let S=pq({arg:bl(u),service:bu(g),name:A,background:!!E||void 0});if(C)for(let u of C)S.append("origin",u.toString());return S};function bh(u){return async function(g,{timeout:E,signal:A,headers:C,...S}){let U=await u.post("pin/remote/add",{timeout:E,signal:A,headers:C,searchParams:bf({cid:g,...S})});return ba(await U.json())}}function bd(u){return async function*({timeout:g,signal:E,headers:A,...C}){let S=await u.post("pin/remote/ls",{timeout:g,signal:E,headers:A,searchParams:bc(C)});for await(let u of S.ndjson())yield ba(u)}}function bp(u){return async function({timeout:g,signal:E,headers:A,...C}){await u.post("pin/remote/rm",{timeout:g,signal:E,headers:A,searchParams:bc({...C,all:!1})})}}function bg(u){return async function({timeout:g,signal:E,headers:A,...C}){await u.post("pin/remote/rm",{timeout:g,signal:E,headers:A,searchParams:bc({...C,all:!0})})}}function by(u){let g=String(u);if("undefined"===g)throw Error("endpoint is required");return"/"===g[g.length-1]?g.slice(0,-1):g}function bm(u){return{service:u.Service,endpoint:new URL(u.ApiEndpoint),...u.Stat&&{stat:bw(u.Stat)}}}function bw(u){switch(u.Status){case"valid":{let{Pinning:g,Pinned:E,Queued:A,Failed:C}=u.PinCount;return{status:"valid",pinCount:{queued:A,pinning:g,pinned:E,failed:C}}}case"invalid":return{status:"invalid"};default:return{status:u.Status}}}function bv(u){return async function(g,E){let{endpoint:A,key:C,headers:S,timeout:U,signal:P}=E;await u.post("pin/remote/service/add",{timeout:U,signal:P,searchParams:pq({arg:[g,by(A),C]}),headers:S})}}function bE(u){return async function(g={}){let{stat:E,headers:A,timeout:C,signal:S}=g,U=await u.post("pin/remote/service/ls",{timeout:C,signal:S,headers:A,searchParams:!0===E?pq({stat:E}):void 0}),{RemoteServices:P}=await U.json();return P.map(bm)}}function bA(u){return async function(g,E={}){await u.post("pin/remote/service/rm",{signal:E.signal,headers:E.headers,searchParams:pq({arg:g})})}}function bx(u){let g=new pF(u);return{add:bv(g),ls:bE(g),rm:bA(g)}}function bC(u){let g=new pF(u);return{add:bh(g),ls:bd(g),rm:bp(g),rmAll:bg(g),service:bx(u)}}function bS(u){return{addAll:bt(u),add:br(u),ls:bi(u),rmAll:bo(u),rm:bs(u),remote:bC(u)}}let bk=u=>Array.isArray(u)?u.map(bU):u,bU=u=>l3(bP(u)),bP=u=>sS.decode(u),bT=u=>BigInt(`0x${l3(sS.decode(u),"base16")}`),bI=u=>sS.encode(cl(u)),bN=pM(u=>async function(g={}){let{Strings:E}=await (await u.post("pubsub/ls",{signal:g.signal,searchParams:pq(g),headers:g.headers})).json();return bk(E)||[]}),bj=pM(u=>async function(g,E={}){let A=await u.post("pubsub/peers",{signal:E.signal,searchParams:pq({arg:bI(g),...E}),headers:E.headers}),{Strings:C}=await A.json();return C||[]}),b$=pM(u=>async function(g,E,A={}){let C=pq({arg:bI(g),...A}),S=new AbortController,U=gk(S.signal,A.signal),P=await u.post("pubsub/pub",{signal:U,searchParams:C,...await gx([E],S,A.headers)});await P.text()}),bD=fe("ipfs-http-client:pubsub:subscribe"),bB=(u,g)=>pM(u=>async function(E,A,C={}){let S,U;C.signal=g.subscribe(E,A,C.signal);let P=new Promise((u,g)=>{S=u,U=g}),T=setTimeout(()=>S(),1e3);return u.post("pubsub/sub",{signal:C.signal,searchParams:pq({arg:bI(E),...C}),headers:C.headers}).catch(u=>{g.unsubscribe(E,A),U(u)}).then(u=>{clearTimeout(T),u&&(bL(u,{onMessage:u=>{if(A){if("function"==typeof A){A(u);return}"function"==typeof A.handleEvent&&A.handleEvent(u)}},onEnd:()=>g.unsubscribe(E,A),onError:C.onError}),S())}),P})(u);async function bL(u,{onMessage:g,onEnd:E,onError:A}){A=A||bD;try{for await(let E of u.ndjson())try{if(!E.from)continue;g(null!=E.from&&null!=E.seqno?{type:"signed",from:p8(E.from),data:bP(E.data),sequenceNumber:bT(E.seqno),topic:bU(E.topicIDs[0]),key:bP(E.key??"u"),signature:bP(E.signature??"u")}:{type:"unsigned",data:bP(E.data),topic:bU(E.topicIDs[0])})}catch(u){u.message=`Failed to parse pubsub message: ${u.message}`,A(u,!1,E)}}catch(u){bO(u)||A(u,!0)}finally{E()}}let bO=u=>{switch(u.type){case"aborted":case"abort":return!0;default:return"AbortError"===u.name}},bz=(u,g)=>async function(u,E){g.unsubscribe(u,E)};class b_{constructor(){this._subs=new Map}subscribe(u,g,E){let A=this._subs.get(u)||[];if(A.find(u=>u.handler===g))throw Error(`Already subscribed to ${u} with this handler`);let C=new AbortController;return this._subs.set(u,[{handler:g,controller:C}].concat(A)),E&&E.addEventListener("abort",()=>this.unsubscribe(u,g)),C.signal}unsubscribe(u,g){let E;let A=this._subs.get(u)||[];g?(this._subs.set(u,A.filter(u=>u.handler!==g)),E=A.filter(u=>u.handler===g)):(this._subs.set(u,[]),E=A),(this._subs.get(u)||[]).length||this._subs.delete(u),E.forEach(u=>u.controller.abort())}}function bR(u){let g=new b_;return{ls:bN(u),peers:bj(u),publish:b$(u),subscribe:bB(u,g),unsubscribe:bz(u,g)}}let bF=pM(u=>async function*(g={}){let E=await u.post("refs/local",{signal:g.signal,transform:g_,searchParams:pq(g),headers:g.headers});yield*E.ndjson()}),bM=pM((u,g)=>{let E=async function*(g,E={}){let A=Array.isArray(g)?g:[g],C=await u.post("refs",{signal:E.signal,searchParams:pq({arg:A.map(u=>`${u instanceof Uint8Array?an.decode(u):u}`),...E}),headers:E.headers,transform:g_});yield*C.ndjson()};return Object.assign(E,{local:bF(g)})}),bV=pM(u=>async function*(g={}){let E=await u.post("repo/gc",{signal:g.signal,searchParams:pq(g),headers:g.headers,transform:u=>({err:u.Error?Error(u.Error):null,cid:(u.Key||{})["/"]?an.parse(u.Key["/"]):null})});yield*E.ndjson()}),bH=pM(u=>async function(g={}){let E=await u.post("repo/stat",{signal:g.signal,searchParams:pq(g),headers:g.headers}),A=await E.json();return{numObjects:BigInt(A.NumObjects),repoSize:BigInt(A.RepoSize),repoPath:A.RepoPath,version:A.Version,storageMax:BigInt(A.StorageMax)}}),bq=pM(u=>async function(g={}){let E=await (await u.post("repo/version",{signal:g.signal,searchParams:pq(g),headers:g.headers})).json();return E.Version});function bJ(u){return{gc:bV(u),stat:bH(u),version:bq(u)}}let bW=pM(u=>async function*(g={}){let E=await u.post("stats/bw",{signal:g.signal,searchParams:pq(g),headers:g.headers,transform:u=>({totalIn:BigInt(u.TotalIn),totalOut:BigInt(u.TotalOut),rateIn:parseFloat(u.RateIn),rateOut:parseFloat(u.RateOut)})});yield*E.ndjson()});function bG(u){return{bitswap:p3(u),repo:bH(u),bw:bW(u)}}let bK=pM(u=>async function(g={}){let E=await u.post("swarm/addrs",{signal:g.signal,searchParams:pq(g),headers:g.headers}),{Addrs:A}=await E.json();return Object.keys(A).map(u=>({id:p8(u),addrs:(A[u]||[]).map(u=>c0(u))}))}),bQ=pM(u=>async function(g,E={}){let A=await u.post("swarm/connect",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),{Strings:C}=await A.json();return C||[]}),bX=pM(u=>async function(g,E={}){let A=await u.post("swarm/disconnect",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),{Strings:C}=await A.json();return C||[]}),bZ=pM(u=>async function(g={}){let E=await u.post("swarm/addrs/local",{signal:g.signal,searchParams:pq(g),headers:g.headers}),{Strings:A}=await E.json();return(A||[]).map(u=>c0(u))}),bY=pM(u=>async function(g={}){let E=await u.post("swarm/peers",{signal:g.signal,searchParams:pq(g),headers:g.headers}),{Peers:A}=await E.json();return(A||[]).map(u=>({addr:c0(u.Addr),peer:p8(u.Peer),muxer:u.Muxer,latency:u.Latency,streams:u.Streams,direction:null==u.Direction?void 0:0===u.Direction?"inbound":"outbound"}))});function b0(u){return{addrs:bK(u),connect:bQ(u),disconnect:bX(u),localAddrs:bZ(u),peers:bY(u)}}let b5=pM(u=>async function*(g,E={}){let A=new AbortController,C=gk(A.signal,E.signal),{headers:S,body:U,total:P,parts:T}=await gx(g,A,E.headers),[I,N]="function"==typeof E.progress?b8(P,T,E.progress):[void 0,void 0],$=await u.post("add",{searchParams:pq({"stream-channels":!0,...E,progress:!!I}),onUploadProgress:N,signal:C,headers:S,body:U});for await(let u of $.ndjson())void 0!==(u=g_(u)).hash?yield b4(u):I&&I(u.bytes||0,u.name)}),b8=(u,g,E)=>g?[void 0,b6(u,g,E)]:[E,void 0],b6=(u,g,E)=>{let A=0,C=g.length;return({loaded:S,total:U})=>{let P=Math.floor(S/U*u);for(;A<C;){let{start:u,end:C,name:S}=g[A];if(P<C){E(P-u,S);break}E(C-u,S),A+=1}}};function b4({name:u,hash:g,size:E,mode:A,mtime:C,mtimeNsecs:S}){let U={path:u,cid:an.parse(g),size:parseInt(E)};return null!=A&&(U.mode=parseInt(A,8)),null!=C&&(U.mtime={secs:C,nsecs:S||0}),U}function b3(u){return"function"==typeof u.stream?gn(u.stream()):gn(new Response(u).body)}async function*b7(u){yield u}async function b9(u){if(go(u))return b7(me(u));if("string"==typeof u||u instanceof String)return b7(me(u.toString()));if(gs(u))return b3(u);if(gu(u)&&(u=gn(u)),Symbol.iterator in u||Symbol.asyncIterator in u){let g=gr(u),{value:E,done:A}=await g.peek();if(A)return b7(new Uint8Array(0));if(g.push(E),Number.isInteger(E))return b7(Uint8Array.from(await gi(g)));if(go(E)||"string"==typeof E||E instanceof String)return gf(g,me)}throw cH(Error(`Unexpected input: ${u}`),"ERR_UNEXPECTED_INPUT")}function me(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):u instanceof ArrayBuffer?new Uint8Array(u):Array.isArray(u)?Uint8Array.from(u):cl(u.toString())}async function*mt(u,g){if(null==u)throw cH(Error(`Unexpected input: ${u}`),"ERR_UNEXPECTED_INPUT");if("string"==typeof u||u instanceof String){yield mr(u.toString(),g);return}if(go(u)||gs(u)){yield mr(u,g);return}if(gu(u)&&(u=gn(u)),Symbol.iterator in u||Symbol.asyncIterator in u){let E=gr(u),{value:A,done:C}=await E.peek();if(C){yield{content:[]};return}if(E.push(A),Number.isInteger(A)||go(A)||"string"==typeof A||A instanceof String){yield mr(E,g);return}throw cH(Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(ga(u)){yield mr(u,g);return}throw cH(Error('Unexpected input: cannot convert "'+typeof u+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function mr(u,g){let{path:E,mode:A,mtime:C,content:S}=u,U={path:E||"",mode:gb(A),mtime:gm(C)};return S?U.content=await g(S):E||(U.content=await g(u)),U}function mn(u){return mt(u,b9)}function mi(u){let g=b5(u);return pM(()=>async function(u,E={}){return await gX(g(mn(u),E))})(u)}let mo=pM(u=>async function*(g,E={}){let A=await u.post("cat",{signal:E.signal,searchParams:pq({arg:g.toString(),...E}),headers:E.headers});yield*A.iterator()}),mu=pM(u=>{let g=async(g={})=>{let E=await u.post("commands",{signal:g.signal,searchParams:pq(g),headers:g.headers});return E.json()};return g}),ml=pM(u=>{let g=async(g,E={})=>{let A=await u.post("dns",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),C=await A.json();return C.Path};return g}),mc=pM(u=>()=>{let g=new URL(u.opts.base||"");return{host:g.hostname,port:g.port,protocol:g.protocol,pathname:g.pathname,"api-path":g.pathname}}),mf=pM(u=>async function*(g,E={}){let A={arg:`${g instanceof Uint8Array?an.decode(g):g}`,...E};A.compressionLevel&&(A["compression-level"]=A.compressionLevel,delete A.compressionLevel);let C=await u.post("get",{signal:E.signal,searchParams:pq(A),headers:E.headers});yield*C.iterator()}),md=pM(u=>async function(g={}){let E=await u.post("id",{signal:g.signal,searchParams:pq({arg:g.peerId?g.peerId.toString():void 0,...g}),headers:g.headers}),A=await E.json(),C={...g_(A)};return C.id=p8(C.id),C.addresses&&(C.addresses=C.addresses.map(u=>c0(u))),C}),mp=u=>{let g=md(u);return async function(u={}){let E=await g(u);return!!(E&&E.addresses&&E.addresses.length)}},mg=pM((u,g)=>async function*(E,A={}){let C=`${E instanceof Uint8Array?an.decode(E):E}`;async function S(u){let E=u.Hash;if(E.includes("/")){let u=E.startsWith("/ipfs/")?E:`/ipfs/${E}`,A=await yC(g)(u);E=A.cid}else E=an.parse(E);let A={name:u.Name,path:C+(u.Name?`/${u.Name}`:""),size:u.Size,cid:E,type:my(u)};return u.Mode&&(A.mode=parseInt(u.Mode,8)),void 0!==u.Mtime&&null!==u.Mtime&&(A.mtime={secs:u.Mtime},void 0!==u.MtimeNsecs&&null!==u.MtimeNsecs&&(A.mtime.nsecs=u.MtimeNsecs)),A}let U=await u.post("ls",{signal:A.signal,searchParams:pq({arg:C,...A}),headers:A.headers});for await(let u of U.ndjson()){if(!(u=u.Objects))throw Error("expected .Objects in results");if(!(u=u[0]))throw Error("expected one array in results.Objects");let g=u.Links;if(!Array.isArray(g))throw Error("expected one array in results.Objects[0].Links");if(!g.length){yield S(u);return}yield*g.map(S)}});function my(u){switch(u.Type){case 1:case 5:return"dir";default:return"file"}}let mm=pM(u=>async function(g={}){let E=await u.post("dns",{signal:g.signal,searchParams:pq(g),headers:g.headers});return g_(await E.json())}),mw=pM(u=>async function*(g,E={}){let A=await u.post("ping",{signal:E.signal,searchParams:pq({arg:`${g}`,...E}),headers:E.headers,transform:g_});yield*A.ndjson()}),mv=pM(u=>async function(g,E={}){let A=await u.post("resolve",{signal:E.signal,searchParams:pq({arg:g,...E}),headers:E.headers}),{Path:C}=await A.json();return C}),mE=pM(u=>{let g=async(u={})=>{throw cH(Error("Not implemented"),"ERR_NOT_IMPLEMENTED")};return g}),mA=pM(u=>async function(g={}){let E=await u.post("shutdown",{signal:g.signal,searchParams:pq(g),headers:g.headers});await E.text()}),mx=pM(u=>async function(g={}){let E=await u.post("version",{signal:g.signal,searchParams:pq(g),headers:g.headers});return{...g_(await E.json()),"ipfs-http-client":"1.0.0"}});function mC(u={}){let g={name:aL.name,code:aL.code,encode:u=>u,decode:u=>u},E=Object.values(ur);(u.ipld&&u.ipld.bases?u.ipld.bases:[]).forEach(u=>E.push(u));let A=new eP({bases:E,loadBase:u.ipld&&u.ipld.loadBase}),C=Object.values(ui);[$,D,B,R,g].concat(u.ipld&&u.ipld.codecs||[]).forEach(u=>C.push(u));let S=new eI({codecs:C,loadCodec:u.ipld&&u.ipld.loadCodec}),U=Object.values(un);(u.ipld&&u.ipld.hashers?u.ipld.hashers:[]).forEach(u=>U.push(u));let P=new ej({hashers:U,loadHasher:u.ipld&&u.ipld.loadHasher}),T={add:mi(u),addAll:b5(u),bitswap:ge(u),block:gN(u),bootstrap:gO(u),cat:mo(u),commands:mu(u),config:gW(u),dag:g2(S,u),dht:yu(u),diag:yh(u),dns:ml(u),files:yP(u),get:mf(u),getEndpointConfig:mc(u),id:md(u),isOnline:mp(u),key:yL(u),log:yR(u),ls:mg(u),mount:mm(u),name:yW(u),object:y6(S,u),pin:bS(u),ping:mw(u),pubsub:bR(u),refs:bM(u),repo:bJ(u),resolve:mv(u),start:mE(u),stats:bG(u),stop:mA(u),swarm:b0(u),version:mx(u),bases:A,codecs:S,hashers:P};return T}E(3897),E(9169)}}]);